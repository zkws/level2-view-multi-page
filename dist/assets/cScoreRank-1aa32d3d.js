import{_ as u,a as f,r as m,c as p,b as r,d as b,t as g,w as h,o as v,e as w,V as _}from"./main-fe1c536f.js";const y={data(){return{timer:null,updateTime:null,tableData:[]}},mounted(){this.getCScoreRank(),this.timer=setInterval(this.getCScoreRank,6e4),this.getNowDate()},beforeDestroy(){clearInterval(this.timer)},methods:{rowClassName({row:e}){if(e.highLimitFlag>0)return"row-purple"},getNowDate(){var e=new Date,i=":",d=e.getFullYear(),l=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),n=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];n[e.getDay()],l>=1&&l<=9&&(l="0"+l),o>=0&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),t>=0&&t<=9&&(t="0"+t),this.updateTime=d+"-"+l+"-"+o+" "+a+i+s+i+t},getCScoreRank(){f({method:"post",url:"/getCScoreRank",params:{rank:"cscore"}}).then(e=>{console.log(e.data),this.tableData=e.data,this.getNowDate()}).catch(e=>{console.log(e),this.updateTime="请求失败"})},formatterNum({cellValue:e}){return e=="暂无数据"?e:e+"%"}}},k={style:{width:"1500px"}};function x(e,i,d,l,o,a){const s=m("vxe-button"),t=m("vxe-table-column"),n=m("vxe-table");return v(),p("div",k,[r(s,{onClick:i[0]||(i[0]=N=>a.getCScoreRank()),status:"primary",content:"更新",style:{width:"80px"}}),b("p",null,"更新时间 "+g(o.updateTime),1),r(n,{class:"mytable-style",border:"full",data:o.tableData,"row-class-name":a.rowClassName},{default:h(()=>[r(t,{type:"seq",width:"60",title:"序号"}),r(t,{field:"stkCode",sortable:"",title:"股票代码"}),r(t,{field:"stkName",sortable:"",title:"股票名称"}),r(t,{field:"sw3Code",sortable:"",title:"三级行业代码"}),r(t,{field:"sw3Name",sortable:"",title:"三级行业名称"}),r(t,{field:"compositeScoreAvg",sortable:"",title:"综合得分","sort-type":"number"}),r(t,{field:"compositeScoreRankAvg",sortable:"",title:"综合得分排名","sort-type":"number"}),r(t,{field:"weightedOrderBSRateAvg",sortable:"",title:"加权压托比","sort-type":"number"}),r(t,{field:"transBsRateAvg",sortable:"",title:"买卖比","sort-type":"number"}),r(t,{field:"showCount",sortable:"",title:"出现次数","sort-type":"number"}),r(t,{field:"shortrtn",sortable:"",title:"短期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"middlertn",sortable:"",title:"中期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"longrtn",sortable:"",title:"长期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"product",sortable:"",title:"主要产品",width:"200"}),r(t,{field:"highLimitFlag",sortable:"",title:"涨停标志"})]),_:1},8,["data","row-class-name"])])}const C=u(y,[["render",x]]),c=w(C);c.use(_);c.mount("#app");
