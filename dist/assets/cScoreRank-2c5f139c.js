import{_ as g,a as p,r as m,c as b,b as r,d,t as u,w,o as v,e as y,V as _}from"./main-fe1c536f.js";const k={data(){return{timer:null,updateTime:null,showHighLimit:null,tableData:[]}},mounted(){this.showHighLimit="not-show",this.getCScoreRank(),this.timer=setInterval(this.getCScoreRank,6e4),this.getNowDate()},beforeDestroy(){clearInterval(this.timer)},methods:{rowClassName({row:e}){if(e.highLimitFlag>0)return"row-purple"},getNowDate(){var e=new Date,i=":",h=e.getFullYear(),l=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),n=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];n[e.getDay()],l>=1&&l<=9&&(l="0"+l),o>=0&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),t>=0&&t<=9&&(t="0"+t),this.updateTime=h+"-"+l+"-"+o+" "+a+i+s+i+t},setHighLimit(){this.showHighLimit=="show"?(this.showHighLimit="not-show",this.getCScoreRank()):(this.showHighLimit="show",this.getCScoreRank())},getCScoreRank(){p({method:"post",url:"/getCScoreRank",params:{rank:this.showHighLimit}}).then(e=>{console.log(e.data),this.tableData=e.data,this.getNowDate()}).catch(e=>{console.log(e),this.updateTime="请求失败"})},formatterNum({cellValue:e}){return e=="暂无数据"?e:e+"%"}}},C={style:{width:"1500px"}};function x(e,i,h,l,o,a){const s=m("vxe-button"),t=m("vxe-table-column"),n=m("vxe-table");return v(),b("div",C,[r(s,{onClick:i[0]||(i[0]=f=>a.getCScoreRank()),status:"primary",content:"更新",style:{width:"80px"}}),r(s,{onClick:i[1]||(i[1]=f=>a.setHighLimit()),status:"primary",content:"显示涨停",style:{left:"20px"}}),d("p",null,"更新时间             "+u(o.updateTime),1),d("p",null,"是否显示涨停      "+u(o.showHighLimit),1),r(n,{class:"mytable-style",border:"full",data:o.tableData,"row-class-name":a.rowClassName},{default:w(()=>[r(t,{type:"seq",width:"60",title:"序号"}),r(t,{field:"stkCode",sortable:"",title:"股票代码"}),r(t,{field:"stkName",sortable:"",title:"股票名称"}),r(t,{field:"sw3Code",sortable:"",title:"三级行业代码"}),r(t,{field:"sw3Name",sortable:"",title:"三级行业名称"}),r(t,{field:"compositeScoreAvg",sortable:"",title:"综合得分","sort-type":"number"}),r(t,{field:"compositeScoreRankAvg",sortable:"",title:"综合得分排名","sort-type":"number"}),r(t,{field:"weightedOrderBSRateAvg",sortable:"",title:"加权压托比","sort-type":"number"}),r(t,{field:"transBsRateAvg",sortable:"",title:"买卖比","sort-type":"number"}),r(t,{field:"showCount",sortable:"",title:"出现次数","sort-type":"number"}),r(t,{field:"shortrtn",sortable:"",title:"短期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"middlertn",sortable:"",title:"中期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"longrtn",sortable:"",title:"长期涨跌幅",formatter:a.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"product",sortable:"",title:"主要产品",width:"200"}),r(t,{field:"highLimitFlag",sortable:"",title:"涨停标志"})]),_:1},8,["data","row-class-name"])])}const N=g(k,[["render",x]]),c=y(N);c.use(_);c.mount("#app");
