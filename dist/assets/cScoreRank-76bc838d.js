import{_ as g,a as p,r as m,c as b,b as r,d as u,t as d,w,o as v,e as y,V as k}from"./main-fe1c536f.js";const _={data(){return{timer:null,updateTime:null,showHighLimit:null,tableData:[]}},mounted(){this.showHighLimit="不计入",this.getCScoreRank(),this.timer=setInterval(this.getCScoreRank,6e4),this.getNowDate()},beforeDestroy(){clearInterval(this.timer)},methods:{rowClassName({row:e}){if(e.highLimitFlag>0)return"row-purple"},getNowDate(){var e=new Date,a=":",h=e.getFullYear(),l=e.getMonth()+1,s=e.getDate(),o=e.getHours(),i=e.getMinutes(),t=e.getSeconds(),n=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];n[e.getDay()],l>=1&&l<=9&&(l="0"+l),s>=0&&s<=9&&(s="0"+s),o>=0&&o<=9&&(o="0"+o),i>=0&&i<=9&&(i="0"+i),t>=0&&t<=9&&(t="0"+t),this.updateTime=h+"-"+l+"-"+s+" "+o+a+i+a+t},setHighLimit(){this.showHighLimit=="计入"?(this.showHighLimit="不计入",this.getCScoreRank()):(this.showHighLimit="计入",this.getCScoreRank())},getCScoreRank(){var e=null;this.showHighLimit=="不计入"?e="not-show":e="show",p({method:"post",url:"/getCScoreRank",params:{rank:e}}).then(a=>{console.log(a.data),this.tableData=a.data,this.getNowDate()}).catch(a=>{console.log(a),this.updateTime="请求失败"})},formatterNum({cellValue:e}){return e=="暂无数据"?e:e+"%"}}},C={style:{width:"1500px"}};function x(e,a,h,l,s,o){const i=m("vxe-button"),t=m("vxe-table-column"),n=m("vxe-table");return v(),b("div",C,[r(i,{onClick:a[0]||(a[0]=f=>o.getCScoreRank()),status:"primary",content:"更新",style:{width:"80px"}}),r(i,{onClick:a[1]||(a[1]=f=>o.setHighLimit()),status:"primary",content:"计入涨停",style:{left:"20px"}}),u("p",null,"更新时间             "+d(s.updateTime),1),u("p",null,"是否计入涨停      "+d(s.showHighLimit),1),r(n,{class:"mytable-style",border:"full",data:s.tableData,"row-class-name":o.rowClassName},{default:w(()=>[r(t,{type:"seq",width:"60",title:"序号"}),r(t,{field:"stkCode",sortable:"",title:"股票代码"}),r(t,{field:"stkName",sortable:"",title:"股票名称"}),r(t,{field:"sw3Code",sortable:"",title:"三级行业代码"}),r(t,{field:"sw3Name",sortable:"",title:"三级行业名称"}),r(t,{field:"compositeScoreAvg",sortable:"",title:"得分均值","sort-type":"number"}),r(t,{field:"compositeScoreRankAvg",sortable:"",title:"排名均值","sort-type":"number"}),r(t,{field:"weightedOrderBSRateAvg",sortable:"",title:"加权压托比","sort-type":"number"}),r(t,{field:"transBsRateAvg",sortable:"",title:"买卖比","sort-type":"number"}),r(t,{field:"showCount",sortable:"",title:"出现次数","sort-type":"number"}),r(t,{field:"shortrtn",sortable:"",title:"短期涨跌幅",formatter:o.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"middlertn",sortable:"",title:"中期涨跌幅",formatter:o.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"longrtn",sortable:"",title:"长期涨跌幅",formatter:o.formatterNum,"sort-type":"number"},null,8,["formatter"]),r(t,{field:"product",sortable:"",title:"主要产品",width:"200"}),r(t,{field:"highLimitFlag",sortable:"",title:"当日涨停标志"})]),_:1},8,["data","row-class-name"])])}const N=g(_,[["render",x]]),c=y(N);c.use(k);c.mount("#app");
