(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue"),require("xe-utils")):"function"===typeof define&&define.amd?define([,"xe-utils"],t):"object"===typeof exports?exports["VXETable"]=t(require("vue"),require("xe-utils")):e["VXETable"]=t(e["Vue"],e["XEUtils"])})("undefined"!==typeof self?self:this,(function(e,t){return function(){var o={9662:function(e,t,o){var n=o(614),l=o(6330),r=TypeError;e.exports=function(e){if(n(e))return e;throw r(l(e)+" is not a function")}},9670:function(e,t,o){var n=o(111),l=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw r(l(e)+" is not an object")}},1318:function(e,t,o){var n=o(5656),l=o(1400),r=o(6244),a=function(e){return function(t,o,a){var i,s=n(t),c=r(s),u=l(a,c);if(e&&o!=o){while(c>u)if(i=s[u++],i!=i)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===o)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3658:function(e,t,o){"use strict";var n=o(9781),l=o(3157),r=TypeError,a=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(l(e)&&!a(e,"length").writable)throw r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:function(e,t,o){var n=o(84),l=n({}.toString),r=n("".slice);e.exports=function(e){return r(l(e),8,-1)}},9920:function(e,t,o){var n=o(2597),l=o(3887),r=o(1236),a=o(3070);e.exports=function(e,t,o){for(var i=l(t),s=a.f,c=r.f,u=0;u<i.length;u++){var d=i[u];n(e,d)||o&&n(o,d)||s(e,d,c(t,d))}}},8880:function(e,t,o){var n=o(9781),l=o(3070),r=o(9114);e.exports=n?function(e,t,o){return l.f(e,t,r(1,o))}:function(e,t,o){return e[t]=o,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,o){var n=o(614),l=o(3070),r=o(6339),a=o(3072);e.exports=function(e,t,o,i){i||(i={});var s=i.enumerable,c=void 0!==i.name?i.name:t;if(n(o)&&r(o,c,i),i.global)s?e[t]=o:a(t,o);else{try{i.unsafe?e[t]&&(s=!0):delete e[t]}catch(u){}s?e[t]=o:l.f(e,t,{value:o,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e}},3072:function(e,t,o){var n=o(7854),l=Object.defineProperty;e.exports=function(e,t){try{l(n,e,{value:t,configurable:!0,writable:!0})}catch(o){n[e]=t}return t}},5117:function(e,t,o){"use strict";var n=o(6330),l=TypeError;e.exports=function(e,t){if(!delete e[t])throw l("Cannot delete property "+n(t)+" of "+n(e))}},9781:function(e,t,o){var n=o(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,o="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:o}},317:function(e,t,o){var n=o(7854),l=o(111),r=n.document,a=l(r)&&l(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},7207:function(e){var t=TypeError,o=9007199254740991;e.exports=function(e){if(e>o)throw t("Maximum allowed index exceeded");return e}},8113:function(e,t,o){var n=o(5005);e.exports=n("navigator","userAgent")||""},7392:function(e,t,o){var n,l,r=o(7854),a=o(8113),i=r.process,s=r.Deno,c=i&&i.versions||s&&s.version,u=c&&c.v8;u&&(n=u.split("."),l=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!l&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(l=+n[1]))),e.exports=l},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,o){var n=o(7854),l=o(1236).f,r=o(8880),a=o(8052),i=o(3072),s=o(9920),c=o(4705);e.exports=function(e,t){var o,u,d,p,f,m,h=e.target,g=e.global,v=e.stat;if(u=g?n:v?n[h]||i(h,{}):(n[h]||{}).prototype,u)for(d in t){if(f=t[d],e.dontCallGetSet?(m=l(u,d),p=m&&m.value):p=u[d],o=c(g?d:h+(v?".":"#")+d,e.forced),!o&&void 0!==p){if(typeof f==typeof p)continue;s(f,p)}(e.sham||p&&p.sham)&&r(f,"sham",!0),a(u,d,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4374:function(e,t,o){var n=o(7293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,o){var n=o(4374),l=Function.prototype.call;e.exports=n?l.bind(l):function(){return l.apply(l,arguments)}},6530:function(e,t,o){var n=o(9781),l=o(2597),r=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,i=l(r,"name"),s=i&&"something"===function(){}.name,c=i&&(!n||n&&a(r,"name").configurable);e.exports={EXISTS:i,PROPER:s,CONFIGURABLE:c}},84:function(e,t,o){var n=o(4374),l=Function.prototype,r=l.call,a=n&&l.bind.bind(r,r);e.exports=n?a:function(e){return function(){return r.apply(e,arguments)}}},1702:function(e,t,o){var n=o(4326),l=o(84);e.exports=function(e){if("Function"===n(e))return l(e)}},5005:function(e,t,o){var n=o(7854),l=o(614),r=function(e){return l(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(n[e]):n[e]&&n[e][t]}},8173:function(e,t,o){var n=o(9662),l=o(8554);e.exports=function(e,t){var o=e[t];return l(o)?void 0:n(o)}},7854:function(e,t,o){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof o.g&&o.g)||function(){return this}()||Function("return this")()},2597:function(e,t,o){var n=o(1702),l=o(7908),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(l(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,o){var n=o(9781),l=o(7293),r=o(317);e.exports=!n&&!l((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,o){var n=o(1702),l=o(7293),r=o(4326),a=Object,i=n("".split);e.exports=l((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i(e,""):a(e)}:a},2788:function(e,t,o){var n=o(1702),l=o(614),r=o(5465),a=n(Function.toString);l(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},9909:function(e,t,o){var n,l,r,a=o(4811),i=o(7854),s=o(111),c=o(8880),u=o(2597),d=o(5465),p=o(6200),f=o(3501),m="Object already initialized",h=i.TypeError,g=i.WeakMap,v=function(e){return r(e)?l(e):n(e,{})},x=function(e){return function(t){var o;if(!s(t)||(o=l(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return o}};if(a||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,n=function(e,t){if(b.has(e))throw h(m);return t.facade=e,b.set(e,t),t},l=function(e){return b.get(e)||{}},r=function(e){return b.has(e)}}else{var w=p("state");f[w]=!0,n=function(e,t){if(u(e,w))throw h(m);return t.facade=e,c(e,w,t),t},l=function(e){return u(e,w)?e[w]:{}},r=function(e){return u(e,w)}}e.exports={set:n,get:l,has:r,enforce:v,getterFor:x}},3157:function(e,t,o){var n=o(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},614:function(e,t,o){var n=o(4154),l=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===l}:function(e){return"function"==typeof e}},4705:function(e,t,o){var n=o(7293),l=o(614),r=/#|\.prototype\./,a=function(e,t){var o=s[i(e)];return o==u||o!=c&&(l(t)?n(t):!!t)},i=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,o){var n=o(614),l=o(4154),r=l.all;e.exports=l.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===r}:function(e){return"object"==typeof e?null!==e:n(e)}},1913:function(e){e.exports=!1},2190:function(e,t,o){var n=o(5005),l=o(614),r=o(7976),a=o(3307),i=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return l(t)&&r(t.prototype,i(e))}},6244:function(e,t,o){var n=o(7466);e.exports=function(e){return n(e.length)}},6339:function(e,t,o){var n=o(7293),l=o(614),r=o(2597),a=o(9781),i=o(6530).CONFIGURABLE,s=o(2788),c=o(9909),u=c.enforce,d=c.get,p=Object.defineProperty,f=a&&!n((function(){return 8!==p((function(){}),"length",{value:8}).length})),m=String(String).split("String"),h=e.exports=function(e,t,o){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(t="get "+t),o&&o.setter&&(t="set "+t),(!r(e,"name")||i&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),f&&o&&r(o,"arity")&&e.length!==o.arity&&p(e,"length",{value:o.arity});try{o&&r(o,"constructor")&&o.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(l){}var n=u(e);return r(n,"source")||(n.source=m.join("string"==typeof t?t:"")),e};Function.prototype.toString=h((function(){return l(this)&&d(this).source||s(this)}),"toString")},4758:function(e){var t=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?o:t)(n)}},3070:function(e,t,o){var n=o(9781),l=o(4664),r=o(3353),a=o(9670),i=o(4948),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=n?r?function(e,t,o){if(a(e),t=i(t),a(o),"function"===typeof e&&"prototype"===t&&"value"in o&&f in o&&!o[f]){var n=u(e,t);n&&n[f]&&(e[t]=o.value,o={configurable:p in o?o[p]:n[p],enumerable:d in o?o[d]:n[d],writable:!1})}return c(e,t,o)}:c:function(e,t,o){if(a(e),t=i(t),a(o),l)try{return c(e,t,o)}catch(n){}if("get"in o||"set"in o)throw s("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},1236:function(e,t,o){var n=o(9781),l=o(6916),r=o(5296),a=o(9114),i=o(5656),s=o(4948),c=o(2597),u=o(4664),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=i(e),t=s(t),u)try{return d(e,t)}catch(o){}if(c(e,t))return a(!l(r.f,e,t),e[t])}},8006:function(e,t,o){var n=o(6324),l=o(748),r=l.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,o){var n=o(1702);e.exports=n({}.isPrototypeOf)},6324:function(e,t,o){var n=o(1702),l=o(2597),r=o(5656),a=o(1318).indexOf,i=o(3501),s=n([].push);e.exports=function(e,t){var o,n=r(e),c=0,u=[];for(o in n)!l(i,o)&&l(n,o)&&s(u,o);while(t.length>c)l(n,o=t[c++])&&(~a(u,o)||s(u,o));return u}},5296:function(e,t){"use strict";var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,l=n&&!o.call({1:2},1);t.f=l?function(e){var t=n(this,e);return!!t&&t.enumerable}:o},2140:function(e,t,o){var n=o(6916),l=o(614),r=o(111),a=TypeError;e.exports=function(e,t){var o,i;if("string"===t&&l(o=e.toString)&&!r(i=n(o,e)))return i;if(l(o=e.valueOf)&&!r(i=n(o,e)))return i;if("string"!==t&&l(o=e.toString)&&!r(i=n(o,e)))return i;throw a("Can't convert object to primitive value")}},3887:function(e,t,o){var n=o(5005),l=o(1702),r=o(8006),a=o(5181),i=o(9670),s=l([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(i(e)),o=a.f;return o?s(t,o(e)):t}},4488:function(e,t,o){var n=o(8554),l=TypeError;e.exports=function(e){if(n(e))throw l("Can't call method on "+e);return e}},6200:function(e,t,o){var n=o(2309),l=o(9711),r=n("keys");e.exports=function(e){return r[e]||(r[e]=l(e))}},5465:function(e,t,o){var n=o(7854),l=o(3072),r="__core-js_shared__",a=n[r]||l(r,{});e.exports=a},2309:function(e,t,o){var n=o(1913),l=o(5465);(e.exports=function(e,t){return l[e]||(l[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,o){var n=o(7392),l=o(7293);e.exports=!!Object.getOwnPropertySymbols&&!l((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:function(e,t,o){var n=o(9303),l=Math.max,r=Math.min;e.exports=function(e,t){var o=n(e);return o<0?l(o+t,0):r(o,t)}},5656:function(e,t,o){var n=o(8361),l=o(4488);e.exports=function(e){return n(l(e))}},9303:function(e,t,o){var n=o(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},7466:function(e,t,o){var n=o(9303),l=Math.min;e.exports=function(e){return e>0?l(n(e),9007199254740991):0}},7908:function(e,t,o){var n=o(4488),l=Object;e.exports=function(e){return l(n(e))}},7593:function(e,t,o){var n=o(6916),l=o(111),r=o(2190),a=o(8173),i=o(2140),s=o(5112),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!l(e)||r(e))return e;var o,s=a(e,u);if(s){if(void 0===t&&(t="default"),o=n(s,e,t),!l(o)||r(o))return o;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},4948:function(e,t,o){var n=o(7593),l=o(2190);e.exports=function(e){var t=n(e,"string");return l(t)?t:t+""}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(o){return"Object"}}},9711:function(e,t,o){var n=o(1702),l=0,r=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++l+r,36)}},3307:function(e,t,o){var n=o(6293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,o){var n=o(9781),l=o(7293);e.exports=n&&l((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,o){var n=o(7854),l=o(614),r=n.WeakMap;e.exports=l(r)&&/native code/.test(String(r))},5112:function(e,t,o){var n=o(7854),l=o(2309),r=o(2597),a=o(9711),i=o(6293),s=o(3307),c=l("wks"),u=n.Symbol,d=u&&u["for"],p=s?u:u&&u.withoutSetter||a;e.exports=function(e){if(!r(c,e)||!i&&"string"!=typeof c[e]){var t="Symbol."+e;i&&r(u,e)?c[e]=u[e]:c[e]=s&&d?d(t):p(t)}return c[e]}},7658:function(e,t,o){"use strict";var n=o(2109),l=o(7908),r=o(6244),a=o(3658),i=o(7207),s=o(7293),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(e){var t=l(this),o=r(t),n=arguments.length;i(o+n);for(var s=0;s<n;s++)t[o]=arguments[s],o++;return a(t,o),o}})},541:function(e,t,o){"use strict";var n=o(2109),l=o(7908),r=o(6244),a=o(3658),i=o(5117),s=o(7207),c=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||u},{unshift:function(e){var t=l(this),o=r(t),n=arguments.length;if(n){s(o+n);var c=o;while(c--){var u=c+n;c in t?t[u]=t[c]:i(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return a(t,o+n)}})},7203:function(t){"use strict";t.exports=e},4980:function(e){"use strict";e.exports=t}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,l),r.exports}!function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p=""}();var r={};return function(){"use strict";l.r(r),l.d(r,{Button:function(){return Il},Checkbox:function(){return pl},CheckboxGroup:function(){return hl},Colgroup:function(){return Kn},Column:function(){return Yn},Edit:function(){return co},Export:function(){return Tn},Filter:function(){return qt},Form:function(){return ur},FormGather:function(){return vr},FormItem:function(){return mr},Grid:function(){return ll},Header:function(){return ta},Icon:function(){return Fn},Input:function(){return El},Keyboard:function(){return On},List:function(){return Wr},Menu:function(){return lo},Modal:function(){return Hl},Optgroup:function(){return Or},Option:function(){return Mr},Pager:function(){return ul},Pulldown:function(){return Yr},Radio:function(){return vl},RadioButton:function(){return Cl},RadioGroup:function(){return bl},Select:function(){return br},Switch:function(){return Lr},Table:function(){return fa},Textarea:function(){return Ol},Toolbar:function(){return il},Tooltip:function(){return Wl},VXETable:function(){return Lt},Validator:function(){return Ln},VxeButton:function(){return $l},VxeCheckbox:function(){return dl},VxeCheckboxGroup:function(){return ml},VxeColgroup:function(){return Gn},VxeColumn:function(){return Un},VxeForm:function(){return cr},VxeFormGather:function(){return gr},VxeFormItem:function(){return fr},VxeGrid:function(){return nl},VxeIcon:function(){return Pn},VxeInput:function(){return Tl},VxeList:function(){return zr},VxeModal:function(){return _l},VxeModuleEdit:function(){return so},VxeModuleExport:function(){return Cn},VxeModuleFilter:function(){return Wt},VxeModuleKeyboard:function(){return kn},VxeModuleMenu:function(){return no},VxeModuleValidator:function(){return Nn},VxeOptgroup:function(){return kr},VxeOption:function(){return Ir},VxePager:function(){return cl},VxePulldown:function(){return Ur},VxeRadio:function(){return gl},VxeRadioButton:function(){return yl},VxeRadioGroup:function(){return xl},VxeSelect:function(){return xr},VxeSwitch:function(){return Nr},VxeTable:function(){return pa},VxeTextarea:function(){return kl},VxeToolbar:function(){return al},VxeTooltip:function(){return zl},_t:function(){return It},commands:function(){return yt},config:function(){return Dt},default:function(){return xa},formats:function(){return Tt},hooks:function(){return Et},install:function(){return ga},interceptor:function(){return h},menus:function(){return Ct},modal:function(){return jl},print:function(){return yn},readFile:function(){return Bo},renderer:function(){return xt},saveFile:function(){return Yo},setup:function(){return St},t:function(){return $t},use:function(){return Ot},v:function(){return Nt}});var e={};if(l.r(e),l.d(e,{Button:function(){return Il},Checkbox:function(){return pl},CheckboxGroup:function(){return hl},Colgroup:function(){return Kn},Column:function(){return Yn},Edit:function(){return co},Export:function(){return Tn},Filter:function(){return qt},Form:function(){return ur},FormGather:function(){return vr},FormItem:function(){return mr},Grid:function(){return ll},Header:function(){return ta},Icon:function(){return Fn},Input:function(){return El},Keyboard:function(){return On},List:function(){return Wr},Menu:function(){return lo},Modal:function(){return Hl},Optgroup:function(){return Or},Option:function(){return Mr},Pager:function(){return ul},Pulldown:function(){return Yr},Radio:function(){return vl},RadioButton:function(){return Cl},RadioGroup:function(){return bl},Select:function(){return br},Switch:function(){return Lr},Table:function(){return fa},Textarea:function(){return Ol},Toolbar:function(){return il},Tooltip:function(){return Wl},VXETable:function(){return Lt},Validator:function(){return Ln},VxeButton:function(){return $l},VxeCheckbox:function(){return dl},VxeCheckboxGroup:function(){return ml},VxeColgroup:function(){return Gn},VxeColumn:function(){return Un},VxeForm:function(){return cr},VxeFormGather:function(){return gr},VxeFormItem:function(){return fr},VxeGrid:function(){return nl},VxeIcon:function(){return Pn},VxeInput:function(){return Tl},VxeList:function(){return zr},VxeModal:function(){return _l},VxeModuleEdit:function(){return so},VxeModuleExport:function(){return Cn},VxeModuleFilter:function(){return Wt},VxeModuleKeyboard:function(){return kn},VxeModuleMenu:function(){return no},VxeModuleValidator:function(){return Nn},VxeOptgroup:function(){return kr},VxeOption:function(){return Ir},VxePager:function(){return cl},VxePulldown:function(){return Ur},VxeRadio:function(){return gl},VxeRadioButton:function(){return yl},VxeRadioGroup:function(){return xl},VxeSelect:function(){return xr},VxeSwitch:function(){return Nr},VxeTable:function(){return pa},VxeTextarea:function(){return kl},VxeToolbar:function(){return al},VxeTooltip:function(){return zl},_t:function(){return It},commands:function(){return yt},config:function(){return Dt},formats:function(){return Tt},hooks:function(){return Et},install:function(){return ga},interceptor:function(){return h},menus:function(){return Ct},modal:function(){return jl},print:function(){return yn},readFile:function(){return Bo},renderer:function(){return xt},saveFile:function(){return Yo},setup:function(){return St},t:function(){return $t},use:function(){return Ot},v:function(){return Nt}}),"undefined"!==typeof window){var t=window.document.currentScript,o=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(l.p=o[1])}var n=l(4980),a=l.n(n);l(7658);const i="vxe-icon-",s={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,message:"default"},sortConfig:{showIcon:!0},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",children:"children",hasChild:"hasChild",mapChildren:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{enabled:!0,gt:60},scrollY:{enabled:!0,gt:100}},export:{types:{}},icon:{LOADING:i+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:i+"caret-up",TABLE_SORT_DESC:i+"caret-down",TABLE_FILTER_NONE:i+"funnel",TABLE_FILTER_MATCH:i+"funnel",TABLE_EDIT:i+"edit",TABLE_HELP:i+"question-circle-fill",TABLE_TREE_LOADED:i+"spinner roll",TABLE_TREE_OPEN:i+"caret-right rotate90",TABLE_TREE_CLOSE:i+"caret-right",TABLE_EXPAND_LOADED:i+"spinner roll",TABLE_EXPAND_OPEN:i+"arrow-right rotate90",TABLE_EXPAND_CLOSE:i+"arrow-right",TABLE_CHECKBOX_CHECKED:i+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:i+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:i+"checkbox-indeterminate",TABLE_RADIO_CHECKED:i+"radio-checked",TABLE_RADIO_UNCHECKED:i+"radio-unchecked",BUTTON_DROPDOWN:i+"arrow-down",BUTTON_LOADING:i+"spinner roll",SELECT_LOADED:i+"spinner roll",SELECT_OPEN:i+"caret-down rotate180",SELECT_CLOSE:i+"caret-down",PAGER_JUMP_PREV:i+"arrow-double-left",PAGER_JUMP_NEXT:i+"arrow-double-right",PAGER_PREV_PAGE:i+"arrow-left",PAGER_NEXT_PAGE:i+"arrow-right",PAGER_JUMP_MORE:i+"ellipsis-h",INPUT_CLEAR:i+"error-circle-fill",INPUT_PWD:i+"eye-fill",INPUT_SHOW_PWD:i+"eye-fill-close",INPUT_PREV_NUM:i+"caret-up",INPUT_NEXT_NUM:i+"caret-down",INPUT_DATE:i+"calendar",INPUT_SEARCH:i+"search",MODAL_ZOOM_IN:i+"square",MODAL_ZOOM_OUT:i+"maximize",MODAL_CLOSE:i+"close",MODAL_INFO:i+"info-circle-fill",MODAL_SUCCESS:i+"success-circle-fill",MODAL_WARNING:i+"warnion-circle-fill",MODAL_ERROR:i+"error-circle-fill",MODAL_QUESTION:i+"question-circle-fill",MODAL_LOADING:i+"spinner roll",TOOLBAR_TOOLS_REFRESH:i+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:i+"repeat roll",TOOLBAR_TOOLS_IMPORT:i+"upload",TOOLBAR_TOOLS_EXPORT:i+"download",TOOLBAR_TOOLS_PRINT:i+"print",TOOLBAR_TOOLS_FULLSCREEN:i+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:i+"minimize",TOOLBAR_TOOLS_CUSTOM:i+"custom-column",FORM_PREFIX:i+"question-circle-fill",FORM_SUFFIX:i+"question-circle-fill",FORM_FOLDING:i+"arrow-up rotate180",FORM_UNFOLDING:i+"arrow-up"},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},toolbar:{},button:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,storageKey:"VXE_MODAL_POSITION"},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};var c=s;function u(e,t){return`[vxe-table v4.3.11] ${c.i18n(e,t)}`}function d(e){return function(t,o){const n=u(t,o);return console[e](n),n}}const p=d("warn"),f=d("error"),m={},h={mixin(e){return a().each(e,((e,t)=>h.add(t,e))),h},get(e){return m[e]||[]},add(e,t){{const t=["created","mounted","activated","beforeUnmount","unmounted","event.clearActived","event.clearFilter","event.clearAreas","event.showMenu","event.keydown","event.export","event.import"];-1===t.indexOf(e)&&p("vxe.error.errProp",[`Interceptor.${e}`,t.join("|")])}if(t){let o=m[e];o||(o=m[e]=[]),o.indexOf(t)>-1&&p("vxe.error.coverProp",["Interceptor",e]),o.push(t)}return h},delete(e,t){const o=m[e];o&&(t?a().remove(o,(e=>e===t)):delete m[e])}};var g=l(7203);function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let x=0,b=1;function w(e){return e&&!1!==e.enabled}function y(e){return null===e||void 0===e||""===e}function C(e){const t=e.name,o=a().lastIndexOf(t,"."),n=t.substring(o+1,t.length).toLowerCase(),l=t.substring(0,o);return{filename:l,type:n}}function T(){return b=c.zIndex+x++,b}function E(){return b}function S(e){return e&&e.children&&e.children.length>0}function R(e){return e?a().toValueString(c.translate?c.translate(""+e):e):""}function k(e,t){return""+(y(e)?t?c.emptyCell:"":e)}function O(e){return""===e||a().eqNull(e)}class ${constructor(e,t,{renderHeader:o,renderCell:n,renderFooter:l,renderData:r}={}){v(this,"title",void 0),v(this,"type",void 0),v(this,"property",void 0);const i=e.xegrid,s=t.formatter,c=!a().isBoolean(t.visible)||t.visible;{const o=["seq","checkbox","radio","expand","html"];if(t.type&&-1===o.indexOf(t.type)&&p("vxe.error.errProp",[`type=${t.type}`,o.join(", ")]),(a().isBoolean(t.cellRender)||t.cellRender&&!a().isObject(t.cellRender))&&p("vxe.error.errProp",[`column.cell-render=${t.cellRender}`,"column.cell-render={}"]),(a().isBoolean(t.editRender)||t.editRender&&!a().isObject(t.editRender))&&p("vxe.error.errProp",[`column.edit-render=${t.editRender}`,"column.edit-render={}"]),t.cellRender&&t.editRender&&p("vxe.error.errConflicts",["column.cell-render","column.edit-render"]),"expand"===t.type){const{props:t}=e,{treeConfig:o}=t,{computeTreeOpts:n}=e.getComputeMaps(),l=n.value;o&&l.line&&f("vxe.error.errConflicts",["tree-config.line","column.type=expand"])}if(s)if(a().isString(s)){const e=Lt.formats.get(s)||a()[s];a().isFunction(e)||f("vxe.error.notFunc",[s])}else if(a().isArray(s)){const e=Lt.formats.get(s[0])||a()[s[0]];a().isFunction(e)||f("vxe.error.notFunc",[s[0]])}}if(Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:s,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:ue(t.filters),filterMultiple:!a().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,params:t.params,id:t.colId||a().uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:o||t.renderHeader,renderCell:n||t.renderCell,renderFooter:l||t.renderFooter,renderData:r,slots:t.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return R(this.title||("seq"===this.type?c.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const I={},M=a().browse();function D(e,t){return e?a().isFunction(e)?e(t):e:""}function N(e){return I[e]||(I[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),I[e]}function L(e,t,o){if(e){const n=e.parentNode;if(o.top+=e.offsetTop,o.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(o.top-=n.scrollTop,o.left-=n.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return L(e.offsetParent,t,o)}return o}function A(e){return e&&/^\d+(px)?$/.test(e)}function P(e){return e&&/^\d+%$/.test(e)}function F(e,t){return e&&e.className&&e.className.match&&e.className.match(N(t))}function V(e,t){e&&F(e,t)&&(e.className=e.className.replace(N(t),""))}function j(e,t){e&&!F(e,t)&&(V(e,t),e.className=`${e.className} ${t}`)}function _(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function H(e){return e?e.offsetHeight:0}function B(e){if(e){const t=getComputedStyle(e),o=a().toNumber(t.paddingTop),n=a().toNumber(t.paddingBottom);return o+n}return 0}function z(e,t){e&&(e.scrollTop=t)}function W(e,t){e&&(e.scrollLeft=t)}function q(e,t){const o="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function U(e,t,o,n){let l,r=e.target;while(r&&r.nodeType&&r!==document){if(o&&F(r,o)&&(!n||n(r)))l=r;else if(r===t)return{flag:!o||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function Y(e,t){return L(e,t,{left:0,top:0})}function X(e){const t=e.getBoundingClientRect(),o=t.top,n=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=_();return{boundingTop:o,top:l+o,boundingLeft:n,left:r+n,visibleHeight:a,visibleWidth:i}}const G="scrollIntoViewIfNeeded",K="scrollIntoView";function Z(e){e&&(e[G]?e[G]():e[K]&&e[K]())}function J(e,t){e&&e.dispatchEvent(new Event(t))}function Q(e){return e&&1===e.nodeType}function ee(e,t,o){const{internalData:n}=e;return e.clearScroll().then((()=>{if(t||o)return n.lastScrollLeft=0,n.lastScrollTop=0,e.scrollTo(t,o)}))}function te(e){e&&e._onscroll&&(e.onscroll=null)}function oe(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function ne(){return a().uniqueId("row_")}function le(e){const{props:t}=e,{computeRowOpts:o}=e.getComputeMaps(),{rowId:n}=t,l=o.value;return n||l.keyField||"_X_ROW_KEY"}function re(e,t){const o=a().get(t,le(e));return a().eqNull(o)?"":encodeURIComponent(o)}const ae=(e,t)=>t?a().isString(t)?e.getColumnByField(t):t:null;function ie(e){if(e){const t=getComputedStyle(e),o=a().toNumber(t.paddingLeft),n=a().toNumber(t.paddingRight);return o+n}return 0}function se(e){if(e){const t=getComputedStyle(e),o=a().toNumber(t.marginLeft),n=a().toNumber(t.marginRight);return e.offsetWidth+o+n}return 0}function ce(e,t){return e.querySelector(".vxe-cell"+t)}function ue(e){return e&&a().isArray(e)?e.map((({label:e,value:t,data:o,resetValue:n,checked:l})=>({label:e,value:t,data:o,resetValue:n,checked:!!l,_checked:!!l}))):e}function de(e){return e.map(((e,t)=>t%2===0?Number(e)+1:".")).join("")}function pe(e,t){return a().get(e,t.field)}function fe(e,t,o){return a().set(e,t.field,o)}function me(e){const{$table:t,column:o,cell:n}=e,{props:l}=t,{computeResizableOpts:r}=t.getComputeMaps(),i=r.value,{minWidth:s}=i;if(s){const t=a().isFunction(s)?s(e):s;if("auto"!==t)return Math.max(1,a().toNumber(t))}const{showHeaderOverflow:c}=l,{showHeaderOverflow:u,minWidth:d}=o,p=a().isUndefined(u)||a().isNull(u)?c:u,f="ellipsis"===p,m="title"===p,h=!0===p||"tooltip"===p,g=m||h||f,v=a().floor(1.6*(a().toNumber(getComputedStyle(n).fontSize)||14)),x=ie(n)+ie(ce(n,""));let b=v+x;if(g){const e=ie(ce(n,"--title>.vxe-cell--checkbox")),t=se(ce(n,">.vxe-cell--required-icon")),o=se(ce(n,">.vxe-cell--edit-icon")),l=se(ce(n,">.vxe-cell-help-icon")),r=se(ce(n,">.vxe-cell--sort")),a=se(ce(n,">.vxe-cell--filter"));b+=e+t+o+l+a+r}if(d){const{refTableBody:e}=t.getRefMaps(),o=e.value,n=o?o.$el:null;if(n){if(P(d)){const e=n.clientWidth-1,t=e/100;return Math.max(b,Math.floor(a().toInteger(d)*t))}if(A(d))return Math.max(b,a().toInteger(d))}}return b}function he(e){return e&&(e.constructor===$||e instanceof $)}function ge(e,t,o){return he(t)?t:(0,g.reactive)(new $(e,t,o))}function ve(e,t){Object.keys(e).forEach((o=>{(0,g.watch)((()=>e[o]),(e=>{t.update(o,e)}))}))}function xe(e,t,o,n){const{reactData:l}=e,{staticColumns:r}=l,i=t.parentNode,s=n?n.column:null,c=s?s.children:r;i&&c&&(c.splice(a().arrayIndexOf(i.children,t),0,o),l.staticColumns=r.slice(0))}function be(e,t){const{reactData:o}=e,{staticColumns:n}=o,l=a().findTree(n,(e=>e.id===t.id),{children:"children"});l&&l.items.splice(l.index,1),o.staticColumns=n.slice(0)}function we(e,t,o){for(let n=0;n<e.length;n++){const{row:l,col:r,rowspan:a,colspan:i}=e[n];if(r>-1&&l>-1&&a&&i){if(l===t&&r===o)return{rowspan:a,colspan:i};if(t>=l&&t<l+a&&o>=r&&o<r+i)return{rowspan:0,colspan:0}}}}function ye(e){const{props:t,internalData:o}=e;return o.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function Ce(e){return e.clearFilter&&e.clearFilter(),ye(e)}function Te(e,t){const{reactData:o,internalData:n}=e,{refTableBody:l}=e.getRefMaps(),{scrollYLoad:r}=o,{afterFullData:a,scrollYStore:i}=n,s=l.value,c=s?s.$el:null;if(c){const o=c.querySelector(`[rowid="${re(e,t)}"]`);if(o){const t=c.clientHeight,n=c.scrollTop,l=o.offsetParent,r=o.offsetTop+(l?l.offsetTop:0),a=o.clientHeight;if(r<n||r>n+t)return e.scrollTo(null,r);if(r+a>=t+n)return e.scrollTo(null,n+a)}else if(r)return e.scrollTo(null,(a.indexOf(t)-1)*i.rowHeight)}return Promise.resolve()}function Ee(e,t){const{reactData:o,internalData:n}=e,{refTableBody:l}=e.getRefMaps(),{scrollXLoad:r}=o,{visibleColumn:a}=n,i=l.value,s=i?i.$el:null;if(s){const o=s.querySelector(`.${t.id}`);if(o){const t=s.clientWidth,n=s.scrollLeft,l=o.offsetParent,r=o.offsetLeft+(l?l.offsetLeft:0),a=o.clientWidth;if(r<n||r>n+t)return e.scrollTo(r);if(r+a>=t+n)return e.scrollTo(n+a)}else if(r){let o=0;for(let e=0;e<a.length;e++){if(a[e]===t)break;o+=a[e].renderWidth}return e.scrollTo(o)}}return Promise.resolve()}function Se(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Re(e){return a().isArray(e)?e:[e]}const ke="modelValue",Oe={transfer:!0};function $e(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function Ie(e){switch(e.name){case"input":case"textarea":case"$input":case"$textarea":return"input"}return"change"}function Me(e,t){return e&&t.valueFormat?a().toStringDate(e,t.valueFormat):e}function De(e,t,o){const{dateConfig:n={}}=t;return a().toDateString(Me(e,t),n.labelFormat||o)}function Ne(e,t){return De(e,t,c.i18n(`vxe.input.date.labelFormat.${t.type}`))}function Le(e){return`vxe-${e.replace("$","")}`}function Ae({name:e}){return(0,g.resolveComponent)(Le(e))}function Pe(e,t,o){const{$panel:n}=e;n.changeOption({},t,o)}function Fe(e){let{name:t,attrs:o}=e;return"input"===t&&(o=Object.assign({type:"text"},o)),o}function Ve(e){const{name:t,immediate:o,props:n}=e;if(!o){if("$input"===t){const{type:e}=n||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return o}function je(e,t,o,n){return a().assign({immediate:Ve(e)},Oe,n,e.props,{[ke]:o})}function _e(e,t,o,n){return a().assign({},Oe,n,e.props,{[ke]:o})}function He(e,t,o,n){return a().assign({},Oe,n,e.props,{[ke]:o})}function Be(e,t){return"cell"===t.$type||Ve(e)}function ze(e,t,o){const{placeholder:n}=e;return[(0,g.h)("span",{class:"vxe-cell--label"},n&&y(o)?[(0,g.h)("span",{class:"vxe-cell--placeholder"},k(R(n),1))]:k(o,1))]}function We(e,t,o,n){const{events:l}=e,r=$e(e),i=Ie(e),s=i===r,c={};return l&&a().objectEach(l,((e,o)=>{c[Se(o)]=function(...o){e(t,...o)}})),o&&(c[Se(r)]=function(e){o(e),s&&n&&n(e),l&&l[r]&&l[r](t,e)}),!s&&n&&(c[Se(i)]=function(...e){n(...e),l&&l[i]&&l[i](t,...e)}),c}function qe(e,t,o,n){const{events:l}=e,r=$e(e),i=Ie(e),s={};return a().objectEach(l,((e,o)=>{s[Se(o)]=function(...o){e(t,...o)}})),o&&(s[Se(r)]=function(e){o(e),l&&l[r]&&l[r](t,e)}),n&&(s[Se(i)]=function(...e){n(...e),l&&l[i]&&l[i](t,...e)}),s}function Ue(e,t){const{$table:o,row:n,column:l}=t,{name:r}=e,{model:a}=l,i=Be(e,t);return qe(e,t,(e=>{i?fe(n,l,e):(a.update=!0,a.value=e)}),(e=>{if(i||"$input"!==r&&"$textarea"!==r)o.updateStatus(t);else{const n=e.value;a.update=!0,a.value=n,o.updateStatus(t,n)}}))}function Ye(e,t,o){return qe(e,t,(e=>{o.data=e}),(()=>{Pe(t,!a().eqNull(o.data),o)}))}function Xe(e,t){const{$form:o,data:n,property:l}=t;return qe(e,t,(e=>{a().set(n,l,e)}),(()=>{o.updateStatus(t)}))}function Ge(e,t){const{$table:o,row:n,column:l}=t,{model:r}=l;return We(e,t,(o=>{const a=o.target.value;Be(e,t)?fe(n,l,a):(r.update=!0,r.value=a)}),(e=>{const n=e.target.value;o.updateStatus(t,n)}))}function Ke(e,t,o){return We(e,t,(e=>{o.data=e.target.value}),(()=>{Pe(t,!a().eqNull(o.data),o)}))}function Ze(e,t){const{$form:o,data:n,property:l}=t;return We(e,t,(e=>{const t=e.target.value;a().set(n,l,t)}),(()=>{o.updateStatus(t)}))}function Je(e,t){const{row:o,column:n}=t,{name:l}=e,r=Be(e,t)?pe(o,n):n.model.value;return[(0,g.h)(l,{class:`vxe-default-${l}`,...Fe(e),value:r,...Ge(e,t)})]}function Qe(e,t){const{row:o,column:n}=t,l=pe(o,n);return[(0,g.h)(Ae(e),{...je(e,t,l),...Ue(e,t)})]}function et(e,t){return[(0,g.h)((0,g.resolveComponent)("vxe-button"),{...je(e,t,null),...qe(e,t)})]}function tt(e,t){return e.children.map((e=>et(e,t)[0]))}function ot(e,t,o){const{optionGroups:n,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return n.map(((n,l)=>(0,g.h)("optgroup",{key:l,label:n[a]},o(n[r],e,t))))}function nt(e,t,o){const{optionProps:n={}}=t,{row:l,column:r}=o,a=n.label||"label",i=n.value||"value",s=n.disabled||"disabled",c=Be(t,o)?pe(l,r):r.model.value;return e.map(((e,t)=>(0,g.h)("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a])))}function lt(e,t){const{column:o}=t,{name:n}=e,l=Fe(e);return o.filters.map(((o,r)=>(0,g.h)(n,{key:r,class:`vxe-default-${n}`,...l,value:o.data,...Ke(e,t,o)})))}function rt(e,t){const{column:o}=t;return o.filters.map(((o,n)=>{const l=o.data;return(0,g.h)(Ae(e),{key:n,..._e(e,e,l),...Ye(e,t,o)})}))}function at({option:e,row:t,column:o}){const{data:n}=e,l=a().get(t,o.property);return l==n}function it(e,t){return[(0,g.h)("select",{class:"vxe-default-select",...Fe(e),...Ge(e,t)},e.optionGroups?ot(e,t,nt):nt(e.options,e,t))]}function st(e,t){const{row:o,column:n}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=pe(o,n);return[(0,g.h)(Ae(e),{...je(e,t,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}),...Ue(e,t)})]}function ct(e,{row:t,column:o}){const{props:n={},options:l,optionGroups:r,optionProps:i={},optionGroupProps:s={}}=e,c=a().get(t,o.property);let u;const d=i.label||"label",p=i.value||"value";return y(c)?"":a().map(n.multiple?c:[c],r?e=>{const t=s.options||"options";for(let o=0;o<r.length;o++)if(u=a().find(r[o][t],(t=>t[p]==e)),u)break;return u?u[d]:e}:e=>(u=a().find(l,(t=>t[p]==e)),u?u[d]:e)).join(", ")}function ut(e,t){const{data:o,property:n}=t,{name:l}=e,r=Fe(e),i=a().get(o,n);return[(0,g.h)(l,{class:`vxe-default-${l}`,...r,value:!r||"input"!==l||"submit"!==r.type&&"reset"!==r.type?i:null,...Ze(e,t)})]}function dt(e,t){const{data:o,property:n}=t,l=a().get(o,n);return[(0,g.h)(Ae(e),{...He(e,t,l),...Xe(e,t)})]}function pt(e,t){return[(0,g.h)((0,g.resolveComponent)("vxe-button"),{...He(e,t,null),...qe(e,t)})]}function ft(e,t){return e.children.map((e=>pt(e,t)[0]))}function mt(e,t,o){const{data:n,property:l}=o,{optionProps:r={}}=t,i=r.label||"label",s=r.value||"value",c=r.disabled||"disabled",u=a().get(n,l);return e.map(((e,t)=>(0,g.h)("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[i])))}function ht(e){const{row:t,column:o,options:n}=e;return n.original?pe(t,o):ct(o.editRender||o.cellRender,e)}function gt(e,t){const{name:o,options:n,optionProps:l={}}=e,{data:r,property:i}=t,s=l.label||"label",c=l.value||"value",u=l.disabled||"disabled",d=a().get(r,i),p=Le(o);return n?[(0,g.h)((0,g.resolveComponent)(`${p}-group`),{...He(e,t,d),...Xe(e,t)},{default:()=>n.map(((e,t)=>(0,g.h)((0,g.resolveComponent)(p),{key:t,label:e[c],content:e[s],disabled:e[u]})))})]:[(0,g.h)((0,g.resolveComponent)(p),{...He(e,t,d),...Xe(e,t)})]}const vt={input:{autofocus:"input",renderEdit:Je,renderDefault:Je,renderFilter:lt,defaultFilterMethod:at,renderItemContent:ut},textarea:{autofocus:"textarea",renderEdit:Je,renderItemContent:ut},select:{renderEdit:it,renderDefault:it,renderCell(e,t){return ze(e,t,ct(e,t))},renderFilter(e,t){const{column:o}=t;return o.filters.map(((o,n)=>(0,g.h)("select",{key:n,class:"vxe-default-select",...Fe(e),...Ke(e,t,o)},e.optionGroups?ot(e,t,nt):nt(e.options,e,t))))},defaultFilterMethod:at,renderItemContent(e,t){return[(0,g.h)("select",{class:"vxe-default-select",...Fe(e),...Ze(e,t)},e.optionGroups?ot(e,t,mt):mt(e.options,e,t))]},cellExportMethod:ht},$input:{autofocus:".vxe-input--inner",renderEdit:Qe,renderCell(e,t){const{props:o={}}=e,{row:n,column:l}=t,r=o.digits||c.input.digits;let i=a().get(n,l.property);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=Ne(i,o);break;case"float":i=a().toFixed(a().floor(i,r),r);break}return ze(e,t,i)},renderDefault:Qe,renderFilter:rt,defaultFilterMethod:at,renderItemContent:dt},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:dt},$button:{renderDefault:et,renderItemContent:pt},$buttons:{renderDefault:tt,renderItemContent:ft},$select:{autofocus:".vxe-input--inner",renderEdit:st,renderDefault:st,renderCell(e,t){return ze(e,t,ct(e,t))},renderFilter(e,t){const{column:o}=t,{options:n,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return o.filters.map(((o,i)=>{const s=o.data;return(0,g.h)(Ae(e),{key:i,..._e(e,t,s,{options:n,optionProps:l,optionGroups:r,optionGroupProps:a}),...Ye(e,t,o)})}))},defaultFilterMethod:at,renderItemContent(e,t){const{data:o,property:n}=t,{options:l,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=a().get(o,n);return[(0,g.h)(Ae(e),{...He(e,t,c,{options:l,optionProps:r,optionGroups:i,optionGroupProps:s}),...Xe(e,t)})]},cellExportMethod:ht},$radio:{autofocus:".vxe-radio--input",renderItemContent:gt},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:gt},$switch:{autofocus:".vxe-switch--button",renderEdit:Qe,renderDefault:Qe,renderItemContent:dt}},xt={mixin(e){return a().each(e,((e,t)=>xt.add(t,e))),xt},get(e){return vt[e]||null},add(e,t){if(e&&t){const o=vt[e];o?(a().each(t,((t,n)=>{a().eqNull(o[n])||o[n]===t||p("vxe.error.coverProp",[`Renderer.${e}`,n])})),Object.assign(o,t)):vt[e]=t}return xt},delete(e){return delete vt[e],xt}};class bt{constructor(){v(this,"store",{})}mixin(e){return Object.assign(this.store,e),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const o=this.store[e];{const n=a().keys(o);a().each(t,((t,o)=>{n.includes(o)&&p("vxe.error.coverProp",[e,o])}))}return this.store[e]=o?a().merge(o,t):t,this}delete(e){delete this.store[e]}forEach(e){a().objectEach(this.store,e)}}var wt=bt;const yt=new wt;Object.assign(yt,{_name:"Commands"});const Ct=new wt;Object.assign(Ct,{_name:"Menus"});const Tt=new wt;Object.assign(Tt,{_name:"Formats"});const Et=new wt,St=e=>a().merge(c,e);function Rt(e,t){const o=[];return a().objectEach(e,((e,n)=>{0!==e&&e!==t||o.push(n)})),o}const kt=[];function Ot(e,t){return e&&e.install&&-1===kt.indexOf(e)&&(e.install(Lt,t),kt.push(e)),Lt}function $t(e,t){return c.i18n(e,t)}function It(e,t){return e?a().toValueString(c.translate?c.translate(e,t):e):""}class Mt{get zIndex(){return E()}get nextZIndex(){return T()}get exportTypes(){return Rt(c["export"].types,1)}get importTypes(){return Rt(c["export"].types,2)}}const Dt=new Mt,Nt="v4",Lt={v:Nt,version:"4.3.11",setup:St,interceptor:h,renderer:xt,commands:yt,formats:Tt,menus:Ct,hooks:Et,config:Dt,use:Ot,t:$t,_t:It};var At=(0,g.defineComponent)({name:"VxeTableFilter",props:{filterStore:Object},setup(e){const t=(0,g.inject)("$xetable",{}),{reactData:o,internalData:n}=t,l=(0,g.computed)((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),r=(t,o)=>{const{filterStore:n}=e;n.options.forEach((e=>{e._checked=o,e.checked=o})),n.isAllSelected=o,n.isIndeterminate=!1},a=o=>{const{filterStore:n}=e;n.options.forEach((e=>{e.checked=e._checked})),t.confirmFilterEvent(o)},i=(o,n,l)=>{const{filterStore:r}=e;r.options.forEach((e=>{e._checked=!1})),l._checked=n,t.checkFilterOptions(),a(o)},s=o=>{const{filterStore:n}=e;t.handleClearFilter(n.column),t.confirmFilterEvent(o)},u=(e,o,n)=>{n._checked=o,t.checkFilterOptions()},d=(t,o,n)=>{const{filterStore:l}=e;l.multiple?u(t,o,n):i(t,o,n)},p=(t,o)=>{const{filterStore:n}=e;n.multiple?r(t,o):s(t)},f={changeRadioOption:i,changeMultipleOption:u,changeAllOption:p,changeOption:d,confirmFilter:a,resetFilter:s},m=(o,l)=>{const{filterStore:r}=e,{column:a,multiple:i,maxHeight:s}=r,{slots:u}=a,m=u?u.filter:null,h=Object.assign({},n._currFilterParams,{$panel:f,$table:t});if(m)return[(0,g.h)("div",{class:"vxe-table--filter-template"},t.callSlot(m,h))];if(l&&l.renderFilter)return[(0,g.h)("div",{class:"vxe-table--filter-template"},Re(l.renderFilter(o,h)))];const v=i?r.isAllSelected:!r.options.some((e=>e._checked)),x=i&&r.isIndeterminate;return[(0,g.h)("ul",{class:"vxe-table--filter-header"},[(0,g.h)("li",{class:["vxe-table--filter-option",{"is--checked":v,"is--indeterminate":x}],title:c.i18n(i?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{p(e,!r.isAllSelected)}},(i?[(0,g.h)("span",{class:["vxe-checkbox--icon",x?c.icon.TABLE_CHECKBOX_INDETERMINATE:v?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,g.h)("span",{class:"vxe-checkbox--label"},c.i18n("vxe.table.allFilter"))]))]),(0,g.h)("ul",{class:"vxe-table--filter-body",style:s?{maxHeight:`${s}px`}:{}},r.options.map((e=>{const t=e._checked,o=!1;return(0,g.h)("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{d(t,!e._checked,e)}},(i?[(0,g.h)("span",{class:["vxe-checkbox--icon",o?c.icon.TABLE_CHECKBOX_INDETERMINATE:t?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,g.h)("span",{class:"vxe-checkbox--label"},k(e.label,1))]))})))]},h=()=>{const{filterStore:t}=e,{column:o,multiple:n}=t,r=l.value,i=o.filterRender,u=i?Lt.renderer.get(i.name):null,d=!r&&!t.isAllSelected&&!t.isIndeterminate;return!n||u&&!1===u.showFilterFooter?[]:[(0,g.h)("div",{class:"vxe-table--filter-footer"},[(0,g.h)("button",{class:{"is--disabled":d},disabled:d,onClick:a},c.i18n("vxe.table.confirmFilter")),(0,g.h)("button",{onClick:s},c.i18n("vxe.table.resetFilter"))])]},v=()=>{const{filterStore:l}=e,{initStore:r}=o,{column:a}=l,i=a?a.filterRender:null,s=i?Lt.renderer.get(i.name):null,c=s?s.filterClassName:"",u=Object.assign({},n._currFilterParams,{$panel:f,$table:t});return(0,g.h)("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",D(c,u),{"is--animat":t.props.animat,"is--multiple":l.multiple,"is--active":l.visible}],style:l.style},r.filter&&l.visible?m(i,s).concat(h()):[])};return v}});const Pt=["setFilter","clearFilter","getCheckedFilters"],Ft={setupTable(e){const{reactData:t,internalData:o}=e,{refTableBody:n,refTableFilter:l}=e.getRefMaps(),{computeFilterOpts:r}=e.getComputeMaps(),i={checkFilterOptions(){const{filterStore:e}=t;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(r,a,i){const{initStore:s,filterStore:c}=t;if(c.column===a&&c.visible)c.visible=!1;else{const{target:t,pageX:u}=r,{visibleWidth:d}=_(),{filters:p,filterMultiple:f,filterRender:m}=a,h=m?Lt.renderer.get(m.name):null,v=a.filterRecoverMethod||(h?h.filterRecoverMethod:null);o._currFilterParams=i,Object.assign(c,{multiple:f,options:p,column:a,style:null}),c.options.forEach((t=>{const{_checked:o,checked:n}=t;t._checked=n,n||o===n||v&&v({option:t,column:a,$table:e})})),this.checkFilterOptions(),c.visible=!0,s.filter=!0,(0,g.nextTick)((()=>{const e=n.value,o=e.$el,r=l.value,i=r?r.$el:null;let s=0,p=0,f=null,m=null;i&&(s=i.offsetWidth,p=i.offsetHeight,f=i.querySelector(".vxe-table--filter-header"),m=i.querySelector(".vxe-table--filter-footer"));const h=s/2,g=10,v=o.clientWidth-s-g;let x,b;const w={top:`${t.offsetTop+t.offsetParent.offsetTop+t.offsetHeight+8}px`};let y=null;if(p>=o.clientHeight&&(y=Math.max(60,o.clientHeight-(m?m.offsetHeight:0)-(f?f.offsetHeight:0))),"left"===a.fixed?x=t.offsetLeft+t.offsetParent.offsetLeft-h:"right"===a.fixed?b=t.offsetParent.offsetWidth-t.offsetLeft+(t.offsetParent.offsetParent.offsetWidth-t.offsetParent.offsetLeft)-a.renderWidth-h:x=t.offsetLeft+t.offsetParent.offsetLeft-h-o.scrollLeft,x){const e=u+s-h+g-d;e>0&&(x-=e),w.left=`${Math.min(v,Math.max(g,x))}px`}else if(b){const e=u+s-h+g-d;e>0&&(b+=e),w.right=`${Math.max(g,b)}px`}c.style=w,c.maxHeight=y}))}e.dispatchEvent("filter-visible",{column:a,field:a.field,property:a.field,filterList:e.getCheckedFilters(),visible:c.visible},r)},handleClearFilter(t){if(t){const{filters:o,filterRender:n}=t;if(o){const l=n?Lt.renderer.get(n.name):null,r=t.filterResetMethod||(l?l.filterResetMethod:null);o.forEach((e=>{e._checked=!1,e.checked=!1,r||(e.data=a().clone(e.resetValue,!0))})),r&&r({options:o,column:t,$table:e})}}},confirmFilterEvent(o){const{filterStore:n,scrollXLoad:l,scrollYLoad:a}=t,i=r.value,{column:s}=n,{field:c}=s,u=[],d=[];s.filters.forEach((e=>{e.checked&&(u.push(e.value),d.push(e.data))}));const p=e.getCheckedFilters();i.remote||(e.handleTableData(!0),e.checkSelectionStatus()),e.dispatchEvent("filter-change",{column:s,field:c,property:c,values:u,datas:d,filters:p,filterList:p},o),e.closeFilter(),e.updateFooter().then((()=>{const{scrollXLoad:o,scrollYLoad:n}=t;if(l||o||a||n)return(l||o)&&e.updateScrollXSpace(),(a||n)&&e.updateScrollYSpace(),e.refreshScroll()})).then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>{setTimeout((()=>e.recalculate()),50)}))}},s={openFilter(t){const n=ae(e,t);if(n&&n.filters){const{elemStore:t}=o,{fixed:l}=n;return e.scrollToColumn(n).then((()=>{const e=t[`${l||"main"}-header-wrapper`]||t["main-header-wrapper"],o=e?e.value:null;if(o){const e=o.querySelector(`.vxe-header--column.${n.id} .vxe-filter--btn`);J(e,"click")}}))}return(0,g.nextTick)()},setFilter(t,o){const n=ae(e,t);return n&&n.filters&&o&&(n.filters=ue(o)),(0,g.nextTick)()},clearFilter(n){const{filterStore:l}=t,{tableFullColumn:a}=o,s=r.value;let c;return n?(c=ae(e,n),c&&i.handleClearFilter(c)):a.forEach(i.handleClearFilter),n&&c===l.column||Object.assign(l,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),s.remote?(0,g.nextTick)():e.updateData()},getCheckedFilters(){const{tableFullColumn:e}=o,t=[];return e.forEach((e=>{const{field:o,filters:n}=e,l=[],r=[];n&&n.length&&(n.forEach((e=>{e.checked&&(l.push(e.value),r.push(e.data))})),l.length&&t.push({column:e,field:o,property:o,values:l,datas:r}))})),t}};return{...s,...i}},setupGrid(e){return e.extendTableMethods(Pt)}};var Vt=Ft;let jt;const _t=(0,g.reactive)({modals:[]}),Ht=(0,g.defineComponent)({setup(){return()=>{const{modals:e}=_t;return(0,g.h)("div",{class:"vxe-dynamics--modal"},e.map((e=>(0,g.h)((0,g.resolveComponent)("vxe-modal"),e))))}}}),Bt=(0,g.createApp)(Ht);function zt(){jt||(jt=document.createElement("div"),jt.className="vxe-dynamics",document.body.appendChild(jt),Bt.mount(jt))}const Wt={Panel:At,install(e){Lt.hooks.add("$tableFilter",Vt),e.component(At.name,At)}},qt=Wt;Bt.component(At.name,At);var Ut=(0,g.defineComponent)({name:"VxeTableContextMenu",setup(e,t){const o=a().uniqueId(),n=(0,g.inject)("$xetable",{}),{reactData:l}=n,r=(0,g.ref)(),i={refElem:r},s={xID:o,props:e,context:t,getRefMaps:()=>i},c=()=>{const{ctxMenuStore:e}=l,{computeMenuOpts:t}=n.getComputeMaps(),o=t.value;return(0,g.h)(g.Teleport,{to:"body",disabled:!1},[(0,g.h)("div",{ref:r,class:["vxe-table--context-menu-wrapper",o.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,o)=>t.every((e=>!1===e.visible))?(0,g.createCommentVNode)():(0,g.h)("ul",{class:"vxe-context-menu--option-wrapper",key:o},t.map(((t,l)=>{const r=t.children&&t.children.some((e=>!1!==e.visible));return!1===t.visible?null:(0,g.h)("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${o}_${l}`},[(0,g.h)("a",{class:"vxe-context-menu--link",onClick(e){n.ctxMenuLinkEvent(e,t)},onMouseover(e){n.ctxMenuMouseoverEvent(e,t)},onMouseout(e){n.ctxMenuMouseoutEvent(e,t)}},[(0,g.h)("i",{class:["vxe-context-menu--link-prefix",t.prefixIcon]}),(0,g.h)("span",{class:"vxe-context-menu--link-content"},R(t.name)),(0,g.h)("i",{class:["vxe-context-menu--link-suffix",r?t.suffixIcon||"suffix--haschild":t.suffixIcon]})]),r?(0,g.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,a)=>!1===r.visible?null:(0,g.h)("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${o}_${l}_${a}`},[(0,g.h)("a",{class:"vxe-context-menu--link",onClick(e){n.ctxMenuLinkEvent(e,r)},onMouseover(e){n.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){n.ctxMenuMouseoutEvent(e,t)}},[(0,g.h)("i",{class:["vxe-context-menu--link-prefix",r.prefixIcon]}),(0,g.h)("span",{class:"vxe-context-menu--link-content"},R(r.name))])])))):null])}))))))])};return s.renderVN=c,s},render(){return this.renderVN()}});const Yt={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},Xt={" ":"Spacebar",Apps:Yt.CONTEXT_MENU,Del:Yt.DELETE,Up:Yt.ARROW_UP,Down:Yt.ARROW_DOWN,Left:Yt.ARROW_LEFT,Right:Yt.ARROW_RIGHT},Gt=M.firefox?"DOMMouseScroll":"mousewheel",Kt=[],Zt=(e,t)=>{const{key:o}=e;return t=t.toLowerCase(),!!o&&(t===o.toLowerCase()||!(!Xt[o]||Xt[o].toLowerCase()!==t))};function Jt(e){const t=e.type===Gt;Kt.forEach((({type:o,cb:n})=>{e.cancelBubble||(o===e.type||t&&"mousewheel"===o)&&n(e)}))}const Qt={on(e,t,o){Kt.push({comp:e,type:t,cb:o})},off(e,t){a().remove(Kt,(o=>o.comp===e&&o.type===t))},trigger:Jt,eqKeypad(e,t){const{key:o}=e;return t.toLowerCase()===o.toLowerCase()}};M.isDoc&&(M.msie||(document.addEventListener("copy",Jt,!1),document.addEventListener("cut",Jt,!1),document.addEventListener("paste",Jt,!1)),document.addEventListener("keydown",Jt,!1),document.addEventListener("contextmenu",Jt,!1),window.addEventListener("mousedown",Jt,!1),window.addEventListener("blur",Jt,!1),window.addEventListener("resize",Jt,!1),window.addEventListener(Gt,a().throttle(Jt,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const eo=["closeMenu"],to={setupTable(e){const{xID:t,props:o,reactData:n,internalData:l}=e,{refElem:r,refTableFilter:i,refTableMenu:s}=e.getRefMaps(),{computeMouseOpts:c,computeIsMenu:u,computeMenuOpts:d}=e.getComputeMaps();let p={},f={};const m=(t,o,r)=>{const{ctxMenuStore:a}=n,i=u.value,c=d.value,f=c[o],m=c.visibleMethod;if(f){const{options:o,disabled:n}=f;n?t.preventDefault():i&&o&&o.length&&(r.options=o,e.preventEvent(t,"event.showMenu",r,(()=>{if(!m||m(r)){t.preventDefault(),e.updateZindex();const{scrollTop:n,scrollLeft:i,visibleHeight:c,visibleWidth:u}=_();let d=t.clientY+n,p=t.clientX+i;const f=()=>{l._currMenuParams=r,Object.assign(a,{visible:!0,list:o,selected:null,selectChild:null,showChild:!1,style:{zIndex:l.tZindex,top:`${d}px`,left:`${p}px`}}),(0,g.nextTick)((()=>{const e=s.value,t=e.getRefMaps().refElem.value,o=t.clientHeight,l=t.clientWidth,{boundingTop:r,boundingLeft:f}=X(t),m=r+o-c,h=f+l-u;m>-10&&(a.style.top=`${Math.max(n+2,d-o-2)}px`),h>-10&&(a.style.left=`${Math.max(i+2,p-l-2)}px`)}))},{keyboard:m,row:h,column:v}=r;m&&h&&v?e.scrollToRow(h,v).then((()=>{const t=e.getCell(h,v);if(t){const{boundingTop:e,boundingLeft:o}=X(t);d=e+n+Math.floor(t.offsetHeight/2),p=o+i+Math.floor(t.offsetWidth/2)}f()})):f()}else p.closeMenu()})))}e.closeFilter()};return p={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,g.nextTick)()}},f={moveCtxMenu(e,t,o,n,l,r){let i;const s=a().findIndexOf(r,(e=>t[o]===e));if(n)l&&S(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(Zt(e,Yt.ARROW_UP)){for(let e=s-1;e>=0;e--)if(!1!==r[e].visible){i=r[e];break}t[o]=i||r[r.length-1]}else if(Zt(e,Yt.ARROW_DOWN)){for(let e=s+1;e<r.length;e++)if(!1!==r[e].visible){i=r[e];break}t[o]=i||r[0]}else t[o]&&(Zt(e,Yt.ENTER)||Zt(e,Yt.SPACEBAR))&&f.ctxMenuLinkEvent(e,t[o])},handleGlobalContextmenuEvent(a){const{mouseConfig:u,menuConfig:f}=o,{editStore:h,ctxMenuStore:g}=n,{visibleColumn:v}=l,x=i.value,b=s.value,y=c.value,C=d.value,T=r.value,{selected:E}=h,S=["header","body","footer"];if(w(f)){if(g.visible&&b&&U(a,b.getRefMaps().refElem.value).flag)return void a.preventDefault();if(l._keyCtx){const t="body",o={type:t,$table:e,keyboard:!0,columns:v.slice(0),$event:a};if(u&&y.area){const n=e.getActiveCellArea();if(n&&n.row&&n.column)return o.row=n.row,o.column=n.column,void m(a,t,o)}else if(u&&y.selected&&E.row&&E.column)return o.row=E.row,o.column=E.column,void m(a,t,o)}for(let o=0;o<S.length;o++){const n=S[o],l=U(a,T,`vxe-${n}--column`,(e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===t)),r={type:n,$table:e,columns:v.slice(0),$event:a};if(l.flag){const t=l.targetElem,o=e.getColumnNode(t),i=o?o.item:null;let s=`${n}-`;if(i&&Object.assign(r,{column:i,columnIndex:e.getColumnIndex(i),cell:t}),"body"===n){const o=e.getRowNode(t.parentNode),n=o?o.item:null;s="",n&&(r.row=n,r.rowIndex=e.getRowIndex(n))}const c=`${s}cell-menu`;return m(a,n,r),void e.dispatchEvent(c,r,a)}if(U(a,T,`vxe-table--${n}-wrapper`,(e=>e.getAttribute("xid")===t)).flag)return void("cell"===C.trigger?a.preventDefault():m(a,n,r))}}x&&!U(a,x.$el).flag&&e.closeFilter(),p.closeMenu()},ctxMenuMouseoverEvent(e,t,o){const l=e.currentTarget,{ctxMenuStore:r}=n;e.preventDefault(),e.stopPropagation(),r.selected=t,r.selectChild=o,o||(r.showChild=S(t),r.showChild&&(0,g.nextTick)((()=>{const e=l.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:o,visibleHeight:n,visibleWidth:r}=X(l),a=t+l.offsetHeight,i=o+l.offsetWidth;let s="",c="";i+e.offsetWidth>r-10&&(s="auto",c=`${l.offsetWidth}px`);let u="",d="";a+e.offsetHeight>n-10&&(u="auto",d="0"),e.style.left=s,e.style.right=c,e.style.top=u,e.style.bottom=d}})))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:o}=n;t.children||(o.selected=null),o.selectChild=null},ctxMenuLinkEvent(t,o){if(!o.disabled&&(o.code||!o.children||!o.children.length)){const n=Lt.menus.get(o.code),r=Object.assign({},l._currMenuParams,{menu:o,$table:e,$grid:e.xegrid,$event:t});n&&n(r,t),e.dispatchEvent("menu-click",r,t),p.closeMenu()}}},{...p,...f}},setupGrid(e){return e.extendTableMethods(eo)}};var oo=to;const no={Panel:Ut,install(e){Lt.hooks.add("$tableMenu",oo),e.component(Ut.name,Ut)}},lo=no;Bt.component(Ut.name,Ut);l(541);const ro=["insert","insertAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],ao={setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeMouseOpts:r,computeEditOpts:i,computeCheckboxOpts:s,computeTreeOpts:c}=e.getComputeMaps();let d={},m={};const h=(e,t)=>{const{model:o,editRender:n}=t;n&&(o.value=pe(e,t),o.update=!1)},v=(e,t)=>{const{model:o,editRender:n}=t;n&&o.update&&(fe(e,t,o.value),o.update=!1,o.value=null)},x=()=>{const e=l.value;if(e){const t=e.querySelector(".col--selected");t&&V(t,"col--selected")}};function b(){const{editStore:e,tableColumn:t}=o,n=i.value,{actived:l}=e,{row:r,column:a}=l;(r||a)&&("row"===n.mode?t.forEach((e=>v(r,e))):v(r,a))}function y(t,o){const{tableFullTreeData:l,afterFullData:r,fullDataRowIdData:i,fullAllDataRowIdData:s}=n,u=c.value,{rowField:d,parentField:f,children:m,mapChildren:h}=u,g=o?"push":"unshift";t.forEach((t=>{const o=t[f],n=re(e,t),c=o?a().findTree(l,(e=>o===e[d]),{children:h}):null;if(c){const{item:o}=c,l=s[re(e,o)],r=l?l.level:0;let u=o[m];a().isArray(u)||(u=o[m]=[]),u[g](t);const d={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,items:u,parent:parent,level:r+1};i[n]=d,s[n]=d}else{o&&p("vxe.error.unableInsert"),r[g](t),l[g](t);const e={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,items:l,parent:null,level:0};i[n]=e,s[n]=e}}))}return d={insert(e){return d.insertAt(e,null)},insertAt(l,r){const{treeConfig:i}=t,{mergeList:s,editStore:d}=o,{tableFullTreeData:m,afterFullData:h,tableFullData:v,fullDataRowIdData:x,fullAllDataRowIdData:b}=n,w=c.value,{transform:C,rowField:T,mapChildren:E}=w;a().isArray(l)||(l=[l]);const S=l.map((t=>e.defineField(Object.assign({},t))));if(r)if(-1===r)i&&C?y(S,!0):(h.push(...S),v.push(...S),s.forEach((e=>{const{row:t,rowspan:o}=e;t+o>h.length&&(e.rowspan=o+S.length)})));else if(i&&C){const t=a().findTree(m,(e=>r[T]===e[T]),{children:E});if(t){const{parent:o}=t,n=t.items,l=b[re(e,o)],r=l?l.level:0;S.forEach(((l,a)=>{const i=re(e,l);l[w.parentField]&&o&&l[w.parentField]!==o[T]&&f("vxe.error.errProp",[`${w.parentField}=${l[w.parentField]}`,`${w.parentField}=${o[T]}`]),o&&(l[w.parentField]=o[T]),n.splice(t.index+a,0,l);const s={row:l,rowid:i,seq:-1,index:-1,_index:-1,$index:-1,items:n,parent:o,level:r+1};x[i]=s,b[i]=s}))}else p("vxe.error.unableInsert"),y(S,!0)}else{if(i)throw new Error(u("vxe.error.noTree",["insert"]));let t=-1;if(a().isNumber(r)?r<h.length&&(t=r):t=e.findRowIndexOf(h,r),-1===t)throw new Error(f("vxe.error.unableInsert"));h.splice(t,0,...S),v.splice(e.findRowIndexOf(v,r),0,...S),s.forEach((e=>{const{row:o,rowspan:n}=e;o>t?e.row=o+S.length:o+n>t&&(e.rowspan=n+S.length)}))}else i&&C?y(S,!1):(h.unshift(...S),v.unshift(...S),s.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+S.length)})));return d.insertList.unshift(...S),e.updateFooter(),e.cacheRowMap(),e.handleTableData(i&&C),i&&C||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),(0,g.nextTick)().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:S.length?S[S.length-1]:null,rows:S})))},remove(l){const{treeConfig:r}=t,{mergeList:i,editStore:u,selection:p}=o,{tableFullTreeData:f,afterFullData:m,tableFullData:h}=n,v=s.value,x=c.value,{transform:b}=x,{actived:w,removeList:y,insertList:C}=u,{checkField:T}=v;let E=[];return l?a().isArray(l)||(l=[l]):l=h,l.forEach((t=>{e.isInsertByRow(t)||y.push(t)})),T||l.forEach((t=>{const o=e.findRowIndexOf(p,t);o>-1&&p.splice(o,1)})),h===l?(l=E=h.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):r&&b?l.forEach((t=>{const o=re(e,t),n=a().findTree(f,(t=>o===re(e,t)),x);if(n){const e=n.items.splice(n.index,1);E.push(e[0])}const l=e.findRowIndexOf(m,t);l>-1&&m.splice(l,1)})):l.forEach((t=>{const o=e.findRowIndexOf(h,t);if(o>-1){const e=h.splice(o,1);E.push(e[0])}const n=e.findRowIndexOf(m,t);n>-1&&(i.forEach((e=>{const{row:t,rowspan:o}=e;t>n?e.row=t-1:t+o>n&&(e.rowspan=o-1)})),m.splice(n,1))})),w.row&&e.findRowIndexOf(l,w.row)>-1&&d.clearEdit(),l.forEach((t=>{const o=e.findRowIndexOf(C,t);o>-1&&C.splice(o,1)})),e.updateFooter(),e.cacheRowMap(),e.handleTableData(r&&b),r&&b||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),(0,g.nextTick)().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:E.length?E[E.length-1]:null,rows:E})))},removeCheckboxRow(){return d.remove(e.getCheckboxRecords()).then((t=>(e.clearCheckboxRow(),t)))},removeRadioRow(){const t=e.getRadioRecord();return d.remove(t||[]).then((t=>(e.clearRadioRow(),t)))},removeCurrentRow(){const t=e.getCurrentRecord();return d.remove(t||[]).then((t=>(e.clearCurrentRow(),t)))},getRecordset(){return{insertRecords:d.getInsertRecords(),removeRecords:d.getRemoveRecords(),updateRecords:d.getUpdateRecords()}},getInsertRecords(){const{treeConfig:l}=t,{editStore:r}=o,{tableFullTreeData:i,tableFullData:s}=n,u=c.value,d=r.insertList,p=[];return d.length&&(l&&u.transform?d.forEach((t=>{const o=re(e,t),n=a().findTree(i,(t=>o===re(e,t)),u);n&&p.push(t)})):d.forEach((t=>{e.findRowIndexOf(s,t)>-1&&p.push(t)}))),p},getRemoveRecords(){const{editStore:e}=o;return e.removeList},getUpdateRecords(){const{keepSource:o,treeConfig:l}=t,{tableFullData:r}=n,i=c.value;return o?(b(),l?a().filterTree(r,(t=>e.isUpdateByRow(t)),i):r.filter((t=>e.isUpdateByRow(t)))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:t}=o,{afterFullData:r}=n,a=l.value,{args:i,row:s}=t.actived;return i&&e.findRowIndexOf(r,s)>-1&&a.querySelectorAll(".vxe-body--column.col--actived").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=o,{args:t,column:n}=e.selected;return t&&n?Object.assign({},t):null},clearActived(e){return this.clearEdit(e)},clearEdit(t){const{editStore:n}=o,{actived:l}=n,{row:r,column:a}=l;return(r||a)&&(b(),l.args=null,l.row=null,l.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:r,rowIndex:e.getRowIndex(r),$rowIndex:e.getVMRowIndex(r),column:a,columnIndex:e.getColumnIndex(a),$columnIndex:e.getVMColumnIndex(a)},t||null)),e.clearValidate?e.clearValidate():(0,g.nextTick)()},clearSelected(){const{editStore:e}=o,{selected:t}=e;return t.row=null,t.column=null,x(),(0,g.nextTick)()},isActiveByRow(e){return this.isEditByRow(e)},isEditByRow(e){const{editStore:t}=o;return t.actived.row===e},setActiveRow(e){return d.setEditRow(e)},setEditRow(t){const{visibleColumn:o}=n;return e.setEditCell(t,a().find(o,(e=>w(e.editRender))))},setActiveCell(e,t){return d.setEditCell(e,t)},setEditCell(o,l){const{editConfig:r}=t,i=a().isString(l)?e.getColumnByField(l):l;return o&&i&&w(r)&&w(i.editRender)?e.scrollToRow(o,i).then((()=>{const t=e.getCell(o,i);return t&&(m.handleActived({row:o,rowIndex:e.getRowIndex(o),column:i,columnIndex:e.getColumnIndex(i),cell:t,$table:e}),n._lastCallTime=Date.now()),(0,g.nextTick)()})):(0,g.nextTick)()},setSelectCell(t,n){const{tableData:l}=o,r=i.value,s=a().isString(n)?e.getColumnByField(n):n;if(t&&s&&"manual"!==r.trigger){const o=e.findRowIndexOf(l,t);if(o>-1&&s){const n=e.getCell(t,s),l={row:t,rowIndex:o,column:s,columnIndex:e.getColumnIndex(s),cell:n};e.handleSelected(l,{})}}return(0,g.nextTick)()}},m={handleActived(n,l){const{editConfig:r,mouseConfig:a}=t,{editStore:s,tableColumn:c}=o,u=i.value,{mode:p}=u,{actived:f}=s,{row:v,column:x}=n,{editRender:b}=x,y=n.cell||e.getCell(v,x),C=u.beforeEditMethod||u.activeMethod;if(n.cell=y,w(r)&&w(b)&&y){if(f.row!==v||"cell"===p&&f.column!==x){let t="edit-disabled";C&&!C({...n,$table:e})||(a&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),f.column&&d.clearEdit(l),t="edit-actived",x.renderHeight=y.offsetHeight,f.args=n,f.row=v,f.column=x,"row"===p?c.forEach((e=>h(v,e))):h(v,x),(0,g.nextTick)((()=>{m.handleFocus(n,l)}))),e.dispatchEvent(t,{row:v,rowIndex:e.getRowIndex(v),$rowIndex:e.getVMRowIndex(v),column:x,columnIndex:e.getColumnIndex(x),$columnIndex:e.getVMColumnIndex(x)},l)}else{const{column:t}=f;if(a&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==x){const{model:o}=t;o.update&&fe(v,t,o.value),e.clearValidate&&e.clearValidate()}x.renderHeight=y.offsetHeight,f.args=n,f.column=x,setTimeout((()=>{m.handleFocus(n,l)}))}e.focus()}return(0,g.nextTick)()},handleFocus(t){const{row:o,column:n,cell:l}=t,{editRender:r}=n;if(w(r)){const i=xt.get(r.name);let s,{autofocus:c,autoselect:u}=r;if(!c&&i&&(c=i.autofocus),!u&&i&&(u=i.autoselect),a().isFunction(c)?s=c.call(this,t):c&&(s=l.querySelector(c),s&&s.focus()),s){if(u)s.select();else if(M.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else e.scrollToRow(o,n)}},handleSelected(n,l){const{mouseConfig:a}=t,{editStore:s}=o,c=r.value,u=i.value,{actived:p,selected:f}=s,{row:h,column:v}=n,x=a&&c.selected,b=()=>(!x||f.row===h&&f.column===v||(p.row!==h||"cell"===u.mode&&p.column!==v)&&(d.clearEdit(l),d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),f.args=n,f.row=h,f.column=v,x&&m.addCellSelectedClass(),e.focus(),l&&e.dispatchEvent("cell-selected",n,l)),(0,g.nextTick)());return b()},addCellSelectedClass(){const{editStore:t}=o,{selected:n}=t,{row:l,column:r}=n;if(x(),l&&r){const t=e.getCell(l,r);t&&j(t,"col--selected")}}},{...d,...m}},setupGrid(e){return e.extendTableMethods(ro)}};var io=ao;const so={install(){Lt.hooks.add("$tableEdit",io)}},co=so;function uo(e){const t=(0,g.inject)("xesize",null),o=(0,g.computed)((()=>e.size||(t?t.value:null)));return(0,g.provide)("xesize",o),o}var po=(0,g.defineComponent)({name:"VxeButton",props:{type:String,className:String,size:{type:String,default:()=>c.button.size||c.size},name:[String,Number],content:String,placement:String,status:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>c.button.transfer}},emits:["click","dropdown-click"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),s={showTime:null},u=(0,g.ref)(),d=(0,g.ref)(),p=(0,g.ref)(),f={refElem:u},m={xID:l,props:e,context:t,reactData:i,internalData:s,getRefMaps:()=>f};let h={};const v=(0,g.computed)((()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1})),x=(0,g.computed)((()=>{const{type:t}=e;return t&&"text"===t?t:"button"})),b=()=>{i.panelIndex<E()&&(i.panelIndex=T())},w=()=>(0,g.nextTick)().then((()=>{const{transfer:t,placement:o}=e,{panelIndex:n}=i,l=d.value,r=p.value;if(r&&l){const e=l.offsetHeight,a=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:n},{top:p,left:f,boundingTop:m,visibleHeight:h,visibleWidth:v}=X(l);let x="bottom";if(t){let t=f+a-c,n=p+e;"top"===o?(x="top",n=p-s):o||(m+e+s+u>h&&(x="top",n=p-s),n<u&&(x="bottom",n=p+e)),t+c+u>v&&(t-=t+c+u-v),t<u&&(t=u),Object.assign(d,{left:`${t}px`,right:"auto",top:`${n}px`,minWidth:`${a}px`})}else"top"===o?(x="top",d.bottom=`${e}px`):o||m+e+s>h&&m-e-s>u&&(x="top",d.bottom=`${e}px`);return i.panelStyle=d,i.panelPlacement=x,(0,g.nextTick)()}})),y=e=>{h.dispatchEvent("click",{$event:e},e)},C=e=>{const t=0===e.button;t&&e.stopPropagation()},S=e=>{const t=e.currentTarget,o=p.value,{flag:n,targetElem:l}=U(e,t,"vxe-button");n&&(o&&(o.dataset.active="N"),i.showPanel=!1,setTimeout((()=>{o&&"Y"===o.dataset.active||(i.animatVisible=!1)}),350),h.dispatchEvent("dropdown-click",{name:l.getAttribute("name"),$event:e},e))},k=()=>{const e=p.value;e&&(e.dataset.active="Y",i.animatVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(i.showPanel=!0,b(),w(),setTimeout((()=>{i.showPanel&&w()}),50))}),20))},O=()=>{const e=p.value;e&&(e.dataset.active="Y",i.inited||(i.inited=!0),s.showTime=setTimeout((()=>{"Y"===e.dataset.active?k():i.animatVisible=!1}),250))},$=()=>{const e=p.value;clearTimeout(s.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(i.showPanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(i.animatVisible=!1)}),350))}),100)):(i.animatVisible=!1,i.showPanel=!1)},I=()=>{$()},M=()=>{const{content:t,icon:n,loading:l}=e,r=[];return l?r.push((0,g.h)("i",{class:["vxe-button--loading-icon",c.icon.BUTTON_LOADING]})):o.icon?r.push((0,g.h)("span",{class:"vxe-button--custom-icon"},o.icon({}))):n&&r.push((0,g.h)("i",{class:["vxe-button--icon",n]})),o.default?r.push((0,g.h)("span",{class:"vxe-button--content"},o.default({}))):t&&r.push((0,g.h)("span",{class:"vxe-button--content"},R(t))),r};h={dispatchEvent(e,t,o){n(e,Object.assign({$button:m,$event:o},t))},focus(){const e=d.value;return e.focus(),(0,g.nextTick)()},blur(){const e=d.value;return e.blur(),(0,g.nextTick)()}},Object.assign(m,h),(0,g.onMounted)((()=>{Qt.on(m,"mousewheel",(e=>{const t=p.value;i.showPanel&&!U(e,t).flag&&$()}))})),(0,g.onUnmounted)((()=>{Qt.off(m,"mousewheel")}));const D=()=>{const{className:t,transfer:n,type:l,round:a,circle:s,destroyOnClose:f,status:m,name:h,disabled:b,loading:w}=e,{inited:T,showPanel:E}=i,R=v.value,$=x.value,D=r.value;return o.dropdowns?(0,g.h)("div",{ref:u,class:["vxe-button--dropdown",t,{[`size--${D}`]:D,"is--active":E}]},[(0,g.h)("button",{ref:d,class:["vxe-button",`type--${$}`,{[`size--${D}`]:D,[`theme--${m}`]:m,"is--round":a,"is--circle":s,"is--disabled":b||w,"is--loading":w}],name:h,type:R?l:"button",disabled:b||w,onMouseenter:O,onMouseleave:I,onClick:y},M().concat([(0,g.h)("i",{class:`vxe-button--dropdown-arrow ${c.icon.BUTTON_DROPDOWN}`})])),(0,g.h)(g.Teleport,{to:"body",disabled:!n||!T},[(0,g.h)("div",{ref:p,class:["vxe-button--dropdown-panel",{[`size--${D}`]:D,"animat--leave":i.animatVisible,"animat--enter":E}],placement:i.panelPlacement,style:i.panelStyle},T?[(0,g.h)("div",{class:"vxe-button--dropdown-wrapper",onMousedown:C,onClick:S,onMouseenter:k,onMouseleave:I},f&&!E?[]:o.dropdowns({}))]:[])])]):(0,g.h)("button",{ref:d,class:["vxe-button",`type--${$}`,{[`size--${D}`]:D,[`theme--${m}`]:m,"is--round":a,"is--circle":s,"is--disabled":b||w,"is--loading":w}],name:h,type:R?l:"button",disabled:b||w,onClick:y},M())};return m.renderVN=D,m},render(){return this.renderVN()}}),fo=(0,g.defineComponent)({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const o=(0,g.computed)((()=>e.icon||c.icon.LOADING)),n=(0,g.computed)((()=>{const t=c.loadingText;return e.text||(null===t?t:c.i18n("vxe.loading.text"))}));return()=>{const l=o.value,r=n.value;return(0,g.h)("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[(0,g.h)("div",{class:"vxe-loading--warpper"},t.default({}))]:[(0,g.h)("div",{class:"vxe-loading--chunk"},[l?(0,g.h)("i",{class:l}):(0,g.h)("div",{class:"vxe-loading--spinner"}),r?(0,g.h)("div",{class:"vxe-loading--text"},`${r}`):null])])}}});const mo=Object.assign(fo,{install(e){e.component(fo.name,fo)}});var ho=mo;const go=[],vo=[];var xo=(0,g.defineComponent)({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>c.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>c.modal.duration},message:[Number,String],content:[Number,String],cancelButtonText:{type:String,default:()=>c.modal.cancelButtonText},confirmButtonText:{type:String,default:()=>c.modal.confirmButtonText},lockView:{type:Boolean,default:()=>c.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>c.modal.mask},maskClosable:{type:Boolean,default:()=>c.modal.maskClosable},escClosable:{type:Boolean,default:()=>c.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>c.modal.showHeader},showFooter:{type:Boolean,default:()=>c.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>c.modal.showClose},dblclickZoom:{type:Boolean,default:()=>c.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>c.modal.minWidth},minHeight:{type:[Number,String],default:()=>c.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>c.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>c.modal.draggable},remember:{type:Boolean,default:()=>c.modal.remember},destroyOnClose:{type:Boolean,default:()=>c.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>c.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>c.modal.transfer},storage:{type:Boolean,default:()=>c.modal.storage},storageKey:{type:String,default:()=>c.modal.storageKey},animat:{type:Boolean,default:()=>c.modal.animat},size:{type:String,default:()=>c.modal.size||c.size},beforeHideMethod:{type:Function,default:()=>c.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),s=(0,g.ref)(),u=(0,g.ref)(),d=(0,g.ref)(),p=(0,g.ref)(),m={refElem:s},h={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>m};let v={};const x=(0,g.computed)((()=>"message"===e.type)),b=()=>{const e=u.value;return e},w=()=>{const{width:t,height:o}=e,n=b();return n.style.width=`${t?isNaN(t)?t:`${t}px`:""}`,n.style.height=`${o?isNaN(o)?o:`${o}px`:""}`,(0,g.nextTick)()},y=()=>{const{zIndex:t}=e,{modalZindex:o}=i;t?i.modalZindex=t:o<E()&&(i.modalZindex=T())},C=()=>(0,g.nextTick)().then((()=>{const{position:t}=e,o=a().toNumber(e.marginSize),n=b(),l=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,i="center"===t,{top:s,left:c}=a().isString(t)?{top:t,left:t}:Object.assign({},t),u=i||"center"===s,d=i||"center"===c;let p="",f="";f=c&&!d?isNaN(c)?c:`${c}px`:`${Math.max(o,l/2-n.offsetWidth/2)}px`,p=s&&!u?isNaN(s)?s:`${s}px`:`${Math.max(o,r/2-n.offsetHeight/2)}px`,n.style.top=p,n.style.left=f})),S=()=>{(0,g.nextTick)((()=>{let e=0;vo.forEach((t=>{const o=t.getBox();e+=a().toNumber(t.props.top),t.reactData.modalTop=e,e+=o.clientHeight}))}))},k=()=>{vo.indexOf(h)>-1&&a().remove(vo,(e=>e===h)),S()},O=t=>{const{remember:o,beforeHideMethod:l}=e,{visible:r}=i,s=x.value,c={type:t};return r&&Promise.resolve(l?l(c):null).then((e=>{a().isError(e)||(s&&k(),i.contentVisible=!1,o||(i.zoomLocat=null),a().remove(go,(e=>e===h)),v.dispatchEvent("before-hide",c),setTimeout((()=>{i.visible=!1,n("update:modelValue",!1),v.dispatchEvent("hide",c)}),200))})).catch((e=>e)),(0,g.nextTick)()},$=e=>{const t="close";v.dispatchEvent(t,{type:t},e),O(t)},I=e=>{const t="confirm";v.dispatchEvent(t,{type:t},e),O(t)},M=e=>{const t="cancel";v.dispatchEvent(t,{type:t},e),O(t)},D=e=>{const t=c.version,o=a().toStringJSON(localStorage.getItem(e)||"");return o&&o._v===t?o:{_v:t}},N=()=>{const{id:t,remember:o,storage:n,storageKey:l}=e;return!!(t&&o&&n&&D(l)[t])},L=()=>{const{id:t,remember:o,storage:n,storageKey:l}=e;if(t&&o&&n){const e=D(l)[t];if(e){const t=b(),[o,n,l,r,a,s,c,u]=e.split(",");o&&(t.style.left=`${o}px`),n&&(t.style.top=`${n}px`),l&&(t.style.width=`${l}px`),r&&(t.style.height=`${r}px`),a&&s&&(i.zoomLocat={left:a,top:s,width:c,height:u})}}},A=()=>{-1===vo.indexOf(h)&&vo.push(h),S()},P=()=>{const{id:t,remember:o,storage:n,storageKey:l}=e,{zoomLocat:r}=i;if(t&&o&&n){const e=b(),o=D(l);o[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((e=>e?a().toNumber(e):"")).join(","),localStorage.setItem(l,a().toJSONString(o))}},F=()=>(0,g.nextTick)().then((()=>{if(!i.zoomLocat){const t=Math.max(0,a().toNumber(e.marginSize)),o=b(),{visibleHeight:n,visibleWidth:l}=_();i.zoomLocat={top:o.offsetTop,left:o.offsetLeft,width:o.offsetWidth+(o.style.width?0:1),height:o.offsetHeight+(o.style.height?0:1)},Object.assign(o.style,{top:`${t}px`,left:`${t}px`,width:l-2*t+"px",height:n-2*t+"px"}),P()}})),V=()=>{const{duration:t,remember:o,showFooter:l}=e,{inited:r,visible:s}=i,c=x.value;return r||(i.inited=!0),s||(o||w(),i.visible=!0,i.contentVisible=!1,y(),go.push(h),setTimeout((()=>{i.contentVisible=!0,(0,g.nextTick)((()=>{if(l){const e=d.value,t=p.value,o=e||t;o&&o.focus()}const e="",t={type:e};n("update:modelValue",!0),v.dispatchEvent("show",t)}))}),10),c?(A(),-1!==t&&setTimeout((()=>O("close")),a().toNumber(t))):(0,g.nextTick)((()=>{const{fullscreen:t}=e,{firstOpen:n}=i;o&&!n||C().then((()=>{setTimeout((()=>C()),20)})),n?(i.firstOpen=!1,N()?L():t&&(0,g.nextTick)((()=>F()))):t&&(0,g.nextTick)((()=>F()))}))),(0,g.nextTick)()},j=t=>{const o=s.value;if(e.maskClosable&&t.target===o){const e="mask";O(e)}},H=e=>{const t=Zt(e,Yt.ESCAPE);if(t){const e=a().max(go,(e=>e.reactData.modalZindex));e&&setTimeout((()=>{e===h&&e.props.escClosable&&O("exit")}),10)}},B=()=>!!i.zoomLocat,z=()=>(0,g.nextTick)().then((()=>{const{zoomLocat:e}=i;if(e){const t=b();i.zoomLocat=null,Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),P()}})),W=()=>i.zoomLocat?z().then((()=>B())):F().then((()=>B())),q=e=>{const{zoomLocat:t}=i,o={type:t?"revert":"max"};return W().then((()=>{v.dispatchEvent("zoom",o,e)}))},Y=()=>{const e=x.value;if(!e){const e=b();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},X=(e,t)=>{const o=x.value;if(!o){const o=b();a().isNumber(e)&&(o.style.top=`${e}px`),a().isNumber(t)&&(o.style.left=`${t}px`)}return(0,g.nextTick)()},G=()=>{const{modalZindex:e}=i;go.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&y()},K=t=>{const{remember:o,storage:n}=e,{zoomLocat:l}=i,r=a().toNumber(e.marginSize),s=b();if(!l&&0===t.button&&!U(t,s,"trigger--btn").flag){t.preventDefault();const e=document.onmousemove,l=document.onmouseup,a=t.clientX-s.offsetLeft,i=t.clientY-s.offsetTop,{visibleHeight:c,visibleWidth:u}=_();document.onmousemove=e=>{e.preventDefault();const t=s.offsetWidth,o=s.offsetHeight,n=r,l=u-t-r-1,d=r,p=c-o-r-1;let f=e.clientX-a,m=e.clientY-i;f>l&&(f=l),f<n&&(f=n),m>p&&(m=p),m<d&&(m=d),s.style.left=`${f}px`,s.style.top=`${m}px`,s.className=s.className.replace(/\s?is--drag/,"")+" is--drag"},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=l,o&&n&&(0,g.nextTick)((()=>{P()})),setTimeout((()=>{s.className=s.className.replace(/\s?is--drag/,"")}),50)}}},Z=t=>{t.preventDefault();const{remember:o,storage:n}=e,{visibleHeight:l,visibleWidth:r}=_(),s=a().toNumber(e.marginSize),c=t.target,u=c.getAttribute("type"),d=a().toNumber(e.minWidth),p=a().toNumber(e.minHeight),f=r,m=l,h=b(),g=document.onmousemove,x=document.onmouseup,w=h.clientWidth,y=h.clientHeight,C=t.clientX,T=t.clientY,E=h.offsetTop,S=h.offsetLeft,R={type:"resize"};document.onmousemove=e=>{let t,a,i,c;switch(e.preventDefault(),u){case"wl":t=C-e.clientX,i=t+w,S-t>s&&i>d&&(h.style.width=`${i<f?i:f}px`,h.style.left=S-t+"px");break;case"swst":t=C-e.clientX,a=T-e.clientY,i=t+w,c=a+y,S-t>s&&i>d&&(h.style.width=`${i<f?i:f}px`,h.style.left=S-t+"px"),E-a>s&&c>p&&(h.style.height=`${c<m?c:m}px`,h.style.top=E-a+"px");break;case"swlb":t=C-e.clientX,a=e.clientY-T,i=t+w,c=a+y,S-t>s&&i>d&&(h.style.width=`${i<f?i:f}px`,h.style.left=S-t+"px"),E+c+s<l&&c>p&&(h.style.height=`${c<m?c:m}px`);break;case"st":a=T-e.clientY,c=y+a,E-a>s&&c>p&&(h.style.height=`${c<m?c:m}px`,h.style.top=E-a+"px");break;case"wr":t=e.clientX-C,i=t+w,S+i+s<r&&i>d&&(h.style.width=`${i<f?i:f}px`);break;case"sest":t=e.clientX-C,a=T-e.clientY,i=t+w,c=a+y,S+i+s<r&&i>d&&(h.style.width=`${i<f?i:f}px`),E-a>s&&c>p&&(h.style.height=`${c<m?c:m}px`,h.style.top=E-a+"px");break;case"selb":t=e.clientX-C,a=e.clientY-T,i=t+w,c=a+y,S+i+s<r&&i>d&&(h.style.width=`${i<f?i:f}px`),E+c+s<l&&c>p&&(h.style.height=`${c<m?c:m}px`);break;case"sb":a=e.clientY-T,c=a+y,E+c+s<l&&c>p&&(h.style.height=`${c<m?c:m}px`);break}h.className=h.className.replace(/\s?is--drag/,"")+" is--drag",o&&n&&P(),v.dispatchEvent("zoom",R,e)},document.onmouseup=()=>{i.zoomLocat=null,document.onmousemove=g,document.onmouseup=x,setTimeout((()=>{h.className=h.className.replace(/\s?is--drag/,"")}),50)}},J=()=>{const{slots:t={},showClose:n,showZoom:l,title:r}=e,{zoomLocat:a}=i,s=o.title||t.title,u=o.corner||t.corner,d=[(0,g.h)("div",{class:"vxe-modal--header-title"},s?Re(s({$modal:h})):r?R(r):c.i18n("vxe.alert.title"))],p=[];return u&&p.push((0,g.h)("span",{class:"vxe-modal--corner-warpper"},Re(u({$modal:h})))),l&&p.push((0,g.h)("i",{class:["vxe-modal--zoom-btn","trigger--btn",a?c.icon.MODAL_ZOOM_OUT:c.icon.MODAL_ZOOM_IN],title:c.i18n("vxe.modal.zoom"+(a?"Out":"In")),onClick:q})),n&&p.push((0,g.h)("i",{class:["vxe-modal--close-btn","trigger--btn",c.icon.MODAL_CLOSE],title:c.i18n("vxe.modal.close"),onClick:$})),d.push((0,g.h)("div",{class:"vxe-modal--header-right"},p)),d},Q=()=>{const{slots:t={},showZoom:n,draggable:l}=e,r=x.value,a=o.header||t.header,s=[];if(e.showHeader){const t={};l&&(t.onMousedown=K),n&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=q),s.push((0,g.h)("div",{class:["vxe-modal--header",{"is--draggable":l,"is--ellipsis":!r&&e.showTitleOverflow}],...t},a?!i.inited||e.destroyOnClose&&!i.visible?[]:Re(a({$modal:h})):J()))}return s},ee=()=>{const{slots:t={},status:n,message:l}=e,r=e.content||l,a=x.value,s=o.default||t.default,u=[];return n&&u.push((0,g.h)("div",{class:"vxe-modal--status-wrapper"},[(0,g.h)("i",{class:["vxe-modal--status-icon",e.iconStatus||c.icon[`MODAL_${n}`.toLocaleUpperCase()]]})])),u.push((0,g.h)("div",{class:"vxe-modal--content"},s?!i.inited||e.destroyOnClose&&!i.visible?[]:Re(s({$modal:h})):R(r))),a||u.push((0,g.h)(ho,{class:"vxe-modal--loading",modelValue:e.loading})),[(0,g.h)("div",{class:"vxe-modal--body"},u)]},te=()=>{const{type:t}=e,o=[];return"confirm"===t&&o.push((0,g.h)(po,{ref:p,content:e.cancelButtonText||c.i18n("vxe.button.cancel"),onClick:M})),o.push((0,g.h)(po,{ref:d,status:"primary",content:e.confirmButtonText||c.i18n("vxe.button.confirm"),onClick:I})),o},oe=()=>{const{slots:t={}}=e,n=x.value,l=o.footer||t.footer,r=[];return e.showFooter&&r.push((0,g.h)("div",{class:"vxe-modal--footer"},l?!i.inited||e.destroyOnClose&&!i.visible?[]:Re(l({$modal:h})):te())),!n&&e.resize&&r.push((0,g.h)("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>(0,g.h)("span",{class:`${e}-resize`,type:e,onMousedown:Z}))))),r};v={dispatchEvent(e,t,o){n(e,Object.assign({$modal:h,$event:o},t))},open:V,close(){return O("close")},getBox:b,getPosition:Y,setPosition:X,isMaximized:B,zoom:W,maximize:F,revert:z},Object.assign(h,v),(0,g.watch)((()=>e.width),w),(0,g.watch)((()=>e.height),w),(0,g.watch)((()=>e.modelValue),(e=>{e?V():O("model")})),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{e.storage&&!e.id&&f("vxe.error.reqProp",["modal.id"]),e.modelValue&&V(),w()})),e.escClosable&&Qt.on(h,"keydown",H)})),(0,g.onUnmounted)((()=>{Qt.off(h,"keydown"),k()}));const ne=()=>{const{className:t,type:o,animat:n,loading:l,status:a,lockScroll:c,lockView:d,mask:p,resize:f}=e,{inited:m,zoomLocat:h,modalTop:v,contentVisible:x,visible:b}=i,w=r.value;return(0,g.h)(g.Teleport,{to:"body",disabled:!e.transfer||!m},[(0,g.h)("div",{ref:s,class:["vxe-modal--wrapper",`type--${o}`,t||"",{[`size--${w}`]:w,[`status--${a}`]:a,"is--animat":n,"lock--scroll":c,"lock--view":d,"is--resize":f,"is--mask":p,"is--maximize":h,"is--visible":x,"is--active":b,"is--loading":l}],style:{zIndex:i.modalZindex,top:v?`${v}px`:null},onClick:j},[(0,g.h)("div",{ref:u,class:"vxe-modal--box",onMousedown:G},Q().concat(ee(),oe()))])])};return h.renderVN=ne,h},render(){return this.renderVN()}});function bo(e){if(e){const t=new Date;let o=0,n=0,l=0;if(a().isDate(e))o=e.getHours(),n=e.getMinutes(),l=e.getSeconds();else{e=a().toValueString(e);const t=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(o=a().toNumber(t[1]),n=a().toNumber(t[3]),l=a().toNumber(t[5]))}return t.setHours(o),t.setMinutes(n),t.setSeconds(l),t}return new Date("")}function wo(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function yo(e){return a().isString(e)?e.replace(/,/g,""):e}function Co(e,t){return/^-/.test(""+e)?a().toFixed(a().ceil(e,t),t):a().toFixed(a().floor(e,t),t)}const To=12,Eo=20,So=8;var Ro=(0,g.defineComponent)({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>c.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>c.input.size||c.size},multiple:Boolean,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>c.input.exponential},controls:{type:Boolean,default:()=>c.input.controls},digits:{type:[String,Number],default:()=>c.input.digits},startDate:{type:[String,Number,Date],default:()=>c.input.startDate},endDate:{type:[String,Number,Date],default:()=>c.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>c.input.startDay},labelFormat:{type:String,default:()=>c.input.labelFormat},valueFormat:{type:String,default:()=>c.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>c.input.festivalMethod},disabledMethod:{type:Function,default:()=>c.input.disabledMethod},selectDay:{type:[String,Number],default:()=>c.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>c.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s=uo(e),u=(0,g.reactive)({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d=(0,g.ref)(),p=(0,g.ref)(),f=(0,g.ref)(),m=(0,g.ref)(),h={refElem:d,refInput:p},v={xID:i,props:e,context:t,reactData:u,getRefMaps:()=>h};let x={};const b=(t,o)=>{const{type:n}=e;return"time"===n?bo(t):a().toStringDate(t,o)},w=(0,g.computed)((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),y=(0,g.computed)((()=>["number","integer","float"].indexOf(e.type)>-1)),C=(0,g.computed)((()=>{const t=w.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1})),S=(0,g.computed)((()=>"password"===e.type)),k=(0,g.computed)((()=>"search"===e.type)),O=(0,g.computed)((()=>a().toInteger(e.digits)||1)),$=(0,g.computed)((()=>{const{type:t}=e,o=O.value,n=e.step;return"integer"===t?a().toInteger(n)||1:"float"===t?a().toNumber(n)||1/Math.pow(10,o):a().toNumber(n)||1})),I=(0,g.computed)((()=>{const{type:t}=e,o=y.value,n=C.value,l=S.value;return e.clearable&&(l||o||n||"text"===t||"search"===t)})),M=(0,g.computed)((()=>e.startDate?a().toStringDate(e.startDate):null)),D=(0,g.computed)((()=>e.endDate?a().toStringDate(e.endDate):null)),N=(0,g.computed)((()=>["date","week","month","quarter","year"].includes(e.type))),L=(0,g.computed)((()=>{const{modelValue:t,multiple:o}=e,n=C.value,l=V.value;return o&&t&&n?a().toValueString(t).split(",").map((e=>{const t=b(e,l);return a().isValidDate(t)?t:null})):[]})),A=(0,g.computed)((()=>{const e=L.value,t=V.value;return e.map((e=>a().toDateString(e,t)))})),P=(0,g.computed)((()=>{const e=L.value,t=W.value;return e.map((e=>a().toDateString(e,t))).join(", ")})),V=(0,g.computed)((()=>{const{type:t}=e;return"time"===t?"HH:mm:ss":e.valueFormat||("datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),j=(0,g.computed)((()=>{const{modelValue:t}=e,o=C.value,n=V.value;let l=null;if(t&&o){const e=b(t,n);a().isValidDate(e)&&(l=e)}return l})),_=(0,g.computed)((()=>{const e=M.value,{selectMonth:t}=u;return!(!t||!e)&&t<=e})),H=(0,g.computed)((()=>{const e=D.value,{selectMonth:t}=u;return!(!t||!e)&&t>=e})),B=(0,g.computed)((()=>{const{datetimePanelValue:e}=u;return e?a().toDateString(e,"HH:mm:ss"):""})),z=(0,g.computed)((()=>{const e=j.value,t=w.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),W=(0,g.computed)((()=>{const t=C.value;return t?e.labelFormat||c.i18n(`vxe.input.date.labelFormat.${e.type}`):null})),q=(0,g.computed)((()=>{const{selectMonth:e,currentDate:t}=u,o=[];if(e&&t){const n=t.getFullYear(),l=e.getFullYear(),r=new Date(l-l%To,0,1);for(let e=-4;e<To+4;e++){const t=a().getWhatYear(r,e,"first"),l=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:n===l,isNext:e>=To,year:l})}}return o})),Y=(0,g.computed)((()=>{const e=C.value;if(e){const{datePanelType:e,selectMonth:t}=u,o=q.value;let n,l="";return t&&(l=t.getFullYear(),n=t.getMonth()+1),"quarter"===e?c.i18n("vxe.input.date.quarterLabel",[l]):"month"===e?c.i18n("vxe.input.date.monthLabel",[l]):"year"===e?o.length?`${o[0].year} - ${o[o.length-1].year}`:"":c.i18n("vxe.input.date.dayLabel",[l,n?c.i18n(`vxe.input.date.m${n}`):"-"])}return""})),G=(0,g.computed)((()=>{const{startDay:t,startWeek:o}=e;return a().toNumber(a().isNumber(t)||a().isString(t)?t:o)})),K=(0,g.computed)((()=>{const e=[],t=C.value;if(t){let t=G.value;e.push(t);for(let o=0;o<6;o++)t>=6?t=0:t++,e.push(t)}return e})),Z=(0,g.computed)((()=>{const e=C.value;if(e){const e=K.value;return e.map((e=>({value:e,label:c.i18n(`vxe.input.date.weeks.w${e}`)})))}return[]})),J=(0,g.computed)((()=>{const e=C.value;if(e){const e=Z.value;return[{label:c.i18n("vxe.input.date.weeks.w")}].concat(e)}return[]})),Q=(0,g.computed)((()=>{const e=q.value;return a().chunk(e,4)})),ee=(0,g.computed)((()=>{const{selectMonth:e,currentDate:t}=u,o=[];if(e&&t){const n=t.getFullYear(),l=wo(t),r=a().getWhatYear(e,0,"first"),i=r.getFullYear();for(let e=-2;e<So-2;e++){const t=a().getWhatQuarter(r,e),s=t.getFullYear(),c=wo(t),u=s<i;o.push({date:t,isPrev:u,isCurrent:s===i,isNow:s===n&&c===l,isNext:!u&&s>i,quarter:c})}}return o})),te=(0,g.computed)((()=>{const e=ee.value;return a().chunk(e,2)})),oe=(0,g.computed)((()=>{const{selectMonth:e,currentDate:t}=u,o=[];if(e&&t){const n=t.getFullYear(),l=t.getMonth(),r=a().getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<Eo-4;t++){const i=a().getWhatYear(e,0,t),s=i.getFullYear(),c=i.getMonth(),u=s<r;o.push({date:i,isPrev:u,isCurrent:s===r,isNow:s===n&&c===l,isNext:!u&&s>r,month:c})}}return o})),ne=(0,g.computed)((()=>{const e=oe.value;return a().chunk(e,4)})),le=(0,g.computed)((()=>{const{selectMonth:e,currentDate:t}=u,o=[];if(e&&t){const n=z.value,l=K.value,r=t.getFullYear(),i=t.getMonth(),s=t.getDate(),c=e.getFullYear(),u=e.getMonth(),d=e.getDay(),p=-l.indexOf(d),f=new Date(a().getWhatDay(e,p).getTime()+n);for(let t=0;t<42;t++){const n=a().getWhatDay(f,t),l=n.getFullYear(),d=n.getMonth(),p=n.getDate(),m=n<e;o.push({date:n,isPrev:m,isCurrent:l===c&&d===u,isNow:l===r&&d===i&&p===s,isNext:!m&&u!==d,label:p})}}return o})),re=(0,g.computed)((()=>{const e=le.value;return a().chunk(e,7)})),ae=(0,g.computed)((()=>{const e=re.value,t=G.value;return e.map((e=>{const o=e[0],n={date:o.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:a().getYearWeek(o.date,t)};return[n].concat(e)}))})),ie=(0,g.computed)((()=>{const e=[],t=w.value;if(t)for(let o=0;o<24;o++)e.push({value:o,label:(""+o).padStart(2,"0")});return e})),se=(0,g.computed)((()=>{const e=[],t=w.value;if(t)for(let o=0;o<60;o++)e.push({value:o,label:(""+o).padStart(2,"0")});return e})),ce=(0,g.computed)((()=>{const e=se.value;return e})),ue=(0,g.computed)((()=>{const{type:t,readonly:o,editable:n,multiple:l}=e;return o||l||!n||"week"===t||"quarter"===t})),de=(0,g.computed)((()=>{const{type:t}=e,{showPwd:o}=u,n=y.value,l=C.value,r=S.value;return l||n||r&&o||"number"===t?"text":t})),pe=(0,g.computed)((()=>{const{placeholder:t}=e;return t?R(t):""})),fe=(0,g.computed)((()=>{const{maxlength:t}=e,o=y.value;return o&&!a().toNumber(t)?16:t})),me=(0,g.computed)((()=>{const{type:t,immediate:o}=e;return o||!("text"===t||"number"===t||"integer"===t||"float"===t)})),he=(0,g.computed)((()=>{const{type:t}=e,{inputValue:o}=u,n=y.value;return n?"integer"===t?a().toInteger(yo(o)):a().toNumber(yo(o)):0})),ge=(0,g.computed)((()=>{const{min:t}=e,{inputValue:o}=u,n=y.value,l=he.value;return!(!o&&0!==o||!n||null===t)&&l<=a().toNumber(t)})),ve=(0,g.computed)((()=>{const{max:t}=e,{inputValue:o}=u,n=y.value,l=he.value;return!(!o&&0!==o||!n||null===t)&&l>=a().toNumber(t)})),xe=t=>{const{type:o,exponential:n}=e,l=fe.value,r=O.value,i="float"===o?Co(t,r):a().toValueString(t);return!n||t!==i&&a().toValueString(t).toLowerCase()!==a().toNumber(i).toExponential()?i.slice(0,l):t},be=e=>{const{inputValue:t}=u;x.dispatchEvent(e.type,{value:t},e)},we=(t,o)=>{u.inputValue=t,n("update:modelValue",t),x.dispatchEvent("input",{value:t},o),a().toValueString(e.modelValue)!==t&&(x.dispatchEvent("change",{value:t},o),l&&r&&l.triggerItemEvent(o,r.itemConfig.field,t))},ye=(e,t)=>{const o=C.value,n=me.value;u.inputValue=e,o||(n?we(e,t):x.dispatchEvent("input",{value:e},t))},Ce=e=>{const t=e.target,o=t.value;ye(o,e)},Te=e=>{const t=me.value;t||be(e)},Ee=e=>{u.isActivated=!0;const t=C.value;t&&Rt(e),be(e)},Se=t=>{const{disabled:o}=e;if(!o){const{inputValue:e}=u;x.dispatchEvent("prefix-click",{value:e},t)}};let Re;const ke=()=>new Promise((e=>{u.visiblePanel=!1,Re=window.setTimeout((()=>{u.animatVisible=!1,e()}),350)})),Oe=(t,o)=>{const{type:n}=e,l=y.value,r=C.value;r&&ke(),(l||["text","search","password"].indexOf(n)>-1)&&focus(),x.dispatchEvent("clear",{value:o},t)},$e=t=>{const{disabled:o}=e;if(!o)if(F(t.currentTarget,"is--clear"))we("",t),Oe(t,"");else{const{inputValue:e}=u;x.dispatchEvent("suffix-click",{value:e},t)}},Ie=t=>{const{type:o}=e,{valueFormat:n}=e,l=W.value,r=G.value;let i=null,s="";if(t&&(i=b(t,n)),a().isValidDate(i)){if(s=a().toDateString(i,l,{firstDay:r}),l&&"week"===o){const e=a().getWhatWeek(i,0,r,r);if(e.getFullYear()<i.getFullYear()){const e=l.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;u.datePanelValue=i,u.datePanelLabel=s},Me=()=>{const t=C.value,{inputValue:o}=u;t&&(Ie(o),u.inputValue=e.multiple?P.value:u.datePanelLabel)},De=()=>{const{type:t}=e,{inputValue:o}=u,n=C.value,l=O.value;if(n)Me();else if("float"===t&&o){const e=Co(o,l);o!==e&&we(e,{type:"init"})}},Ne=t=>null===e.max||a().toNumber(t)<=a().toNumber(e.max),Le=t=>null===e.min||a().toNumber(t)>=a().toNumber(e.min),Ae=()=>{u.inputValue=e.multiple?P.value:u.datePanelLabel},Pe=e=>{const t=a().getWhatMonth(e,0,"first");a().isEqual(t,u.selectMonth)||(u.selectMonth=t)},Fe=t=>{const{modelValue:o,multiple:n}=e,{datetimePanelValue:l}=u,r=w.value,i=V.value,s=G.value;if("week"===e.type){const o=a().toNumber(e.selectDay);t=a().getWhatWeek(t,0,o,s)}else r&&(t.setHours(l.getHours()),t.setMinutes(l.getMinutes()),t.setSeconds(l.getSeconds()));const c=a().toDateString(t,i,{firstDay:s});if(Pe(t),n){const e=A.value;if(r){const e=[...L.value],o=[],n=a().findIndexOf(e,(e=>a().isDateSame(t,e,"yyyyMMdd")));-1===n?e.push(t):e.splice(n,1),e.forEach((e=>{e&&(e.setHours(l.getHours()),e.setMinutes(l.getMinutes()),e.setSeconds(l.getSeconds()),o.push(e))})),we(o.map((e=>a().toDateString(e,i))).join(","),{type:"update"})}else e.some((e=>a().isEqual(e,c)))?we(e.filter((e=>!a().isEqual(e,c))).join(","),{type:"update"}):we(e.concat([c]).join(","),{type:"update"})}else a().isEqual(o,c)||we(c,{type:"update"})},Ve=()=>{const{type:t,min:o,max:n,exponential:l}=e,{inputValue:r,datetimePanelValue:i}=u,s=y.value,c=C.value,d=W.value,p=ue.value;if(!p)if(s){if(r){let e="integer"===t?a().toInteger(yo(r)):a().toNumber(yo(r));if(Le(e)?Ne(e)||(e=n):e=o,l){const t=a().toValueString(r).toLowerCase();t===a().toNumber(e).toExponential()&&(e=t)}we(xe(e),{type:"check"})}}else if(c)if(r){let e=b(r,d);if(a().isValidDate(e))if("time"===t)e=a().toDateString(e,d),r!==e&&we(e,{type:"check"}),u.inputValue=e;else{let o=!1;const n=G.value;if("datetime"===t){const t=j.value;r===a().toDateString(t,d)&&r===a().toDateString(e,d)||(o=!0,i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()))}else o=!0;u.inputValue=a().toDateString(e,d,{firstDay:n}),o&&Fe(e)}else Ae()}else we("",{type:"check"})},je=e=>{const{inputValue:t}=u,o=me.value;o||we(t,e),Ve(),u.visiblePanel||(u.isActivated=!1),x.dispatchEvent("blur",{value:t},e)},_e=t=>{const{readonly:o,disabled:n}=e,{showPwd:l}=u;n||o||(u.showPwd=!l),x.dispatchEvent("toggle-visible",{visible:u.showPwd},t)},He=e=>{x.dispatchEvent("search-click",{},e)},Be=(t,o)=>{const{min:n,max:l,type:r}=e,{inputValue:i}=u,s=$.value,c="integer"===r?a().toInteger(yo(i)):a().toNumber(yo(i)),d=t?a().add(c,s):a().subtract(c,s);let p;p=Le(d)?Ne(d)?d:l:n,ye(xe(p),o)};let ze;const We=t=>{const{readonly:o,disabled:n}=e,l=ge.value;clearTimeout(ze),n||o||l||Be(!1,t),x.dispatchEvent("next-number",{},t)},qe=e=>{ze=window.setTimeout((()=>{We(e),qe(e)}),60)},Ue=t=>{const{readonly:o,disabled:n}=e,l=ve.value;clearTimeout(ze),n||o||l||Be(!0,t),x.dispatchEvent("prev-number",{},t)},Ye=e=>{const t=Zt(e,Yt.ARROW_UP),o=Zt(e,Yt.ARROW_DOWN);(t||o)&&(e.preventDefault(),t?Ue(e):We(e))},Xe=t=>{const{exponential:o,controls:n}=e,l=y.value;if(l){const e=t.ctrlKey,l=t.shiftKey,r=t.altKey,a=t.keyCode;e||l||r||!(Zt(t,Yt.SPACEBAR)||(!o||69!==a)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)||t.preventDefault(),n&&Ye(t)}be(t)},Ge=e=>{be(e)},Ke=()=>{clearTimeout(ze)},Ze=e=>{ze=window.setTimeout((()=>{Ue(e),Ze(e)}),60)},Je=e=>{if(Ke(),0===e.button){const t=F(e.currentTarget,"is--prev");t?Ue(e):We(e),ze=window.setTimeout((()=>{t?Ze(e):qe(e)}),500)}},Qe=t=>{const o=y.value;if(o&&e.controls&&u.isActivated){const e=t.deltaY;e>0?We(t):e<0&&Ue(t),t.preventDefault()}be(t)},et=(e,t)=>{u.selectMonth=a().getWhatMonth(e,t,"first")},tt=()=>{const e=a().getWhatDay(Date.now(),0,"first");u.currentDate=e,et(e,0)},ot=()=>{let{datePanelType:e}=u;e="month"===e||"quarter"===e?"year":"month",u.datePanelType=e},nt=t=>{const{type:o}=e,{datePanelType:n,selectMonth:l}=u,r=_.value;r||(u.selectMonth="year"===o?a().getWhatYear(l,-To,"first"):"month"===o||"quarter"===o?"year"===n?a().getWhatYear(l,-To,"first"):a().getWhatYear(l,-1,"first"):"year"===n?a().getWhatYear(l,-To,"first"):"month"===n?a().getWhatYear(l,-1,"first"):a().getWhatMonth(l,-1,"first"),x.dispatchEvent("date-prev",{type:o},t))},lt=t=>{tt(),e.multiple||(Fe(u.currentDate),ke()),x.dispatchEvent("date-today",{type:e.type},t)},rt=t=>{const{type:o}=e,{datePanelType:n,selectMonth:l}=u,r=H.value;r||(u.selectMonth="year"===o?a().getWhatYear(l,To,"first"):"month"===o||"quarter"===o?"year"===n?a().getWhatYear(l,To,"first"):a().getWhatYear(l,1,"first"):"year"===n?a().getWhatYear(l,To,"first"):"month"===n?a().getWhatYear(l,1,"first"):a().getWhatMonth(l,1,"first"),x.dispatchEvent("date-next",{type:o},t))},at=t=>{const{disabledMethod:o}=e,{datePanelType:n}=u;return o&&o({type:n,viewType:n,date:t.date,$input:v})},it=t=>{const{type:o,multiple:n}=e,{datePanelType:l}=u;"month"===o?"year"===l?(u.datePanelType="month",Pe(t)):(Fe(t),n||ke()):"year"===o?(Fe(t),n||ke()):"quarter"===o?"year"===l?(u.datePanelType="quarter",Pe(t)):(Fe(t),n||ke()):"month"===l?(u.datePanelType="week"===o?o:"day",Pe(t)):"year"===l?(u.datePanelType="month",Pe(t)):(Fe(t),n||ke())},st=e=>{at(e)||it(e.date)},ct=e=>{if(!at({date:e})){const t=le.value;t.some((t=>a().isDateSame(t.date,e,"yyyyMMdd")))||Pe(e),Ie(e)}},ut=e=>{if(!at({date:e})){const t=q.value;t.some((t=>a().isDateSame(t.date,e,"yyyy")))||Pe(e),Ie(e)}},dt=e=>{if(!at({date:e})){const t=ee.value;t.some((t=>a().isDateSame(t.date,e,"yyyyq")))||Pe(e),Ie(e)}},pt=e=>{if(!at({date:e})){const t=oe.value;t.some((t=>a().isDateSame(t.date,e,"yyyyMM")))||Pe(e),Ie(e)}},ft=e=>{if(!at(e)){const{datePanelType:t}=u;"month"===t?pt(e.date):"quarter"===t?dt(e.date):"year"===t?ut(e.date):ct(e.date)}},mt=e=>{if(e){const t=e.offsetHeight,o=e.parentNode;o.scrollTop=e.offsetTop-4*t}},ht=e=>{u.datetimePanelValue=new Date(u.datetimePanelValue.getTime()),mt(e.currentTarget)},gt=(e,t)=>{u.datetimePanelValue.setHours(t.value),ht(e)},vt=()=>{const{multiple:t}=e,{datetimePanelValue:o}=u,n=j.value,l=w.value;if(l){const e=V.value;if(t){const t=A.value;if(l){const t=[...L.value],n=[];t.forEach((e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))})),we(n.map((t=>a().toDateString(t,e))).join(","),{type:"update"})}else we(t.join(","),{type:"update"})}else Fe(n||u.currentDate)}ke()},xt=(e,t)=>{u.datetimePanelValue.setMinutes(t.value),ht(e)},bt=(e,t)=>{u.datetimePanelValue.setSeconds(t.value),ht(e)},wt=e=>{const{isActivated:t,datePanelValue:o,datePanelType:n}=u;if(t){e.preventDefault();const t=Zt(e,Yt.ARROW_LEFT),l=Zt(e,Yt.ARROW_UP),r=Zt(e,Yt.ARROW_RIGHT),i=Zt(e,Yt.ARROW_DOWN);if("year"===n){let e=a().getWhatYear(o||Date.now(),0,"first");t?e=a().getWhatYear(e,-1):l?e=a().getWhatYear(e,-4):r?e=a().getWhatYear(e,1):i&&(e=a().getWhatYear(e,4)),ut(e)}else if("quarter"===n){let e=a().getWhatQuarter(o||Date.now(),0,"first");t?e=a().getWhatQuarter(e,-1):l?e=a().getWhatQuarter(e,-2):r?e=a().getWhatQuarter(e,1):i&&(e=a().getWhatQuarter(e,2)),dt(e)}else if("month"===n){let e=a().getWhatMonth(o||Date.now(),0,"first");t?e=a().getWhatMonth(e,-1):l?e=a().getWhatMonth(e,-4):r?e=a().getWhatMonth(e,1):i&&(e=a().getWhatMonth(e,4)),pt(e)}else{let e=o||a().getWhatDay(Date.now(),0,"first");const n=G.value;t?e=a().getWhatDay(e,-1):l?e=a().getWhatWeek(e,-1,n):r?e=a().getWhatDay(e,1):i&&(e=a().getWhatWeek(e,1,n)),ct(e)}}},yt=e=>{const{isActivated:t}=u;if(t){const t=Zt(e,Yt.PAGE_UP);e.preventDefault(),t?nt(e):rt(e)}},Ct=()=>{const{type:t}=e,o=w.value,n=j.value;["year","quarter","month","week"].indexOf(t)>-1?u.datePanelType=t:u.datePanelType="day",u.currentDate=a().getWhatDay(Date.now(),0,"first"),n?(et(n,0),Ie(n)):tt(),o&&(u.datetimePanelValue=u.datePanelValue||a().getWhatDay(Date.now(),0,"first"),(0,g.nextTick)((()=>{const e=m.value;a().arrayEach(e.querySelectorAll("li.is--selected"),mt)})))},Tt=()=>{u.panelIndex<E()&&(u.panelIndex=T())},Et=()=>(0,g.nextTick)().then((()=>{const{transfer:t,placement:o}=e,{panelIndex:n}=u,l=p.value,r=f.value;if(l&&r){const e=l.offsetHeight,a=l.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,c=5,d={zIndex:n},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:h}=X(l);let v="bottom";if(t){let t=f,n=p+e;"top"===o?(v="top",n=p-i):o||(n+i+c>m&&(v="top",n=p-i),n<c&&(v="bottom",n=p+e)),t+s+c>h&&(t-=t+s+c-h),t<c&&(t=c),Object.assign(d,{left:`${t}px`,top:`${n}px`,minWidth:`${a}px`})}else"top"===o?(v="top",d.bottom=`${e}px`):o||p+e+i>m&&p-e-i>c&&(v="top",d.bottom=`${e}px`);return u.panelStyle=d,u.panelPlacement=v,(0,g.nextTick)()}})),St=()=>{const{disabled:t}=e,{visiblePanel:o}=u,n=C.value;return t||o?(0,g.nextTick)():(u.inited||(u.inited=!0),clearTimeout(Re),u.isActivated=!0,u.animatVisible=!0,n&&Ct(),setTimeout((()=>{u.visiblePanel=!0}),10),Tt(),Et())},Rt=t=>{const{readonly:o}=e;o||(t.preventDefault(),St())},kt=e=>{be(e)},Ot=t=>{const{disabled:o}=e,{visiblePanel:n,isActivated:l}=u,r=C.value,a=d.value,i=f.value;!o&&l&&(u.isActivated=U(t,a).flag||U(t,i).flag,u.isActivated||(r?n&&(ke(),Ve()):Ve()))},$t=t=>{const{clearable:o,disabled:n}=e,{visiblePanel:l}=u,r=C.value;if(!n){const e=Zt(t,Yt.TAB),n=Zt(t,Yt.DELETE),a=Zt(t,Yt.ESCAPE),i=Zt(t,Yt.ENTER),s=Zt(t,Yt.ARROW_LEFT),c=Zt(t,Yt.ARROW_UP),d=Zt(t,Yt.ARROW_RIGHT),p=Zt(t,Yt.ARROW_DOWN),f=Zt(t,Yt.PAGE_UP),m=Zt(t,Yt.PAGE_DOWN),h=s||c||d||p;let g=u.isActivated;e?(g&&Ve(),g=!1,u.isActivated=g):h?r&&g&&(l?wt(t):(c||p)&&Rt(t)):i?r&&(l?u.datePanelValue?it(u.datePanelValue):ke():g&&Rt(t)):(f||m)&&r&&g&&yt(t),e||a?l&&ke():n&&o&&g&&Oe(t,null)}},It=t=>{const{disabled:o}=e,{visiblePanel:n}=u;if(!o&&n){const e=f.value;U(t,e).flag?Et():(ke(),Ve())}},Mt=()=>{const{isActivated:e,visiblePanel:t}=u;t?(ke(),Ve()):e&&Ve()},Dt=(t,o)=>{const{festivalMethod:n}=e;if(n){const{datePanelType:e}=u,l=n({type:e,viewType:e,date:t.date,$input:v}),r=l?a().isString(l)?{label:l}:l:{},i=r.extra?a().isString(r.extra)?{label:r.extra}:r.extra:null,s=[(0,g.h)("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},i&&i.label?[(0,g.h)("span",o),(0,g.h)("span",{class:["vxe-input--date-label--extra",i.important?"is-important":"",i.className],style:i.style},a().toValueString(i.label))]:o)],c=r.label;if(c){const e=a().toValueString(c).split(",");s.push((0,g.h)("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?(0,g.h)("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>(0,g.h)("span",e.substring(0,3))))):(0,g.h)("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return s}return o},Nt=()=>{const{multiple:t}=e,{datePanelType:o,datePanelValue:n}=u,l=j.value,r=Z.value,i=re.value,s=L.value,c="yyyyMMdd";return[(0,g.h)("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("thead",[(0,g.h)("tr",r.map((e=>(0,g.h)("th",e.label))))]),(0,g.h)("tbody",i.map((e=>(0,g.h)("tr",e.map((e=>(0,g.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?s.some((t=>a().isDateSame(t,e.date,c))):a().isDateSame(l,e.date,c),"is--hover":a().isDateSame(n,e.date,c)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Dt(e,e.label))))))))])]},Lt=()=>{const{multiple:t}=e,{datePanelType:o,datePanelValue:n}=u,l=j.value,r=J.value,i=ae.value,s=L.value,c="yyyyMMdd";return[(0,g.h)("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("thead",[(0,g.h)("tr",r.map((e=>(0,g.h)("th",e.label))))]),(0,g.h)("tbody",i.map((e=>{const o=t?e.some((e=>s.some((t=>a().isDateSame(t,e.date,c))))):e.some((e=>a().isDateSame(l,e.date,c))),r=e.some((e=>a().isDateSame(n,e.date,c)));return(0,g.h)("tr",e.map((e=>(0,g.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":o,"is--hover":r},onClick:()=>st(e),onMouseenter:()=>ft(e)},Dt(e,e.label)))))})))])]},At=()=>{const{multiple:t}=e,{datePanelType:o,datePanelValue:n}=u,l=j.value,r=ne.value,i=L.value,s="yyyyMM";return[(0,g.h)("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("tbody",r.map((e=>(0,g.h)("tr",e.map((e=>(0,g.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>a().isDateSame(t,e.date,s))):a().isDateSame(l,e.date,s),"is--hover":a().isDateSame(n,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Dt(e,c.i18n(`vxe.input.date.months.m${e.month}`)))))))))])]},Pt=()=>{const{multiple:t}=e,{datePanelType:o,datePanelValue:n}=u,l=j.value,r=te.value,i=L.value,s="yyyyq";return[(0,g.h)("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("tbody",r.map((e=>(0,g.h)("tr",e.map((e=>(0,g.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>a().isDateSame(t,e.date,s))):a().isDateSame(l,e.date,s),"is--hover":a().isDateSame(n,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Dt(e,c.i18n(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]},Ft=()=>{const{multiple:t}=e,{datePanelType:o,datePanelValue:n}=u,l=j.value,r=Q.value,i=L.value,s="yyyy";return[(0,g.h)("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("tbody",r.map((e=>(0,g.h)("tr",e.map((e=>(0,g.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>a().isDateSame(t,e.date,s))):a().isDateSame(l,e.date,s),"is--hover":a().isDateSame(n,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Dt(e,e.year))))))))])]},Vt=()=>{const{datePanelType:e}=u;switch(e){case"week":return Lt();case"month":return At();case"quarter":return Pt();case"year":return Ft()}return Nt()},jt=()=>{const{multiple:t}=e,{datePanelType:o}=u,n=_.value,l=H.value,r=Y.value;return[(0,g.h)("div",{class:"vxe-input--date-picker-header"},[(0,g.h)("div",{class:"vxe-input--date-picker-type-wrapper"},["year"===o?(0,g.h)("span",{class:"vxe-input--date-picker-label"},r):(0,g.h)("span",{class:"vxe-input--date-picker-btn",onClick:ot},r)]),(0,g.h)("div",{class:"vxe-input--date-picker-btn-wrapper"},[(0,g.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":n}],onClick:nt},[(0,g.h)("i",{class:"vxe-icon-caret-left"})]),(0,g.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:lt},[(0,g.h)("i",{class:"vxe-icon-dot"})]),(0,g.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":l}],onClick:rt},[(0,g.h)("i",{class:"vxe-icon-caret-right"})]),t&&N.value?(0,g.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[(0,g.h)("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:vt},c.i18n("vxe.button.confirm"))]):null])]),(0,g.h)("div",{class:"vxe-input--date-picker-body"},Vt())]},_t=()=>{const{datetimePanelValue:e}=u,t=B.value,o=ie.value,n=se.value,l=ce.value;return[(0,g.h)("div",{class:"vxe-input--time-picker-header"},[(0,g.h)("span",{class:"vxe-input--time-picker-title"},t),(0,g.h)("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:vt},c.i18n("vxe.button.confirm"))]),(0,g.h)("div",{ref:m,class:"vxe-input--time-picker-body"},[(0,g.h)("ul",{class:"vxe-input--time-picker-hour-list"},o.map(((t,o)=>(0,g.h)("li",{key:o,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>gt(e,t)},t.label)))),(0,g.h)("ul",{class:"vxe-input--time-picker-minute-list"},n.map(((t,o)=>(0,g.h)("li",{key:o,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>xt(e,t)},t.label)))),(0,g.h)("ul",{class:"vxe-input--time-picker-second-list"},l.map(((t,o)=>(0,g.h)("li",{key:o,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>bt(e,t)},t.label))))])]},Ht=()=>{const{type:t,transfer:o}=e,{inited:n,animatVisible:l,visiblePanel:r,panelPlacement:a,panelStyle:i}=u,c=s.value,d=C.value,p=[];return d?("datetime"===t?p.push((0,g.h)("div",{class:"vxe-input--panel-layout-wrapper"},[(0,g.h)("div",{class:"vxe-input--panel-left-wrapper"},jt()),(0,g.h)("div",{class:"vxe-input--panel-right-wrapper"},_t())])):"time"===t?p.push((0,g.h)("div",{class:"vxe-input--panel-wrapper"},_t())):p.push((0,g.h)("div",{class:"vxe-input--panel-wrapper"},jt())),(0,g.h)(g.Teleport,{to:"body",disabled:!o||!n},[(0,g.h)("div",{ref:f,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${c}`]:c,"is--transfer":o,"animat--leave":l,"animat--enter":r}],placement:a,style:i},p)])):null},Bt=()=>{const e=ve.value,t=ge.value;return(0,g.h)("span",{class:"vxe-input--number-suffix"},[(0,g.h)("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":e}],onMousedown:Je,onMouseup:Ke,onMouseleave:Ke},[(0,g.h)("i",{class:["vxe-input--number-prev-icon",c.icon.INPUT_PREV_NUM]})]),(0,g.h)("span",{class:["vxe-input--number-next is--next",{"is--disabled":t}],onMousedown:Je,onMouseup:Ke,onMouseleave:Ke},[(0,g.h)("i",{class:["vxe-input--number-next-icon",c.icon.INPUT_NEXT_NUM]})])])},zt=()=>(0,g.h)("span",{class:"vxe-input--date-picker-suffix",onClick:Rt},[(0,g.h)("i",{class:["vxe-input--date-picker-icon",c.icon.INPUT_DATE]})]),Wt=()=>(0,g.h)("span",{class:"vxe-input--search-suffix",onClick:He},[(0,g.h)("i",{class:["vxe-input--search-icon",c.icon.INPUT_SEARCH]})]),qt=()=>{const{showPwd:e}=u;return(0,g.h)("span",{class:"vxe-input--password-suffix",onClick:_e},[(0,g.h)("i",{class:["vxe-input--password-icon",e?c.icon.INPUT_SHOW_PWD:c.icon.INPUT_PWD]})])},Ut=()=>{const{prefixIcon:t}=e,n=o.prefix,l=[];return n?l.push((0,g.h)("span",{class:"vxe-input--prefix-icon"},n({}))):t&&l.push((0,g.h)("i",{class:["vxe-input--prefix-icon",t]})),l.length?(0,g.h)("span",{class:"vxe-input--prefix",onClick:Se},l):null},Xt=()=>{const{disabled:t,suffixIcon:n}=e,{inputValue:l}=u,r=o.suffix,i=I.value,s=[];return r?s.push((0,g.h)("span",{class:"vxe-input--suffix-icon"},r({}))):n&&s.push((0,g.h)("i",{class:["vxe-input--suffix-icon",n]})),i&&s.push((0,g.h)("i",{class:["vxe-input--clear-icon",c.icon.INPUT_CLEAR]})),s.length?(0,g.h)("span",{class:["vxe-input--suffix",{"is--clear":i&&!t&&!(""===l||a().eqNull(l))}],onClick:$e},s):null},Gt=()=>{const{controls:t}=e,o=y.value,n=C.value,l=S.value,r=k.value;let a;return l?a=qt():o?t&&(a=Bt()):n?a=zt():r&&(a=Wt()),a?(0,g.h)("span",{class:"vxe-input--extra-suffix"},[a]):null};x={dispatchEvent(e,t,o){n(e,Object.assign({$input:v,$event:o},t))},focus(){const e=p.value;return u.isActivated=!0,e.focus(),(0,g.nextTick)()},blur(){const e=p.value;return e.blur(),u.isActivated=!1,(0,g.nextTick)()},showPanel:St,hidePanel:ke,updatePlacement:Et},Object.assign(v,x),(0,g.watch)((()=>e.modelValue),(e=>{u.inputValue=e,Me()})),(0,g.watch)((()=>e.type),(()=>{Object.assign(u,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),De()})),(0,g.watch)(W,(()=>{const t=C.value;t&&(Ie(u.datePanelValue),u.inputValue=e.multiple?P.value:u.datePanelLabel)})),(0,g.nextTick)((()=>{Qt.on(v,"mousewheel",It),Qt.on(v,"mousedown",Ot),Qt.on(v,"keydown",$t),Qt.on(v,"blur",Mt)})),(0,g.onUnmounted)((()=>{Ke(),Qt.off(v,"mousewheel"),Qt.off(v,"mousedown"),Qt.off(v,"keydown"),Qt.off(v,"blur")})),De();const Kt=()=>{const{className:t,controls:o,type:n,align:l,name:r,disabled:a,readonly:i,autocomplete:c}=e,{inputValue:f,visiblePanel:m,isActivated:h}=u,v=s.value,x=C.value,b=ue.value,w=fe.value,y=de.value,T=pe.value,E=[],S=Ut(),R=Xt();return S&&E.push(S),E.push((0,g.h)("input",{ref:p,class:"vxe-input--inner",value:f,name:r,type:y,placeholder:T,maxlength:w,readonly:b,disabled:a,autocomplete:c,onKeydown:Xe,onKeyup:Ge,onWheel:Qe,onClick:kt,onInput:Ce,onChange:Te,onFocus:Ee,onBlur:je})),R&&E.push(R),E.push(Gt()),x&&E.push(Ht()),(0,g.h)("div",{ref:d,class:["vxe-input",`type--${n}`,t,{[`size--${v}`]:v,[`is--${l}`]:l,"is--controls":o,"is--prefix":!!S,"is--suffix":!!R,"is--readonly":i,"is--visivle":m,"is--disabled":a,"is--active":h}]},E)};return v.renderVN=Kt,v},render(){return this.renderVN()}}),ko=(0,g.defineComponent)({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>c.checkbox.size||c.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s={xID:i,props:e,context:t};let c={};const u=uo(e),d=(0,g.inject)("$xecheckboxgroup",null),p=(0,g.computed)((()=>d?a().includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue)),f=(0,g.computed)((()=>{if(e.disabled)return!0;if(d){const{props:e}=d,{computeIsMaximize:t}=d.getComputeMaps(),o=t.value,n=p.value;return e.disabled||o&&!n}return!1})),m=t=>{const{checkedValue:o,uncheckedValue:a}=e,i=f.value;if(!i){const i=t.target.checked,s=i?o:a,u={checked:i,value:s,label:e.label};d?d.handleChecked(u,t):(n("update:modelValue",s),c.dispatchEvent("change",u,t),l&&r&&l.triggerItemEvent(t,r.itemConfig.field,s))}};c={dispatchEvent(e,t,o){n(e,Object.assign({$checkbox:s,$event:o},t))}},Object.assign(s,c);const h=()=>{const t=u.value,n=f.value,l=p.value,r=e.indeterminate;return(0,g.h)("label",{class:["vxe-checkbox",{[`size--${t}`]:t,"is--indeterminate":r,"is--disabled":n,"is--checked":l}],title:e.title},[(0,g.h)("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:n,checked:l,onChange:m}),(0,g.h)("span",{class:["vxe-checkbox--icon",r?"vxe-icon-checkbox-indeterminate":l?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),(0,g.h)("span",{class:"vxe-checkbox--label"},o.default?o.default({}):R(e.content))])};return s.renderVN=h,s},render(){return this.renderVN()}});function Oo(e){return!1!==e.visible}function $o(){return a().uniqueId("opt_")}var Io=(0,g.defineComponent)({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:String,loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>c.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>c.select.size||c.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>c.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>c.select.transfer}},emits:["update:modelValue","change","clear"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s=uo(e),u=(0,g.reactive)({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),d=(0,g.ref)(),p=(0,g.ref)(),f=(0,g.ref)(),m=(0,g.ref)(),h=(0,g.ref)(),v={refElem:d},x={xID:i,props:e,context:t,reactData:u,getRefMaps:()=>v};let b={};const w=(0,g.computed)((()=>e.optionProps||{})),y=(0,g.computed)((()=>e.optionGroupProps||{})),C=(0,g.computed)((()=>{const e=w.value;return e.label||"label"})),S=(0,g.computed)((()=>{const e=w.value;return e.value||"value"})),O=(0,g.computed)((()=>{const e=y.value;return e.label||"label"})),$=(0,g.computed)((()=>{const e=y.value;return e.options||"options"})),I=(0,g.computed)((()=>{const{modelValue:t,multiple:o,max:n}=e;return!(!o||!n)&&(t?t.length:0)>=a().toNumber(n)})),M=(0,g.computed)((()=>Object.assign({},c.select.optionConfig,e.optionConfig))),D=(0,g.computed)((()=>u.fullGroupList.some((e=>e.options&&e.options.length)))),N=(0,g.computed)((()=>a().toNumber(e.multiCharOverflow))),L=(e,t)=>e&&(a().isString(e)&&(e=o[e]||null),a().isFunction(e))?Re(e(t)):[],A=e=>{const{fullOptionList:t,fullGroupList:o}=u,n=D.value,l=S.value;if(n)for(let r=0;r<o.length;r++){const t=o[r];if(t.options)for(let o=0;o<t.options.length;o++){const n=t.options[o];if(e===n[l])return n}}return t.find((t=>e===t[l]))},P=e=>{const{remoteValueList:t}=u,o=C.value,n=t.find((t=>e===t.key)),l=n?n.result:null;return a().toValueString(l?l[o]:e)},F=e=>{const t=C.value,o=A(e);return a().toValueString(o?o[t]:e)},V=(0,g.computed)((()=>{const{modelValue:t,multiple:o,remote:n}=e,l=N.value;if(t&&o){const e=a().isArray(t)?t:[t];return n?e.map((e=>P(e))).join(", "):e.map((e=>{const t=F(e);return l>0&&t.length>l?`${t.substring(0,l)}...`:t})).join(", ")}return n?P(t):F(t)})),j=()=>{const t=M.value;return t.keyField||e.optionId||"_X_OPTION_KEY"},_=e=>{const t=e[j()];return t?encodeURIComponent(t):""},H=()=>{const{filterable:t,filterMethod:o}=e,{fullOptionList:n,fullGroupList:l,searchValue:r}=u,a=D.value,i=O.value,s=C.value;return a?u.visibleGroupList=t&&o?l.filter((e=>Oo(e)&&o({group:e,option:null,searchValue:r}))):t?l.filter((e=>Oo(e)&&(!r||`${e[i]}`.indexOf(r)>-1))):l.filter(Oo):u.visibleOptionList=t&&o?n.filter((e=>Oo(e)&&o({group:null,option:e,searchValue:r}))):t?n.filter((e=>Oo(e)&&(!r||`${e[s]}`.indexOf(r)>-1))):n.filter(Oo),(0,g.nextTick)()},B=()=>{const{fullOptionList:e,fullGroupList:t}=u,o=$.value,n=j(),l=e=>{_(e)||(e[n]=$o())};t.length?t.forEach((e=>{l(e),e[o]&&e[o].forEach(l)})):e.length&&e.forEach(l),H()},z=e=>{const t=S.value;e&&(u.currentOption=e,u.currentValue=e[t])},W=(e,t)=>(0,g.nextTick)().then((()=>{if(e){const o=m.value,n=h.value,l=n.querySelector(`[optid='${_(e)}']`);if(o&&l){const e=o.offsetHeight,n=5;t?l.offsetTop+l.offsetHeight-o.scrollTop>e&&(o.scrollTop=l.offsetTop+l.offsetHeight-e):(l.offsetTop+n<o.scrollTop||l.offsetTop+n>o.scrollTop+o.clientHeight)&&(o.scrollTop=l.offsetTop-n)}}})),q=()=>{u.panelIndex<E()&&(u.panelIndex=T())},Y=()=>(0,g.nextTick)().then((()=>{const{transfer:t,placement:o}=e,{panelIndex:n}=u,l=d.value,r=h.value;if(r&&l){const e=l.offsetHeight,a=l.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,c=5,d={zIndex:n},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:h}=X(l);let v="bottom";if(t){let t=f,n=p+e;"top"===o?(v="top",n=p-i):o||(n+i+c>m&&(v="top",n=p-i),n<c&&(v="bottom",n=p+e)),t+s+c>h&&(t-=t+s+c-h),t<c&&(t=c),Object.assign(d,{left:`${t}px`,top:`${n}px`,minWidth:`${a}px`})}else"top"===o?(v="top",d.bottom=`${e}px`):o||p+e+i>m&&p-e-i>c&&(v="top",d.bottom=`${e}px`);return u.panelStyle=d,u.panelPlacement=v,(0,g.nextTick)()}}));let G;const K=()=>{const{loading:t,disabled:o,filterable:n}=e;t||o||(clearTimeout(G),u.inited||(u.inited=!0),u.isActivated=!0,u.animatVisible=!0,n&&H(),setTimeout((()=>{const{modelValue:t,multiple:o}=e,n=A(o&&t?t[0]:t);u.visiblePanel=!0,n&&(z(n),W(n)),ie()}),10),q(),Y())},Z=()=>{u.searchValue="",u.searchLoading=!1,u.visiblePanel=!1,G=window.setTimeout((()=>{u.animatVisible=!1}),350)},J=(t,o)=>{o!==e.modelValue&&(n("update:modelValue",o),b.dispatchEvent("change",{value:o},t),l&&r&&l.triggerItemEvent(t,r.itemConfig.field,o))},Q=(e,t)=>{u.remoteValueList=[],J(e,t),b.dispatchEvent("clear",{value:t},e)},ee=(e,t)=>{Q(t,null),Z()},te=(t,o,n)=>{const{modelValue:l,multiple:r}=e,{remoteValueList:a}=u;if(r){let e;e=l?-1===l.indexOf(o)?l.concat([o]):l.filter((e=>e!==o)):[o];const r=a.find((e=>e.key===o));r?r.result=n:a.push({key:o,result:n}),J(t,e)}else u.remoteValueList=[{key:o,result:n}],J(t,o),Z()},oe=t=>{const{disabled:o}=e,{visiblePanel:n}=u;if(!o&&n){const e=h.value;U(t,e).flag?Y():Z()}},ne=t=>{const{disabled:o}=e,{visiblePanel:n}=u;if(!o){const e=d.value,o=h.value;u.isActivated=U(t,e).flag||U(t,o).flag,n&&!u.isActivated&&Z()}},le=(e,t)=>{const{visibleOptionList:o,visibleGroupList:n}=u,l=D.value,r=S.value,a=$.value;let i,s,c,d;if(l)for(let u=0;u<n.length;u++){const o=n[u],l=o[a],p=o.disabled;if(l)for(let n=0;n<l.length;n++){const o=l[n],a=Oo(o),u=p||o.disabled;if(i||u||(i=o),d&&a&&!u&&(c=o,!t))return{offsetOption:c};if(e===o[r]){if(d=o,t)return{offsetOption:s}}else a&&!u&&(s=o)}}else for(let u=0;u<o.length;u++){const n=o[u],l=n.disabled;if(i||l||(i=n),d&&!l&&(c=n,!t))return{offsetOption:c};if(e===n[r]){if(d=n,t)return{offsetOption:s}}else l||(s=n)}return{firstOption:i}},re=t=>{const{clearable:o,disabled:n}=e,{visiblePanel:l,currentValue:r,currentOption:a}=u;if(!n){const e=Zt(t,Yt.TAB),n=Zt(t,Yt.ENTER),i=Zt(t,Yt.ESCAPE),s=Zt(t,Yt.ARROW_UP),c=Zt(t,Yt.ARROW_DOWN),d=Zt(t,Yt.DELETE),p=Zt(t,Yt.SPACEBAR);if(e&&(u.isActivated=!1),l)if(i||e)Z();else if(n)t.preventDefault(),t.stopPropagation(),te(t,r,a);else if(s||c){t.preventDefault();let{firstOption:e,offsetOption:o}=le(r,s);o||A(r)||(o=e),z(o),W(o,c)}else p&&t.preventDefault();else(s||c||n||p)&&u.isActivated&&(t.preventDefault(),K());u.isActivated&&d&&o&&Q(t,null)}},ae=()=>{Z()},ie=()=>{e.filterable&&(0,g.nextTick)((()=>{const e=f.value;e&&e.focus()}))},se=()=>{e.disabled||(u.isActivated=!0)},ce=()=>{u.isActivated=!1},ue=e=>{u.searchValue=e},de=()=>{u.isActivated=!0},pe=e=>{const{$event:t}=e,o=Zt(t,Yt.ENTER);o&&(t.preventDefault(),t.stopPropagation())},fe=a().debounce((function(){const{remote:t,remoteMethod:o}=e,{searchValue:n}=u;t&&o?(u.searchLoading=!0,Promise.resolve(o({searchValue:n})).then((()=>(0,g.nextTick)())).catch((()=>(0,g.nextTick)())).finally((()=>{u.searchLoading=!1,H()}))):H()}),350,{trailing:!0}),me=e=>{const{$event:t}=e;t.preventDefault(),u.visiblePanel?Z():K()},he=(e,t,o)=>{if(t.disabled)return!0;if(o&&o.disabled)return!0;const n=I.value;return!(!n||e)},ge=(t,o)=>{const{optionKey:n,modelValue:l,multiple:r}=e,{currentValue:i}=u,s=M.value,c=C.value,d=S.value,p=D.value,{useKey:f}=s;return t.map(((e,t)=>{const{slots:s,className:u}=e,m=e[d],h=r?l&&l.indexOf(m)>-1:l===m,v=!p||Oo(e),b=he(h,e,o),w=_(e),y=s?s.default:null;return v?(0,g.h)("div",{key:f||n?w:t,class:["vxe-select-option",u?a().isFunction(u)?u({option:e,$select:x}):u:"",{"is--disabled":b,"is--selected":h,"is--hover":i===m}],optid:w,onMousedown:e=>{const t=0===e.button;t&&e.stopPropagation()},onClick:t=>{b||te(t,m,e)},onMouseenter:()=>{b||z(e)}},y?L(y,{option:e,$select:x}):k(R(e[c]))):null}))},ve=()=>{const{optionKey:t}=e,{visibleGroupList:o}=u,n=M.value,l=O.value,r=$.value,{useKey:i}=n;return o.map(((e,o)=>{const{slots:n,className:s}=e,c=_(e),u=e.disabled,d=n?n.default:null;return(0,g.h)("div",{key:i||t?c:o,class:["vxe-optgroup",s?a().isFunction(s)?s({option:e,$select:x}):s:"",{"is--disabled":u}],optid:c},[(0,g.h)("div",{class:"vxe-optgroup--title"},d?L(d,{option:e,$select:x}):R(e[l])),(0,g.h)("div",{class:"vxe-optgroup--wrapper"},ge(e[r]||[],e))])}))},xe=()=>{const{visibleGroupList:t,visibleOptionList:o,searchLoading:n}=u,l=D.value;if(n)return[(0,g.h)("div",{class:"vxe-select--search-loading"},[(0,g.h)("i",{class:["vxe-select--search-icon",c.icon.SELECT_LOADED]}),(0,g.h)("span",{class:"vxe-select--search-text"},c.i18n("vxe.select.loadingText"))])];if(l){if(t.length)return ve()}else if(o.length)return ge(o);return[(0,g.h)("div",{class:"vxe-select--empty-placeholder"},e.emptyText||c.i18n("vxe.select.emptyText"))]};b={dispatchEvent(e,t,o){n(e,Object.assign({$select:x,$event:o},t))},isPanelVisible(){return u.visiblePanel},togglePanel(){return u.visiblePanel?Z():K(),(0,g.nextTick)()},hidePanel(){return u.visiblePanel&&Z(),(0,g.nextTick)()},showPanel(){return u.visiblePanel||K(),(0,g.nextTick)()},refreshOption:H,focus(){const e=p.value;return u.isActivated=!0,e.blur(),(0,g.nextTick)()},blur(){const e=p.value;return e.blur(),u.isActivated=!1,(0,g.nextTick)()}},Object.assign(x,b),(0,g.watch)((()=>u.staticOptions),(e=>{e.some((e=>e.options&&e.options.length))?(u.fullOptionList=[],u.fullGroupList=e):(u.fullGroupList=[],u.fullOptionList=e||[]),B()})),(0,g.watch)((()=>e.options),(e=>{u.fullGroupList=[],u.fullOptionList=e||[],B()})),(0,g.watch)((()=>e.optionGroups),(e=>{u.fullOptionList=[],u.fullGroupList=e||[],B()})),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{options:t,optionGroups:o}=e;o?u.fullGroupList=o:t&&(u.fullOptionList=t),B()})),Qt.on(x,"mousewheel",oe),Qt.on(x,"mousedown",ne),Qt.on(x,"keydown",re),Qt.on(x,"blur",ae)})),(0,g.onUnmounted)((()=>{Qt.off(x,"mousewheel"),Qt.off(x,"mousedown"),Qt.off(x,"keydown"),Qt.off(x,"blur")}));const be=()=>{const{className:t,transfer:n,disabled:l,loading:r,filterable:i}=e,{inited:v,isActivated:b,visiblePanel:w}=u,y=s.value,C=V.value,T=o.prefix;return(0,g.h)("div",{ref:d,class:["vxe-select",t?a().isFunction(t)?t({$select:x}):t:"",{[`size--${y}`]:y,"is--visivle":w,"is--disabled":l,"is--filter":i,"is--loading":r,"is--active":b}]},[(0,g.h)("div",{class:"vxe-select-slots",ref:"hideOption"},o.default?o.default({}):[]),(0,g.h)(Ro,{ref:p,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:l,type:"text",prefixIcon:e.prefixIcon,suffixIcon:r?c.icon.SELECT_LOADED:w?c.icon.SELECT_OPEN:c.icon.SELECT_CLOSE,modelValue:C,onClear:ee,onClick:me,onFocus:se,onBlur:ce,onSuffixClick:me},T?{prefix:()=>T({})}:{}),(0,g.h)(g.Teleport,{to:"body",disabled:!n||!v},[(0,g.h)("div",{ref:h,class:["vxe-table--ignore-clear vxe-select--panel",{[`size--${y}`]:y,"is--transfer":n,"animat--leave":!r&&u.animatVisible,"animat--enter":!r&&w}],placement:u.panelPlacement,style:u.panelStyle},v?[i?(0,g.h)("div",{class:"vxe-select-filter--wrapper"},[(0,g.h)(Ro,{ref:f,class:"vxe-select-filter--input",modelValue:u.searchValue,clearable:!0,placeholder:c.i18n("vxe.select.search"),prefixIcon:c.icon.INPUT_SEARCH,"onUpdate:modelValue":ue,onFocus:de,onKeydown:pe,onChange:fe,onSearch:fe})]):(0,g.createCommentVNode)(),(0,g.h)("div",{ref:m,class:"vxe-select-option--wrapper"},xe())]:[])])])};return x.renderVN=be,(0,g.provide)("$xeselect",x),x},render(){return this.renderVN()}}),Mo=(0,g.defineComponent)({name:"VxeExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=(0,g.inject)("$xetable",{}),{computeExportOpts:o,computePrintOpts:n}=t.getComputeMaps(),l=(0,g.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),r=(0,g.ref)(),i=(0,g.ref)(),s=(0,g.ref)(),u=(0,g.computed)((()=>{const{storeData:t}=e;return t.columns.every((e=>e.checked))})),d=(0,g.computed)((()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1})),p=(0,g.computed)((()=>{const{storeData:t,defaultOptions:o}=e;return!o.original&&"current"===o.mode&&(t.isPrint||["html","xlsx"].indexOf(o.type)>-1)})),f=(0,g.computed)((()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1})),m=t=>{const{storeData:o}=e,n=a().findTree(o.columns,(e=>e===t));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),m(e))}},h=()=>{const{storeData:t}=e,o=t.columns;l.isAll=o.every((e=>e.disabled||e.checked)),l.isIndeterminate=!l.isAll&&o.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},v=e=>{const t=!e.checked;a().eachTree([e],(e=>{e.checked=t,e.halfChecked=!1})),m(e),h()},x=()=>{const{storeData:t}=e,o=!l.isAll;a().eachTree(t.columns,(e=>{e.disabled||(e.checked=o,e.halfChecked=!1)})),l.isAll=o,h()},b=()=>{(0,g.nextTick)((()=>{const e=i.value,t=s.value,o=r.value,n=e||t||o;n&&n.focus()})),h()},w=()=>{const{storeData:t,defaultOptions:o}=e,{hasMerge:n,columns:l}=t,r=u.value,i=p.value,s=a().searchTree(l,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},o,{columns:s,isMerge:!!(n&&i&&r)&&o.isMerge})},y=()=>{const{storeData:o}=e,l=n.value;o.visible=!1,t.print(Object.assign({},l,w()))},C=()=>{const{storeData:n}=e,r=o.value;l.loading=!0,t.exportData(Object.assign({},r,w())).then((()=>{l.loading=!1,n.visible=!1})).catch((()=>{l.loading=!1}))},T=()=>{const{storeData:t}=e;t.visible=!1},E=()=>{const{storeData:t}=e;t.isPrint?y():C()},S=()=>{const{defaultOptions:t,storeData:o}=e,{isAll:n,isIndeterminate:m}=l,{hasTree:h,hasMerge:w,isPrint:y,hasColgroup:C}=o,{isHeader:S}=t,R=[],O=u.value,$=d.value,I=p.value,M=f.value;return a().eachTree(o.columns,(e=>{const t=k(e.getTitle(),1),o=e.children&&e.children.length,n=e.checked,l=e.halfChecked;R.push((0,g.h)("li",{class:["vxe-export--panel-column-option",`level--${e.level}`,{"is--group":o,"is--checked":n,"is--indeterminate":l,"is--disabled":e.disabled}],title:t,onClick:()=>{e.disabled||v(e)}},[(0,g.h)("span",{class:["vxe-checkbox--icon",l?c.icon.TABLE_CHECKBOX_INDETERMINATE:n?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]}),(0,g.h)("span",{class:"vxe-checkbox--label"},t)]))})),(0,g.h)(xo,{modelValue:o.visible,title:c.i18n(y?"vxe.export.printTitle":"vxe.export.expTitle"),width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:l.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:b},{default:()=>(0,g.h)("div",{class:"vxe-export--panel"},[(0,g.h)("table",{cellspacing:0,cellpadding:0,border:0},[(0,g.h)("tbody",[[y?(0,g.createCommentVNode)():(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.export.expName")),(0,g.h)("td",[(0,g.h)(Ro,{ref:i,modelValue:t.filename,type:"text",clearable:!0,placeholder:c.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){t.filename=e}})])]),y?(0,g.createCommentVNode)():(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.export.expType")),(0,g.h)("td",[(0,g.h)(Io,{modelValue:t.type,options:o.typeList.map((e=>({value:e.value,label:c.i18n(e.label)}))),"onUpdate:modelValue"(e){t.type=e}})])]),y||$?(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.export.expSheetName")),(0,g.h)("td",[(0,g.h)(Ro,{ref:s,modelValue:t.sheetName,type:"text",clearable:!0,placeholder:c.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){t.sheetName=e}})])]):(0,g.createCommentVNode)(),(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.export.expMode")),(0,g.h)("td",[(0,g.h)(Io,{modelValue:t.mode,options:o.modeList.map((e=>({value:e.value,label:c.i18n(e.label)}))),"onUpdate:modelValue"(e){t.mode=e}})])]),(0,g.h)("tr",[(0,g.h)("td",[c.i18n("vxe.export.expColumn")]),(0,g.h)("td",[(0,g.h)("div",{class:"vxe-export--panel-column"},[(0,g.h)("ul",{class:"vxe-export--panel-column-header"},[(0,g.h)("li",{class:["vxe-export--panel-column-option",{"is--checked":n,"is--indeterminate":m}],title:c.i18n("vxe.table.allTitle"),onClick:x},[(0,g.h)("span",{class:["vxe-checkbox--icon",m?c.icon.TABLE_CHECKBOX_INDETERMINATE:n?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]}),(0,g.h)("span",{class:"vxe-checkbox--label"},c.i18n("vxe.export.expCurrentColumn"))])]),(0,g.h)("ul",{class:"vxe-export--panel-column-body"},R)])])]),(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.export.expOpts")),(0,g.h)("td",[(0,g.h)("div",{class:"vxe-export--panel-option-row"},[(0,g.h)(ko,{modelValue:t.isHeader,title:c.i18n("vxe.export.expHeaderTitle"),content:c.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){t.isHeader=e}}),(0,g.h)(ko,{modelValue:t.isFooter,disabled:!o.hasFooter,title:c.i18n("vxe.export.expFooterTitle"),content:c.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){t.isFooter=e}}),(0,g.h)(ko,{modelValue:t.original,title:c.i18n("vxe.export.expOriginalTitle"),content:c.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){t.original=e}})]),(0,g.h)("div",{class:"vxe-export--panel-option-row"},[(0,g.h)(ko,{modelValue:!!(S&&C&&I)&&t.isColgroup,title:c.i18n("vxe.export.expColgroupTitle"),disabled:!S||!C||!I,content:c.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){t.isColgroup=e}}),(0,g.h)(ko,{modelValue:!!(w&&I&&O)&&t.isMerge,title:c.i18n("vxe.export.expMergeTitle"),disabled:!w||!I||!O,content:c.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){t.isMerge=e}}),y?(0,g.createCommentVNode)():(0,g.h)(ko,{modelValue:!!M&&t.useStyle,disabled:!M,title:c.i18n("vxe.export.expUseStyleTitle"),content:c.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){t.useStyle=e}}),(0,g.h)(ko,{modelValue:!!h&&t.isAllExpand,disabled:!h,title:c.i18n("vxe.export.expAllExpandTitle"),content:c.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){t.isAllExpand=e}})])])])]])]),(0,g.h)("div",{class:"vxe-export--panel-btns"},[(0,g.h)(po,{content:c.i18n("vxe.export.expCancel"),onClick:T}),(0,g.h)(po,{ref:r,status:"primary",content:c.i18n(y?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:E})])])})};return S}}),Do=(0,g.defineComponent)({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,strict:{type:Boolean,default:()=>c.radio.strict},size:{type:String,default:()=>c.radio.size||c.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s={xID:i,props:e,context:t,name:a().uniqueId("xegroup_")};let c={};uo(e);const u={handleChecked(e,t){n("update:modelValue",e.label),c.dispatchEvent("change",e),l&&r&&l.triggerItemEvent(t,r.itemConfig.field,e.label)}};c={dispatchEvent(e,t,o){n(e,Object.assign({$radioGroup:s,$event:o},t))}};const d=()=>(0,g.h)("div",{class:"vxe-radio-group"},o.default?o.default({}):[]);return Object.assign(s,u,{renderVN:d,dispatchEvent:dispatchEvent}),(0,g.provide)("$xeradiogroup",s),d}}),No=(0,g.defineComponent)({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>c.radio.strict},size:{type:String,default:()=>c.radio.size||c.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s={xID:i,props:e,context:t},c=uo(e),u=(0,g.inject)("$xeradiogroup",null);let d={};const p=(0,g.computed)((()=>e.disabled||u&&u.props.disabled)),f=(0,g.computed)((()=>u?u.name:e.name)),m=(0,g.computed)((()=>u?u.props.strict:e.strict)),h=(0,g.computed)((()=>{const{modelValue:t,label:o}=e;return u?u.props.modelValue===o:t===o})),v=(e,t)=>{u?u.handleChecked({label:e},t):(n("update:modelValue",e),d.dispatchEvent("change",{label:e},t),l&&r&&l.triggerItemEvent(t,r.itemConfig.field,e))},x=t=>{const o=p.value;o||v(e.label,t)},b=t=>{const o=p.value,n=m.value;o||n||e.label===(u?u.props.modelValue:e.modelValue)&&v(null,t)};d={dispatchEvent(e,t,o){n(e,Object.assign({$radio:s,$event:o},t))}},Object.assign(s,d);const w=()=>{const t=c.value,n=p.value,l=f.value,r=h.value;return(0,g.h)("label",{class:["vxe-radio",{[`size--${t}`]:t,"is--checked":r,"is--disabled":n}],title:e.title},[(0,g.h)("input",{class:"vxe-radio--input",type:"radio",name:l,checked:r,disabled:n,onChange:x,onClick:b}),(0,g.h)("span",{class:["vxe-radio--icon",r?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),(0,g.h)("span",{class:"vxe-radio--label"},o.default?o.default({}):R(e.content))])};return s.renderVN=w,s},render(){return this.renderVN()}}),Lo=(0,g.defineComponent)({name:"VxeImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=(0,g.inject)("$xetable",{}),{computeImportOpts:o}=t.getComputeMaps(),n=(0,g.reactive)({loading:!1}),l=(0,g.ref)(),r=(0,g.computed)((()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`})),i=(0,g.computed)((()=>{const{storeData:t}=e;return t.file&&t.type})),s=(0,g.computed)((()=>{const{storeData:t}=e,{type:o,typeList:n}=t;if(o){const e=a().find(n,(e=>o===e.value));return e?c.i18n(e.label):"*.*"}return`*.${n.map((e=>e.value)).join(", *.")}`})),u=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},d=()=>{const{storeData:o,defaultOptions:n}=e;t.readFile(n).then((e=>{const{file:t}=e;Object.assign(o,C(t),{file:t})})).catch((e=>e))},p=()=>{(0,g.nextTick)((()=>{const e=l.value;e&&e.focus()}))},f=()=>{const{storeData:t}=e;t.visible=!1},m=()=>{const{storeData:l,defaultOptions:r}=e,a=o.value;n.loading=!0,t.importByFile(l.file,Object.assign({},a,r)).then((()=>{n.loading=!1,l.visible=!1})).catch((()=>{n.loading=!1}))},h=()=>{const{defaultOptions:t,storeData:o}=e,a=r.value,h=i.value,v=s.value;return(0,g.h)(xo,{modelValue:o.visible,title:c.i18n("vxe.import.impTitle"),width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:n.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:p},{default:()=>(0,g.h)("div",{class:"vxe-export--panel"},[(0,g.h)("table",{cellspacing:0,cellpadding:0,border:0},[(0,g.h)("tbody",[(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.import.impFile")),(0,g.h)("td",[h?(0,g.h)("div",{class:"vxe-import-selected--file",title:a},[(0,g.h)("span",a),(0,g.h)("i",{class:c.icon.INPUT_CLEAR,onClick:u})]):(0,g.h)("button",{ref:l,class:"vxe-import-select--file",onClick:d},c.i18n("vxe.import.impSelect"))])]),(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.import.impType")),(0,g.h)("td",v)]),(0,g.h)("tr",[(0,g.h)("td",c.i18n("vxe.import.impOpts")),(0,g.h)("td",[(0,g.h)(Do,{modelValue:t.mode,"onUpdate:modelValue"(e){t.mode=e}},{default:()=>o.modeList.map((e=>(0,g.h)(No,{label:e.value,content:c.i18n(e.label)})))})])])])]),(0,g.h)("div",{class:"vxe-export--panel-btns"},[(0,g.h)(po,{content:c.i18n("vxe.import.impCancel"),onClick:f}),(0,g.h)(po,{status:"primary",disabled:!h,content:c.i18n("vxe.import.impConfirm"),onClick:m})])])})};return h}});let Ao,Po,Fo;const Vo='body{margin:0;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function jo(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function _o(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function Ho(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,`<style>${Vo}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const Bo=e=>{const t=Object.assign({},e);return Ao||(Ao=document.createElement("form"),Po=document.createElement("input"),Ao.className="vxe-table--file-form",Po.name="file",Po.type="file",Ao.appendChild(Po),document.body.appendChild(Ao)),new Promise(((e,o)=>{const n=t.types||[],l=!n.length||n.some((e=>"*"===e));Po.multiple=!!t.multiple,Po.accept=l?"":`.${n.join(", .")}`,Po.onchange=r=>{const{files:i}=r.target,s=i[0];let u="";if(!l)for(let e=0;e<i.length;e++){const{type:t}=C(i[e]);if(!a().includes(n,t)){u=t;break}}if(u){!1!==t.message&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:c.i18n("vxe.error.notType",[u]),status:"error"}));const e={status:!1,files:i,file:s};o(e)}else e({status:!0,files:i,file:s})},Ao.reset(),Po.click()}))};function zo(){if(Fo){if(Fo.parentNode){try{Fo.contentDocument.write("")}catch(e){}Fo.parentNode.removeChild(Fo)}Fo=null}}function Wo(){Fo.parentNode||document.body.appendChild(Fo)}function qo(){requestAnimationFrame(zo)}function Uo(e,t,o=""){const{beforePrintMethod:n}=t;n&&(o=n({content:o,options:t,$table:e})||""),o=Ho(t,o);const l=_o(o,t);M.msie?(zo(),Fo=jo(),Wo(),Fo.contentDocument.write(o),Fo.contentDocument.execCommand("print")):(Fo||(Fo=jo(),Fo.onload=e=>{e.target.src&&(e.target.contentWindow.onafterprint=qo,e.target.contentWindow.print())}),Wo(),Fo.src=URL.createObjectURL(l))}const Yo=e=>{const{filename:t,type:o,content:n}=e,l=`${t}.${o}`;if(window.Blob){const t=n instanceof Blob?n:_o(a().toValueString(n),e);if(navigator.msSaveBlob)navigator.msSaveBlob(t,l);else{const e=URL.createObjectURL(t),o=document.createElement("a");o.target="_blank",o.download=l,o.href=e,document.body.appendChild(o),o.click(),requestAnimationFrame((()=>{o.parentNode&&o.parentNode.removeChild(o),URL.revokeObjectURL(e)}))}return Promise.resolve()}return Promise.reject(new Error(u("vxe.error.notExp")))};let Xo;const Go="\ufeff",Ko="\r\n";function Zo(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const Jo=e=>{const t=[];return e.forEach((e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...Jo(e.childNodes))):t.push(e)})),t},Qo=e=>{let t=1;const o=(e,n)=>{if(n&&(e._level=n._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach((n=>{o(n,e),t+=n._colSpan})),e._colSpan=t}else e._colSpan=1};e.forEach((e=>{e._level=1,o(e)}));const n=[];for(let r=0;r<t;r++)n.push([]);const l=Jo(e);return l.forEach((e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,n[e._level-1].push(e)})),n};function en(e){return!0===e?"full":e||"default"}function tn(e){return"TRUE"===e||"true"===e||!0===e}function on(e,t){return(e.original?t.property:t.getTitle())||""}function nn(e,t){const{footerFilterMethod:o}=e;return o?t.filter(((e,t)=>o({items:e,$rowIndex:t}))):t}function ln(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`;break}}return t}function rn(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function an(e,t){return e.getElementsByTagName(t)}function sn(e){return`#${e}@${a().uniqueId()}`}function cn(e,t){return e.replace(/#\d+@\d+/g,(e=>a().hasOwnProp(t,e)?t[e]:e))}function un(e,t){const o=cn(e,t);return o.replace(/^"+$/g,(e=>'"'.repeat(Math.ceil(e.length/2))))}function dn(e,t,o){const n=t.split(Ko),l=[];let r=[];if(n.length){const e={},t=Date.now();n.forEach((n=>{if(n){const a={};n=n.replace(/("")|(\n)/g,((o,n)=>{const l=sn(t);return e[l]=n?'"':"\n",l})).replace(/"(.*?)"/g,((o,n)=>{const l=sn(t);return e[l]=cn(n,e),l}));const i=n.split(o);r.length?(i.forEach(((t,o)=>{o<r.length&&(a[r[o]]=un(t.trim(),e))})),l.push(a)):r=i.map((t=>un(t.trim(),e)))}}))}return{fields:r,rows:l}}function pn(e,t){return dn(e,t,",")}function fn(e,t){return dn(e,t,"\t")}function mn(e,t){const o=new DOMParser,n=o.parseFromString(t,"text/html"),l=an(n,"body"),r=[],i=[];if(l.length){const e=an(l[0],"table");if(e.length){const t=an(e[0],"thead");if(t.length){a().arrayEach(an(t[0],"tr"),(e=>{a().arrayEach(an(e,"th"),(e=>{i.push(e.textContent)}))}));const o=an(e[0],"tbody");o.length&&a().arrayEach(an(o[0],"tr"),(e=>{const t={};a().arrayEach(an(e,"td"),((e,o)=>{i[o]&&(t[i[o]]=e.textContent||"")})),r.push(t)}))}}}return{fields:i,rows:r}}function hn(e,t){const o=new DOMParser,n=o.parseFromString(t,"application/xml"),l=an(n,"Worksheet"),r=[],i=[];if(l.length){const e=an(l[0],"Table");if(e.length){const t=an(e[0],"Row");t.length&&(a().arrayEach(an(t[0],"Cell"),(e=>{i.push(e.textContent)})),a().arrayEach(t,((e,t)=>{if(t){const t={},o=an(e,"Cell");a().arrayEach(o,((e,o)=>{i[o]&&(t[i[o]]=e.textContent)})),r.push(t)}})))}}return{fields:i,rows:r}}function gn(e){a().eachTree(e,(e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes}),{children:"children"})}function vn(e,t){const o=[];return e.forEach((e=>{const t=e.property;t&&o.push(t)})),t.some((e=>o.indexOf(e)>-1))}const xn=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],bn={setupTable(e){const{props:t,reactData:o,internalData:n}=e,{computeTreeOpts:l,computePrintOpts:r,computeExportOpts:i,computeImportOpts:s,computeCustomOpts:u,computeSeqOpts:d,computeRadioOpts:m,computeCheckboxOpts:h}=e.getComputeMaps(),v=(0,g.inject)("$xegrid",null),x=e=>{const t=l.value;return e[t.children]&&e[t.children].length},b=(t,o,n,l)=>{const r=d.value,a=r.seqMethod||n.seqMethod;return a?a({row:t,rowIndex:e.getRowIndex(t),$rowIndex:o,column:n,columnIndex:e.getColumnIndex(n),$columnIndex:l}):e.getRowSeq(t)},w=e=>a().isBoolean(e)?e?"TRUE":"FALSE":e,y=(o,n,r)=>{const{isAllExpand:i,mode:s}=o,{treeConfig:c}=t,u=m.value,d=h.value,p=l.value;if(Xo||(Xo=document.createElement("div")),c){const t=[],l=new Map;return a().eachTree(r,((r,c,p,f,m,h)=>{const g=r._row||r,v=m&&m._row?m._row:m;if(i||!v||l.has(v)&&e.isTreeExpandByRow(v)){const r=x(g),i={_row:g,_level:h.length-1,_hasChild:r,_expand:r&&e.isTreeExpandByRow(g)};n.forEach(((t,n)=>{let l="";const r=t.editRender||t.cellRender;let p=t.exportMethod;if(!p&&r&&r.name){const e=Lt.renderer.get(r.name);e&&(p=e.exportMethod)}if(p)l=p({$table:e,row:g,column:t,options:o});else switch(t.type){case"seq":l="all"===s?f.map(((e,t)=>t%2===0?Number(e)+1:".")).join(""):b(g,c,t,n);break;case"checkbox":l=w(e.isCheckedByCheckboxRow(g)),i._checkboxLabel=d.labelField?a().get(g,d.labelField):"",i._checkboxDisabled=d.checkMethod&&!d.checkMethod({row:g});break;case"radio":l=w(e.isCheckedByRadioRow(g)),i._radioLabel=u.labelField?a().get(g,u.labelField):"",i._radioDisabled=u.checkMethod&&!u.checkMethod({row:g});break;default:if(o.original)l=pe(g,t);else if(l=e.getCellLabel(g,t),"html"===t.type)Xo.innerHTML=l,l=Xo.innerText.trim();else{const o=e.getCell(g,t);o&&(l=o.innerText.trim())}}i[t.id]=a().toValueString(l)})),l.set(g,1),t.push(Object.assign(i,g))}}),p),t}return r.map(((t,l)=>{const r={_row:t};return n.forEach(((n,i)=>{let c="";const p=n.editRender||n.cellRender;let f=n.exportMethod;if(!f&&p&&p.name){const e=Lt.renderer.get(p.name);e&&(f=e.exportMethod)}if(f)c=f({$table:e,row:t,column:n,options:o});else switch(n.type){case"seq":c="all"===s?l+1:b(t,l,n,i);break;case"checkbox":c=w(e.isCheckedByCheckboxRow(t)),r._checkboxLabel=d.labelField?a().get(t,d.labelField):"",r._checkboxDisabled=d.checkMethod&&!d.checkMethod({row:t});break;case"radio":c=w(e.isCheckedByRadioRow(t)),r._radioLabel=u.labelField?a().get(t,u.labelField):"",r._radioDisabled=u.checkMethod&&!u.checkMethod({row:t});break;default:if(o.original)c=pe(t,n);else if(c=e.getCellLabel(t,n),"html"===n.type)Xo.innerHTML=c,c=Xo.innerText.trim();else{const o=e.getCell(t,n);o&&(c=o.innerText.trim())}}r[n.id]=a().toValueString(c)})),r}))},T=e=>{const{columns:t,dataFilterMethod:o}=e;let n=e.data;return o&&(n=n.filter(((e,t)=>o({row:e,$rowIndex:t})))),y(e,t,n)},E=(t,o,n)=>{const l=n.editRender||n.cellRender;let r=n.footerExportMethod;if(!r&&l&&l.name){const e=Lt.renderer.get(l.name);e&&(r=e.footerExportMethod)}const i=e.getVTColumnIndex(n),s=r?r({$table:e,items:o,itemIndex:i,_columnIndex:i,column:n,options:t}):a().toValueString(o[i]);return s},S=(e,t,n)=>{let l=Go;if(e.isHeader&&(l+=t.map((t=>rn(on(e,t)))).join(",")+Ko),n.forEach((e=>{l+=t.map((t=>rn(ln(t,e[t.id])))).join(",")+Ko})),e.isFooter){const{footerTableData:n}=o,r=nn(e,n);r.forEach((o=>{l+=t.map((t=>rn(E(e,o,t)))).join(",")+Ko}))}return l},R=(e,t,n)=>{let l="";if(e.isHeader&&(l+=t.map((t=>rn(on(e,t)))).join("\t")+Ko),n.forEach((e=>{l+=t.map((t=>rn(e[t.id]))).join("\t")+Ko})),e.isFooter){const{footerTableData:n}=o,r=nn(e,n);r.forEach((o=>{l+=t.map((t=>rn(E(e,o,t)))).join(",")+Ko}))}return l},O=(e,t,n)=>{const l=e[t],r=a().isUndefined(l)||a().isNull(l)?n:l,i="ellipsis"===r,s="title"===r,c=!0===r||"tooltip"===r;let u=s||c||i;const{scrollXLoad:d,scrollYLoad:p}=o;return!d&&!p||u||(u=!0),u},$=(n,r,i)=>{const{id:s,border:c,treeConfig:u,headerAlign:d,align:p,footerAlign:f,showOverflow:m,showHeaderOverflow:h}=t,{isAllSelected:g,isIndeterminate:v,mergeList:x}=o,b=l.value,{print:w,isHeader:y,isFooter:C,isColgroup:T,isMerge:S,colgroups:R,original:$}=n,I="check-all",M=["vxe-table",`border--${en(c)}`,w?"is--print":"",y?"is--header":""].filter((e=>e)),D=[`<table class="${M.join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${r.map((e=>`<col style="width:${e.renderWidth}px">`)).join("")}</colgroup>`];if(y&&(D.push("<thead>"),T&&!$?R.forEach((e=>{D.push(`<tr>${e.map((e=>{const t=e.headerAlign||e.align||d||p,o=O(e,"showHeaderOverflow",h)?["col--ellipsis"]:[],l=on(n,e);let r=0,i=0;a().eachTree([e],(t=>{t.childNodes&&e.childNodes.length||i++,r+=t.renderWidth}),{children:"childNodes"});const s=r-i;return t&&o.push(`col--${t}`),"checkbox"===e.type?`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${w?"":`style="width: ${s}px"`}><input type="checkbox" class="${I}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${l}"><div ${w?"":`style="width: ${s}px"`}><span>${k(l,!0)}</span></div></th>`})).join("")}</tr>`)})):D.push(`<tr>${r.map((e=>{const t=e.headerAlign||e.align||d||p,o=O(e,"showHeaderOverflow",h)?["col--ellipsis"]:[],l=on(n,e);return t&&o.push(`col--${t}`),"checkbox"===e.type?`<th class="${o.join(" ")}"><div ${w?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${I}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" title="${l}"><div ${w?"":`style="width: ${e.renderWidth}px"`}><span>${k(l,!0)}</span></div></th>`})).join("")}</tr>`),D.push("</thead>")),i.length&&(D.push("<tbody>"),u?i.forEach((e=>{D.push("<tr>"+r.map((t=>{const o=t.align||p,n=O(t,"showOverflow",m)?["col--ellipsis"]:[],l=e[t.id];if(o&&n.push(`col--${o}`),t.treeNode){let o="";return e._hasChild&&(o=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),n.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${n.join(" ")}" title="${l}"><div ${w?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*b.indent}px"><div class="vxe-table--tree-icon-wrapper">${o}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${tn(l)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${n.join(" ")}" title="${l}"><div ${w?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*b.indent}px"><div class="vxe-table--tree-icon-wrapper">${o}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${tn(l)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${n.join(" ")}" title="${l}"><div ${w?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*b.indent}px"><div class="vxe-table--tree-icon-wrapper">${o}</div><div class="vxe-table--tree-cell">${l}</div></div></div></td>`}return"radio"===t.type?`<td class="${n.join(" ")}"><div ${w?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${tn(l)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${n.join(" ")}"><div ${w?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${tn(l)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${n.join(" ")}" title="${l}"><div ${w?"":`style="width: ${t.renderWidth}px"`}>${k(l,!0)}</div></td>`})).join("")+"</tr>")})):i.forEach((t=>{D.push("<tr>"+r.map((o=>{const n=o.align||p,l=O(o,"showOverflow",m)?["col--ellipsis"]:[],r=t[o.id];let a=1,i=1;if(S&&x.length){const n=e.getVTRowIndex(t._row),l=e.getVTColumnIndex(o),r=we(x,n,l);if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(i=t)}}return n&&l.push(`col--${n}`),"radio"===o.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${w?"":`style="width: ${o.renderWidth}px"`}><input type="radio" name="radio_${s}" ${t._radioDisabled?"disabled ":""}${tn(r)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===o.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${w?"":`style="width: ${o.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${tn(r)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}" title="${r}"><div ${w?"":`style="width: ${o.renderWidth}px"`}>${k(r,!0)}</div></td>`})).join("")+"</tr>")})),D.push("</tbody>")),C){const{footerTableData:e}=o,t=nn(n,e);t.length&&(D.push("<tfoot>"),t.forEach((e=>{D.push(`<tr>${r.map((t=>{const o=t.footerAlign||t.align||f||p,l=O(t,"showOverflow",m)?["col--ellipsis"]:[],r=E(n,e,t);return o&&l.push(`col--${o}`),`<td class="${l.join(" ")}" title="${r}"><div ${w?"":`style="width: ${t.renderWidth}px"`}>${k(r,!0)}</div></td>`})).join("")}</tr>`)})),D.push("</tfoot>"))}const N=!g&&v?`<script>(function(){var a=document.querySelector(".${I}");if(a){a.indeterminate=true}})()<\/script>`:"";return D.push("</table>",N),w?D.join(""):Ho(n,D.join(""))},I=(e,t,n)=>{let l=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${e.sheetName}">`,"<Table>",t.map((e=>`<Column ss:Width="${e.renderWidth}"/>`)).join("")].join("");if(e.isHeader&&(l+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${on(e,t)}</Data></Cell>`)).join("")}</Row>`),n.forEach((e=>{l+="<Row>"+t.map((t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`)).join("")+"</Row>"})),e.isFooter){const{footerTableData:n}=o,r=nn(e,n);r.forEach((o=>{l+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${E(e,o,t)}</Data></Cell>`)).join("")}</Row>`}))}return`${l}</Table></Worksheet></Workbook>`},M=(e,t,o)=>{if(t.length)switch(e.type){case"csv":return S(e,t,o);case"txt":return R(e,t,o);case"html":return $(e,t,o);case"xml":return I(e,t,o)}return""},D=(e,t)=>{const{filename:o,type:n,download:l}=e;if(!l){const o=_o(t,e);return Promise.resolve({type:n,content:t,blob:o})}Yo({filename:o,type:n,content:t}).then((()=>{!1!==e.message&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:c.i18n("vxe.table.expSuccess"),status:"success"}))}))},N=t=>{const{remote:o,columns:n,colgroups:l,exportMethod:r,afterExportMethod:a}=t;return new Promise((a=>{if(o){const o={options:t,$table:e,$grid:v};a(r?r(o):o)}else{const o=T(t);a(e.preventEvent(null,"event.export",{options:t,columns:n,colgroups:l,datas:o},(()=>D(t,M(t,n,o)))))}})).then((o=>(gn(n),t.print||a&&a({status:!0,options:t,$table:e,$grid:v}),Object.assign({status:!0},o)))).catch((()=>{gn(n),t.print||a&&a({status:!1,options:t,$table:e,$grid:v});const o={status:!1};return Promise.reject(o)}))},L=(t,o)=>{const{tableFullColumn:l,_importResolve:r,_importReject:a}=n;let i={fields:[],rows:[]};switch(o.type){case"csv":i=pn(l,t);break;case"txt":i=fn(l,t);break;case"html":i=mn(l,t);break;case"xml":i=hn(l,t);break}const{fields:s,rows:u}=i,d=vn(l,s);d?e.createData(u).then((t=>{let n;return n="insert"===o.mode?e.insert(t):e.reloadData(t),!1!==o.message&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:c.i18n("vxe.table.impSuccess",[u.length]),status:"success"})),n.then((()=>{r&&r({status:!0})}))})):!1!==o.message&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:c.i18n("vxe.error.impFields"),status:"error"}),a&&a({status:!1}))},A=(t,o)=>{const{importMethod:l,afterImportMethod:r}=o,{type:i,filename:s}=C(t);if(!l&&!a().includes(Lt.config.importTypes,i)){!1!==o.message&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:c.i18n("vxe.error.notType",[i]),status:"error"}));const e={status:!1};return Promise.reject(e)}const u=new Promise(((r,a)=>{const c=e=>{r(e),n._importResolve=null,n._importReject=null},u=e=>{a(e),n._importResolve=null,n._importReject=null};if(n._importResolve=c,n._importReject=u,window.FileReader){const r=Object.assign({mode:"insert"},o,{type:i,filename:s});if(r.remote)l?Promise.resolve(l({file:t,options:r,$table:e})).then((()=>{c({status:!0})})).catch((()=>{c({status:!0})})):c({status:!0});else{const{tableFullColumn:o}=n;e.preventEvent(null,"event.import",{file:t,options:r,columns:o},(()=>{const e=new FileReader;e.onerror=()=>{f("vxe.error.notType",[i]),u({status:!1})},e.onload=e=>{L(e.target.result,r)},e.readAsText(t,r.encoding||"UTF-8")}))}}else f("vxe.error.notExp"),c({status:!0})}));return u.then((()=>{r&&r({status:!0,options:o,$table:e})})).catch((t=>(r&&r({status:!1,options:o,$table:e}),Promise.reject(t))))},P=(l,r)=>{const{treeConfig:i,showHeader:s,showFooter:c}=t,{initStore:d,mergeList:p,isGroup:f,footerTableData:m,exportStore:h,exportParams:v}=o,{collectColumn:x}=n,b=i,w=u.value,y=e.getCheckboxRecords(),C=!!m.length,T=!b&&p.length,E=Object.assign({message:!0,isHeader:s,isFooter:c},l),S=E.types||Lt.config.exportTypes,R=E.modes,k=w.checkMethod,O=x.slice(0),{columns:$}=E,I=S.map((e=>({value:e,label:`vxe.export.types.${e}`}))),M=R.map((e=>({value:e,label:`vxe.export.modes.${e}`})));return a().eachTree(O,((e,t,o,n,l)=>{const r=e.children&&e.children.length;(r||Zo(e))&&(e.checked=$?$.some((t=>{if(he(t))return e===t;if(a().isString(t))return e.field===t;{const o=t.id||t.colId,n=t.type,l=t.property||t.field;if(o)return e.id===o;if(l&&n)return e.property===l&&e.type===n;if(l)return e.property===l;if(n)return e.type===n}return!1})):e.visible,e.halfChecked=!1,e.disabled=l&&l.disabled||!!k&&!k({column:e}))})),Object.assign(h,{columns:O,typeList:I,modeList:M,hasFooter:C,hasMerge:T,hasTree:b,isPrint:r,hasColgroup:f,visible:!0}),Object.assign(v,{mode:y.length?"selected":"current"},E),-1===R.indexOf(v.mode)&&(v.mode=R[0]),-1===S.indexOf(v.type)&&(v.type=S[0]),d.export=!0,(0,g.nextTick)()},F={exportData(r){const{treeConfig:s}=t,{isGroup:u,tableGroupColumn:d}=o,{tableFullColumn:m,afterFullData:h}=n,g=i.value,x=l.value,b=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},g,{print:!1},r),{type:w,mode:y,columns:C,original:T,beforeExportMethod:E}=b;let S=[];const R=C&&C.length?C:null;let k=b.columnFilterMethod;R||k||(k=T?({column:e})=>e.property:({column:e})=>Zo(e)),S=R?a().searchTree(a().mapTree(R,(t=>{let o;if(t){if(he(t))o=t;else if(a().isString(t))o=e.getColumnByField(t);else{const n=t.id||t.colId,l=t.type,r=t.property||t.field;n?o=e.getColumnById(n):r&&l?o=m.find((e=>e.property===r&&e.type===l)):r?o=e.getColumnByField(r):l&&(o=m.find((e=>e.type===l)))}return o||{}}}),{children:"childNodes",mapChildren:"_children"}),((e,t)=>he(e)&&(!k||k({column:e,$columnIndex:t}))),{children:"_children",mapChildren:"childNodes",original:!0}):a().searchTree(u?d:m,((e,t)=>e.visible&&(!k||k({column:e,$columnIndex:t}))),{children:"children",mapChildren:"childNodes",original:!0});const O=[];if(a().eachTree(S,(e=>{const t=e.children&&e.children.length;t||O.push(e)}),{children:"childNodes"}),b.columns=O,b.colgroups=Qo(S),b.filename||(b.filename=c.i18n(b.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[a().toDateString(Date.now(),"yyyyMMddHHmmss")])),b.sheetName||(b.sheetName=document.title),!b.exportMethod&&!a().includes(Lt.config.exportTypes,w)){f("vxe.error.notType",[w]);const e={status:!1};return Promise.reject(e)}if(b.print||E&&E({options:b,$table:e,$grid:v}),!b.data)if(b.data=h,"selected"===y){const t=e.getCheckboxRecords();["html","pdf"].indexOf(w)>-1&&s?b.data=a().searchTree(e.getTableData().fullData,(o=>e.findRowIndexOf(t,o)>-1),Object.assign({},x,{data:"_row"})):b.data=t}else if("all"===y&&(v||p("vxe.error.errProp",["all","mode=current,selected"]),v&&!b.remote)){const{reactData:t}=v,{computeProxyOpts:o}=v.getComputeMaps(),n=o.value,{beforeQueryAll:l,afterQueryAll:r,ajax:i={},props:s={}}=n,c=i.queryAll;if(c||p("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),c){const o={$table:e,$grid:v,sort:t.sortData,filters:t.filterData,form:t.formData,target:c,options:b};return Promise.resolve((l||c)(o)).catch((e=>e)).then((e=>(b.data=(s.list?a().get(e,s.list):e)||[],r&&r(o),N(b))))}}return N(b)},importByFile(t,o){const n=Object.assign({},o),{beforeImportMethod:l}=n;return l&&l({options:n,$table:e}),A(t,n)},importData(t){const o=s.value,n=Object.assign({types:Lt.config.importTypes},o,t),{beforeImportMethod:l,afterImportMethod:r}=n;return l&&l({options:n,$table:e}),Bo(n).catch((t=>(r&&r({status:!1,options:n,$table:e}),Promise.reject(t)))).then((e=>{const{file:t}=e;return A(t,n)}))},saveFile(e){return Yo(e)},readFile(e){return Bo(e)},print(t){const o=r.value,n=Object.assign({original:!1},o,t,{type:"html",download:!1,remote:!1,print:!0});return n.sheetName||(n.sheetName=document.title),new Promise((t=>{n.content?t(Uo(e,n,n.content)):t(F.exportData(n).then((({content:t})=>Uo(e,n,t))))}))},openImport(e){const{treeConfig:n,importConfig:l}=t,{initStore:r,importStore:a,importParams:i}=o,u=s.value,d=Object.assign({mode:"insert",message:!0,types:Lt.config.importTypes},e,u),{types:p}=d,m=!!n;if(m)return void(d.message&&Lt.modal.message({content:c.i18n("vxe.error.treeNotImp"),status:"error"}));l||f("vxe.error.reqProp",["import-config"]);const h=p.map((e=>({value:e,label:`vxe.export.types.${e}`}))),g=d.modes.map((e=>({value:e,label:`vxe.import.modes.${e}`})));Object.assign(a,{file:null,type:"",filename:"",modeList:g,typeList:h,visible:!0}),Object.assign(i,d),r.import=!0},openExport(e){const o=i.value;t.exportConfig||f("vxe.error.reqProp",["export-config"]),P(Object.assign({},o,e))},openPrint(e){const o=r.value;t.printConfig||f("vxe.error.reqProp",["print-config"]),P(Object.assign({},o,e),!0)}};return F},setupGrid(e){return e.extendTableMethods(xn)}};var wn=bn;const yn=e=>{const t=Object.assign({},e,{type:"html"});Uo(null,t,t.content)},Cn={ExportPanel:Mo,ImportPanel:Lo,install(e){Lt.saveFile=Yo,Lt.readFile=Bo,Lt.print=yn,Lt.setup({export:{types:{csv:0,html:0,xml:0,txt:0}}}),Lt.hooks.add("$tableExport",wn),e.component(Mo.name,Mo),e.component(Lo.name,Lo)}},Tn=Cn;Bt.component(Mo.name,Mo),Bt.component(Lo.name,Lo);function En(e,t){let o=0,n=0;const l=!M.firefox&&F(e,"vxe-checkbox--label");if(l){const t=getComputedStyle(e);o-=a().toNumber(t.paddingTop),n-=a().toNumber(t.paddingLeft)}while(e&&e!==t)if(o+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,l){const t=getComputedStyle(e);o-=a().toNumber(t.paddingTop),n-=a().toNumber(t.paddingLeft)}return{offsetTop:o,offsetLeft:n}}const Sn={setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:i,computeMouseOpts:s,computeTreeOpts:c}=e.getComputeMaps();function u(t,l,r){let a=0,i=[];const s=r>0,c=r>0?r:Math.abs(r)+l.offsetHeight,{scrollYLoad:u}=o,{afterFullData:d,scrollYStore:p}=n;if(u){const o=e.getVTRowIndex(t.row);i=s?d.slice(o,o+Math.ceil(c/p.rowHeight)):d.slice(o-Math.floor(c/p.rowHeight)+1,o+1)}else{const t=s?"next":"previous";while(l&&a<c){const o=e.getRowNode(l);o&&(i.push(o.item),a+=l.offsetHeight,l=l[`${t}ElementSibling`])}}return i}const d=(t,o)=>{const{column:r,cell:a}=o;if("checkbox"===r.type){const i=l.value,{elemStore:s}=n,c=t.clientX,d=t.clientY,p=s[`${r.fixed||"main"}-body-wrapper`]||s["main-body-wrapper"],f=p?p.value:null;if(!f)return;const m=f.querySelector(".vxe-table--checkbox-range"),h=document.onmousemove,g=document.onmouseup,v=a.parentNode,x=e.getCheckboxRecords();let b=[];const w=1,y=En(t.target,f),C=y.offsetTop+t.offsetY,T=y.offsetLeft+t.offsetX,E=f.scrollTop,S=v.offsetHeight;let R=null,k=!1,O=1;const $=(t,o)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},o)},I=t=>{const{clientX:n,clientY:l}=t,r=n-c,a=l-d+(f.scrollTop-E);let i=Math.abs(a),s=Math.abs(r),p=C,h=T;a<w?(p+=a,p<w&&(p=w,i=C)):i=Math.min(i,f.scrollHeight-C-w),r<w?(h+=r,s>T&&(h=w,s=T)):s=Math.min(s,f.clientWidth-T-w),m.style.height=`${i}px`,m.style.width=`${s}px`,m.style.left=`${h}px`,m.style.top=`${p}px`,m.style.display="block";const g=u(o,v,a<w?-i:i);i>10&&g.length!==b.length&&(b=g,t.ctrlKey?g.forEach((t=>{e.handleSelectRow({row:t},-1===x.indexOf(t))})):(e.setAllCheckboxRow(!1),e.setCheckboxRow(g,!0)),$("change",t))},M=()=>{clearTimeout(R),R=null},D=t=>{M(),R=setTimeout((()=>{if(R){const{scrollLeft:o,scrollTop:n,clientHeight:l,scrollHeight:r}=f,a=Math.ceil(50*O/S);k?n+l<r?(e.scrollTo(o,n+a),D(t),I(t)):M():n?(e.scrollTo(o,n-a),D(t),I(t)):M()}}),50)};j(i,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:o}=X(f);t<o?(k=!1,O=o-t,R||D(e)):t>o+f.clientHeight?(k=!0,O=t-o-f.clientHeight,R||D(e)):R&&M(),I(e)},document.onmouseup=e=>{M(),V(i,"drag--range"),m.removeAttribute("style"),document.onmousemove=h,document.onmouseup=g,$("end",e)},$("start",t)}},p=(o,n)=>{const{editConfig:l,checkboxConfig:a,mouseConfig:c}=t,u=i.value,p=s.value,f=r.value;if(c&&p.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(o,n);a&&u.range&&d(o,n),c&&p.selected&&(l&&"cell"!==f.mode||e.handleSelected(n,o))},f={moveTabSelected(o,l,a){const{editConfig:i}=t,{afterFullData:s,visibleColumn:c}=n,u=r.value;let d,p,f;const m=Object.assign({},o),h=e.getVTRowIndex(m.row),g=e.getVTColumnIndex(m.column);a.preventDefault(),l?g<=0?h>0&&(p=h-1,d=s[p],f=c.length-1):f=g-1:g>=c.length-1?h<s.length-1&&(p=h+1,d=s[p],f=0):f=g+1;const v=c[f];v&&(d?(m.rowIndex=p,m.row=d):m.rowIndex=h,m.columnIndex=f,m.column=v,m.cell=e.getCell(m.row,m.column),i?"click"!==u.trigger&&"dblclick"!==u.trigger||("row"===u.mode?e.handleActived(m,a):e.scrollToRow(m.row,m.column).then((()=>e.handleSelected(m,a)))):e.scrollToRow(m.row,m.column).then((()=>e.handleSelected(m,a))))},moveCurrentRow(l,r,i){const{treeConfig:s}=t,{currentRow:u}=o,{afterFullData:d}=n,p=c.value;let f;if(i.preventDefault(),u)if(s){const{index:e,items:t}=a().findTree(d,(e=>e===u),p);l&&e>0?f=t[e-1]:r&&e<t.length-1&&(f=t[e+1])}else{const t=e.getVTRowIndex(u);l&&t>0?f=d[t-1]:r&&t<d.length-1&&(f=d[t+1])}else f=d[0];if(f){const t={$table:e,row:f,rowIndex:e.getRowIndex(f),$rowIndex:e.getVMRowIndex(f)};e.scrollToRow(f).then((()=>e.triggerCurrentRowEvent(i,t)))}},moveSelected(t,o,l,r,a,i){const{afterFullData:s,visibleColumn:c}=n,u=Object.assign({},t),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);i.preventDefault(),l&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):a&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):o&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):r&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then((()=>{u.cell=e.getCell(u.row,u.column),e.handleSelected(u,i)}))},triggerHeaderCellMousedownEvent(o,n){const{mouseConfig:l}=t,r=s.value;if(l&&r.area&&e.handleHeaderCellAreaEvent){const t=o.currentTarget,l=U(o,t,"vxe-cell--sort").flag,r=U(o,t,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(o,Object.assign({cell:t,triggerSort:l,triggerFilter:r},n))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent(t,o){const n=t.currentTarget;o.cell=n,p(t,o),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}};return f}};var Rn=Sn;const kn={install(){Lt.hooks.add("$tableKeyboard",Rn)}},On=kn;class $n{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return R(this.$options.content||this.$options.message)}get message(){return this.content}}const In=["fullValidate","validate","clearValidate"],Mn={setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refValidTooltip:l}=e.getRefMaps(),{computeValidOpts:r,computeTreeOpts:i,computeEditOpts:s}=e.getComputeMaps();let u,d={},p={};const f=t=>new Promise((o=>{const n=r.value;!1===n.autoPos?(e.dispatchEvent("valid-error",t,null),o()):e.handleActived(t,{type:"valid-error",trigger:"call"}).then((()=>{setTimeout((()=>{o(p.showValidTooltip(t))}),10)}))})),m=(o,l,s)=>{const m={},{editRules:h,treeConfig:v}=t,{afterFullData:x}=n,b=i.value,w=r.value;let y;!0===o?y=x:o&&(a().isFunction(o)?l=o:y=a().isArray(o)?o:[o]),y||(y=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const C=[];if(n._lastCallTime=Date.now(),u=!1,d.clearValidate(),h){const t=e.getColumns(),o=o=>{if(s||!u){const n=[];t.forEach((t=>{!s&&u||!a().has(h,t.property)||n.push(p.validCellRules("all",o,t).catch((({rule:n,rules:l})=>{const r={rule:n,rules:l,rowIndex:e.getRowIndex(o),row:o,columnIndex:e.getColumnIndex(t),column:t,field:t.property,$table:e};if(m[t.property]||(m[t.property]=[]),m[t.property].push(r),!s)return u=!0,Promise.reject(r)})))})),C.push(Promise.all(n))}};return v?a().eachTree(y,o,b):y.forEach(o),Promise.all(C).then((()=>{const e=Object.keys(m);return(0,g.nextTick)().then((()=>{if(e.length)return Promise.reject(m[e[0]][0]);l&&l()}))})).catch((t=>new Promise(((o,n)=>{const r=()=>{(0,g.nextTick)((()=>{l?(l(m),o()):"obsolete"===c.validToReject?n(m):o(m)}))},a=()=>{t.cell=e.getCell(t.row,t.column),Z(t.cell),f(t).then(r)},i=t.row,s=x.indexOf(i),u=s>0?x[s-1]:i;!1===w.autoPos?r():v?e.scrollToTreeRow(u).then(a):e.scrollToRow(u).then(a)}))))}return(0,g.nextTick)().then((()=>{l&&l()}))};d={fullValidate(e,t){return m(e,t,!0)},validate(e,t){return m(e,t)},clearValidate(){const{validStore:e}=o,t=l.value;return Object.assign(e,{visible:!1,row:null,column:null,content:"",rule:null}),t&&t.reactData.visible&&t.close(),(0,g.nextTick)()}};const h=(e,t)=>{const{type:o,min:n,max:l,pattern:r}=e,i="number"===o,s=i?a().toNumber(t):a().getSize(t);return!(!i||!isNaN(t))||(!a().eqNull(n)&&s<a().toNumber(n)||(!a().eqNull(l)&&s>a().toNumber(l)||!(!r||(a().isRegExp(r)?r:new RegExp(r)).test(t))))};return p={validCellRules(o,n,l,r){const{editRules:i}=t,{property:s}=l,c=[],d=[];if(s&&i){const t=a().get(i,s);if(t){const i=a().isUndefined(r)?a().get(n,s):r;t.forEach((r=>{const{type:s,trigger:p,required:f}=r;if("all"===o||!p||o===p)if(a().isFunction(r.validator)){const o=r.validator({cellValue:i,rule:r,rules:t,row:n,rowIndex:e.getRowIndex(n),column:l,columnIndex:e.getColumnIndex(l),field:l.property,$table:e});o&&(a().isError(o)?(u=!0,c.push(new $n({type:"custom",trigger:p,content:o.message,rule:new $n(r)}))):o.catch&&d.push(o.catch((e=>{u=!0,c.push(new $n({type:"custom",trigger:p,content:e&&e.message?e.message:r.content||r.message,rule:new $n(r)}))}))))}else{const e="array"===s,t=e||a().isArray(i)?!a().isArray(i)||!i.length:O(i);(f?t||h(r,i):!t&&h(r,i))&&(u=!0,c.push(new $n(r)))}}))}}return Promise.all(d).then((()=>{if(c.length){const e={rules:c,rule:c[0]};return Promise.reject(e)}}))},hasCellRules(e,o,n){const{editRules:l}=t,{property:r}=n;if(r&&l){const t=a().get(l,r);return t&&!!a().find(t,(t=>"all"===e||!t.trigger||e===t.trigger))}return!1},triggerValidate(e){const{editConfig:n,editRules:l}=t,{editStore:r,validStore:a}=o,{actived:i}=r,c=s.value;if(n&&l&&i.row){const{row:t,column:o,cell:n}=i.args;if(p.hasCellRules(e,t,o))return p.validCellRules(e,t,o).then((()=>{"row"===c.mode&&a.visible&&a.row===t&&a.column===o&&d.clearValidate()})).catch((({rule:l})=>{if(!l.trigger||e===l.trigger){const e={rule:l,row:t,column:o,cell:n};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()}))}return Promise.resolve()},showValidTooltip(n){const{height:a}=t,{tableData:i,validStore:s}=o,c=r.value,{rule:u,row:d,column:p,cell:f}=n,m=l.value,h=u.content;return(0,g.nextTick)().then((()=>{if(Object.assign(s,{row:d,column:p,rule:u,content:h,visible:!0}),e.dispatchEvent("valid-error",n,null),m&&("tooltip"===c.message||"default"===c.message&&!a&&i.length<2))return m.open(f,h)}))}},{...d,...p}},setupGrid(e){return e.extendTableMethods(In)}};var Dn=Mn;const Nn={install(){Lt.hooks.add("$tableValidator",Dn)}},Ln=Nn;var An=(0,g.defineComponent)({name:"VxeIcon",props:{name:String,roll:Boolean},emits:["click"],setup(e,{emit:t}){const o=e=>{t("click",{$event:e})};return()=>(0,g.h)("i",{class:[`vxe-icon-${e.name}`,e.roll?"roll":""],onClick:o})}});const Pn=Object.assign(An,{install(e){e.component(An.name,An)}}),Fn=Pn;Bt.component(Pn.name,Pn);function Vn(e){const{$table:t,column:o}=e,n=o.titlePrefix||o.titleHelp;return n?[(0,g.h)("i",{class:["vxe-cell-help-icon",n.icon||c.icon.TABLE_HELP],onMouseenter(o){t.triggerHeaderHelpEvent(o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}function jn(e,t){const{$table:o,column:n}=e,{props:l,internalData:r}=o,{computeTooltipOpts:i}=o.getComputeMaps(),{showHeaderOverflow:s}=l,{type:c,showHeaderOverflow:u}=n,d=i.value,p=d.showAll,f=a().isUndefined(u)||a().isNull(u)?s:u,m="title"===f,h=!0===f||"tooltip"===f,v={};return(m||h||p)&&(v.onMouseenter=t=>{r._isResize||(m?q(t.currentTarget,n):(h||p)&&o.triggerHeaderTooltipEvent(t,e))}),(h||p)&&(v.onMouseleave=e=>{r._isResize||(h||p)&&o.handleTargetLeaveEvent(e)}),["html"===c&&a().isString(t)?(0,g.h)("span",{class:"vxe-cell--title",innerHTML:t,...v}):(0,g.h)("span",{class:"vxe-cell--title",...v},t)]}function _n(e){const{$table:t,column:o,_columnIndex:n,items:l}=e,{slots:r,editRender:a,cellRender:i}=o,s=a||i,c=r?r.footer:null;if(c)return t.callSlot(c,e);if(s){const t=Lt.renderer.get(s.name);if(t&&t.renderFooter)return Re(t.renderFooter(s,e))}return[k(l[n],1)]}function Hn(e){const{$table:t,row:o,column:n}=e;return k(t.getCellLabel(o,n),1)}const Bn={createColumn(e,t){const{type:o,sortable:n,filters:l,editRender:r,treeNode:a}=t,{props:i}=e,{editConfig:s}=i,{computeEditOpts:c,computeCheckboxOpts:u}=e.getComputeMaps(),d=u.value,p=c.value,f={renderHeader:Bn.renderDefaultHeader,renderCell:a?Bn.renderTreeCell:Bn.renderDefaultCell,renderFooter:Bn.renderDefaultFooter};switch(o){case"seq":f.renderHeader=Bn.renderSeqHeader,f.renderCell=a?Bn.renderTreeIndexCell:Bn.renderSeqCell;break;case"radio":f.renderHeader=Bn.renderRadioHeader,f.renderCell=a?Bn.renderTreeRadioCell:Bn.renderRadioCell;break;case"checkbox":f.renderHeader=Bn.renderCheckboxHeader,f.renderCell=d.checkField?a?Bn.renderTreeSelectionCellByProp:Bn.renderCheckboxCellByProp:a?Bn.renderTreeSelectionCell:Bn.renderCheckboxCell;break;case"expand":f.renderCell=Bn.renderExpandCell,f.renderData=Bn.renderExpandData;break;case"html":f.renderCell=a?Bn.renderTreeHTMLCell:Bn.renderHTMLCell,l&&n?f.renderHeader=Bn.renderSortAndFilterHeader:n?f.renderHeader=Bn.renderSortHeader:l&&(f.renderHeader=Bn.renderFilterHeader);break;default:s&&r?(f.renderHeader=Bn.renderEditHeader,f.renderCell="cell"===p.mode?a?Bn.renderTreeCellEdit:Bn.renderCellEdit:a?Bn.renderTreeRowEdit:Bn.renderRowEdit):l&&n?f.renderHeader=Bn.renderSortAndFilterHeader:n?f.renderHeader=Bn.renderSortHeader:l&&(f.renderHeader=Bn.renderFilterHeader)}return ge(e,t,f)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:n,editRender:l,cellRender:r}=o,a=l||r,i=n?n.header:null;if(i)return jn(e,t.callSlot(i,e));if(a){const t=Lt.renderer.get(a.name);if(t&&t.renderHeader)return jn(e,Re(t.renderHeader(a,e)))}return jn(e,k(o.getTitle(),1))},renderDefaultHeader(e){return Vn(e).concat(Bn.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:n}=e,{slots:l,editRender:r,cellRender:a}=n,i=r||a,s=l?l.default:null;if(s)return t.callSlot(s,e);if(i){const t=r?"renderCell":"renderDefault",o=Lt.renderer.get(i.name),n=o?o[t]:null;if(n)return Re(n(i,Object.assign({$type:r?"edit":"cell"},e)))}const c=t.getCellLabel(o,n),u=r?r.placeholder:"";return[(0,g.h)("span",{class:"vxe-cell--label"},r&&O(c)?[(0,g.h)("span",{class:"vxe-cell--placeholder"},k(R(u),1))]:k(c,1))]},renderTreeCell(e){return Bn.renderTreeIcon(e,Bn.renderDefaultCell(e))},renderDefaultFooter(e){return[(0,g.h)("span",{class:"vxe-cell--item"},_n(e))]},renderTreeIcon(e,t){const{$table:o,isHidden:n}=e,{reactData:l}=o,{computeTreeOpts:r}=o.getComputeMaps(),{treeExpandeds:a,treeLazyLoadeds:i}=l,s=r.value,{row:u,column:d,level:p}=e,{slots:f}=d,{children:m,hasChild:h,indent:v,lazy:x,trigger:b,iconLoaded:w,showIcon:y,iconOpen:C,iconClose:T}=s,E=u[m],S=f?f.icon:null;let R=!1,k=!1,O=!1;const $={};return S?o.callSlot(S,e):(n||(k=o.findRowIndexOf(a,u)>-1,x&&(O=o.findRowIndexOf(i,u)>-1,R=u[h])),b&&"default"!==b||($.onClick=t=>o.triggerTreeExpandEvent(t,e)),[(0,g.h)("div",{class:["vxe-cell--tree-node",{"is--active":k}],style:{paddingLeft:p*v+"px"}},[y&&(E&&E.length||R)?[(0,g.h)("div",{class:"vxe-tree--btn-wrapper",...$},[(0,g.h)("i",{class:["vxe-tree--node-btn",O?w||c.icon.TABLE_TREE_LOADED:k?C||c.icon.TABLE_TREE_OPEN:T||c.icon.TABLE_TREE_CLOSE]})])]:null,(0,g.h)("div",{class:"vxe-tree-cell"},t)])])},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:n}=o,l=n?n.header:null;return jn(e,l?t.callSlot(l,e):k(o.getTitle(),1))},renderSeqCell(e){const{$table:t,column:o}=e,{props:n}=t,{treeConfig:l}=n,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=o,s=i?i.default:null;if(s)return t.callSlot(s,e);const{seq:c}=e,u=a.seqMethod;return[k(u?u(e):l?c:(a.startIndex||0)+c,1)]},renderTreeIndexCell(e){return Bn.renderTreeIcon(e,Bn.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:n}=o,l=n?n.header:null,r=n?n.title:null;return jn(e,l?t.callSlot(l,e):[(0,g.h)("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):k(o.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:o,isHidden:n}=e,{reactData:l}=t,{computeRadioOpts:r}=t.getComputeMaps(),{selectRow:i}=l,s=r.value,{slots:u}=o,{labelField:d,checkMethod:p,visibleMethod:f}=s,{row:m}=e,h=u?u.default:null,v=u?u.radio:null,x=m===i,b=!f||f({row:m});let w,y=!!p;n||(w={onClick(o){!y&&b&&t.triggerRadioRowEvent(o,e)}},p&&(y=!p({row:m})));const C={...e,checked:x,disabled:y,visible:b};if(v)return t.callSlot(v,C);const T=[];return b&&T.push((0,g.h)("span",{class:["vxe-radio--icon",x?c.icon.TABLE_RADIO_CHECKED:c.icon.TABLE_RADIO_UNCHECKED]})),(h||d)&&T.push((0,g.h)("span",{class:"vxe-radio--label"},h?t.callSlot(h,C):a().get(m,d))),[(0,g.h)("span",{class:["vxe-cell--radio",{"is--checked":x,"is--disabled":y}],...w},T)]},renderTreeRadioCell(e){return Bn.renderTreeIcon(e,Bn.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:n}=e,{reactData:l}=t,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:a}=t.getComputeMaps(),{isAllSelected:i,isIndeterminate:s}=l,u=r.value,{slots:d}=o,p=d?d.header:null,f=d?d.title:null,m=a.value,h=o.getTitle();let v;n||(v={onClick(e){u||t.triggerCheckAllEvent(e,!i)}});const x={...e,checked:i,disabled:u,indeterminate:s};return p?jn(x,t.callSlot(p,x)):(m.checkStrictly?m.showHeader:!1!==m.showHeader)?jn(x,[(0,g.h)("span",{class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":u,"is--indeterminate":s}],title:c.i18n("vxe.table.allTitle"),...v},[(0,g.h)("span",{class:["vxe-checkbox--icon",s?c.icon.TABLE_CHECKBOX_INDETERMINATE:i?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(f||h?[(0,g.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,x):h)]:[]))]):jn(x,[(0,g.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,x):h)])},renderCheckboxCell(e){const{$table:t,row:o,column:n,isHidden:l}=e,{props:r,reactData:i}=t,{treeConfig:s}=r,{selection:u,treeIndeterminates:d}=i,{computeCheckboxOpts:p}=t.getComputeMaps(),f=p.value,{labelField:m,checkMethod:h,visibleMethod:v}=f,{slots:x}=n,b=x?x.default:null,w=x?x.checkbox:null;let y=!1,C=!1;const T=!v||v({row:o});let E,S=!!h;l||(C=t.findRowIndexOf(u,o)>-1,E={onClick(o){!S&&T&&t.triggerCheckRowEvent(o,e,!C)}},h&&(S=!h({row:o})),s&&(y=t.findRowIndexOf(d,o)>-1));const R={...e,checked:C,disabled:S,visible:T,indeterminate:y};if(w)return t.callSlot(w,R);const k=[];return T&&k.push((0,g.h)("span",{class:["vxe-checkbox--icon",y?c.icon.TABLE_CHECKBOX_INDETERMINATE:C?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]})),(b||m)&&k.push((0,g.h)("span",{class:"vxe-checkbox--label"},b?t.callSlot(b,R):a().get(o,m))),[(0,g.h)("span",{class:["vxe-cell--checkbox",{"is--checked":C,"is--disabled":S,"is--indeterminate":y}],...E},k)]},renderTreeSelectionCell(e){return Bn.renderTreeIcon(e,Bn.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:n,isHidden:l}=e,{props:r,reactData:i}=t,{treeConfig:s}=r,{treeIndeterminates:u}=i,{computeCheckboxOpts:d}=t.getComputeMaps(),p=d.value,{labelField:f,checkField:m,halfField:h,checkMethod:v,visibleMethod:x}=p,{slots:b}=n,w=b?b.default:null,y=b?b.checkbox:null;let C=!1,T=!1;const E=!x||x({row:o});let S,R=!!v;l||(T=a().get(o,m),S={onClick(o){!R&&E&&t.triggerCheckRowEvent(o,e,!T)}},v&&(R=!v({row:o})),s&&(C=t.findRowIndexOf(u,o)>-1));const k={...e,checked:T,disabled:R,visible:E,indeterminate:C};if(y)return t.callSlot(y,k);const O=[];return E&&(O.push((0,g.h)("span",{class:["vxe-checkbox--icon",C?c.icon.TABLE_CHECKBOX_INDETERMINATE:T?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]})),(w||f)&&O.push((0,g.h)("span",{class:"vxe-checkbox--label"},w?t.callSlot(w,k):a().get(o,f)))),[(0,g.h)("span",{class:["vxe-cell--checkbox",{"is--checked":T,"is--disabled":R,"is--indeterminate":h&&!T?o[h]:C}],...S},O)]},renderTreeSelectionCellByProp(e){return Bn.renderTreeIcon(e,Bn.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:n,column:l}=e,{reactData:r}=t,{rowExpandeds:i,expandLazyLoadeds:s}=r,{computeExpandOpts:u}=t.getComputeMaps(),d=u.value,{lazy:p,labelField:f,iconLoaded:m,showIcon:h,iconOpen:v,iconClose:x,visibleMethod:b}=d,{slots:w}=l,y=w?w.default:null,C=w?w.icon:null;let T=!1,E=!1;return C?t.callSlot(C,e):(o||(T=t.findRowIndexOf(i,e.row)>-1,p&&(E=t.findRowIndexOf(s,n)>-1)),[!h||b&&!b(e)?null:(0,g.h)("span",{class:["vxe-table--expanded",{"is--active":T}],onClick(o){t.triggerRowExpandEvent(o,e)}},[(0,g.h)("i",{class:["vxe-table--expand-btn",E?m||c.icon.TABLE_EXPAND_LOADED:T?v||c.icon.TABLE_EXPAND_OPEN:x||c.icon.TABLE_EXPAND_CLOSE]})]),y||f?(0,g.h)("span",{class:"vxe-table--expand-label"},y?t.callSlot(y,e):a().get(n,f)):null])},renderExpandData(e){const{$table:t,column:o}=e,{slots:n,contentRender:l}=o,r=n?n.content:null;if(r)return t.callSlot(r,e);if(l){const t=Lt.renderer.get(l.name);if(t&&t.renderExpand)return Re(t.renderExpand(l,e))}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:n}=o,l=n?n.default:null;return l?t.callSlot(l,e):[(0,g.h)("span",{class:"vxe-cell--html",innerHTML:Hn(e)})]},renderTreeHTMLCell(e){return Bn.renderTreeIcon(e,Bn.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Bn.renderDefaultHeader(e).concat(Bn.renderSortIcon(e)).concat(Bn.renderFilterIcon(e))},renderSortHeader(e){return Bn.renderDefaultHeader(e).concat(Bn.renderSortIcon(e))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:n}=t.getComputeMaps(),l=n.value,{showIcon:r,iconAsc:a,iconDesc:i}=l,{order:s}=o;return r?[(0,g.h)("span",{class:"vxe-cell--sort"},[(0,g.h)("i",{class:["vxe-sort--asc-btn",a||c.icon.TABLE_SORT_ASC,{"sort--active":"asc"===s}],title:c.i18n("vxe.table.sortAsc"),onClick(e){t.triggerSortEvent(e,o,"asc")}}),(0,g.h)("i",{class:["vxe-sort--desc-btn",i||c.icon.TABLE_SORT_DESC,{"sort--active":"desc"===s}],title:c.i18n("vxe.table.sortDesc"),onClick(e){t.triggerSortEvent(e,o,"desc")}})])]:[]},renderFilterHeader(e){return Bn.renderDefaultHeader(e).concat(Bn.renderFilterIcon(e))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:n}=e,{reactData:l}=t,{filterStore:r}=l,{computeFilterOpts:a}=t.getComputeMaps(),i=a.value,{showIcon:s,iconNone:u,iconMatch:d}=i;return s?[(0,g.h)("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===o}]},[(0,g.h)("i",{class:["vxe-filter--btn",n?d||c.icon.TABLE_FILTER_MATCH:u||c.icon.TABLE_FILTER_NONE],title:c.i18n("vxe.table.filter"),onClick(o){t.triggerFilterEvent(o,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,{props:n}=t,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:r,editRules:i}=n,s=l.value,{sortable:u,filters:d,editRender:p}=o;let f=!1;if(i){const e=a().get(i,o.field);e&&(f=e.some((e=>e.required)))}return(w(r)?[f&&s.showAsterisk?(0,g.h)("i",{class:"vxe-cell--required-icon"}):null,w(p)&&s.showIcon?(0,g.h)("i",{class:["vxe-cell--edit-icon",s.icon||c.icon.TABLE_EDIT]}):null]:[]).concat(Bn.renderDefaultHeader(e)).concat(u?Bn.renderSortIcon(e):[]).concat(d?Bn.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:o}=e,{reactData:n}=t,{editStore:l}=n,{actived:r}=l,{editRender:a}=o;return Bn.runRenderer(e,w(a)&&r&&r.row===e.row)},renderTreeRowEdit(e){return Bn.renderTreeIcon(e,Bn.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,{reactData:n}=t,{editStore:l}=n,{actived:r}=l,{editRender:a}=o;return Bn.runRenderer(e,w(a)&&r&&r.row===e.row&&r.column===e.column)},renderTreeCellEdit(e){return Bn.renderTreeIcon(e,Bn.renderCellEdit(e))},runRenderer(e,t){const{$table:o,column:n}=e,{slots:l,editRender:r,formatter:a}=n,i=l?l.default:null,s=l?l.edit:null,c=Lt.renderer.get(r.name);return t?s?o.callSlot(s,e):c&&c.renderEdit?Re(c.renderEdit(r,Object.assign({$type:"edit"},e))):[]:i?o.callSlot(i,e):a?[(0,g.h)("span",{class:"vxe-cell--label"},Hn(e))]:Bn.renderDefaultCell(e)}};var zn=Bn;const Wn={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object};var qn=(0,g.defineComponent)({name:"VxeColumn",props:Wn,setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xetable",{}),l=(0,g.inject)("xecolgroup",null),r=zn.createColumn(n,e);r.slots=t,(0,g.provide)("$xegrid",null),ve(e,r),(0,g.onMounted)((()=>{xe(n,o.value,r,l)})),(0,g.onUnmounted)((()=>{be(n,r)}));const a=()=>(0,g.h)("div",{ref:o});return a}});const Un=Object.assign(qn,{install(e){e.component(qn.name,qn),e.component("VxeTableColumn",qn)}}),Yn=Un;Bt.component(qn.name,qn),Bt.component("VxeTableColumn",qn);var Xn=(0,g.defineComponent)({name:"VxeColgroup",props:Wn,setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xetable",{}),l=(0,g.inject)("xecolgroup",null),r=zn.createColumn(n,e),a={};t.header&&(a.header=t.header);const i={column:r};r.slots=a,r.children=[],(0,g.provide)("xecolgroup",i),(0,g.provide)("$xegrid",null),ve(e,r),(0,g.onMounted)((()=>{xe(n,o.value,r,l)})),(0,g.onUnmounted)((()=>{be(n,r)}));const s=()=>(0,g.h)("div",{ref:o},t.default?t.default():[]);return s}});const Gn=Object.assign(Xn,{install(e){e.component(Xn.name,Xn),e.component("VxeTableColgroup",Xn)}}),Kn=Gn;Bt.component(Xn.name,Xn),Bt.component("VxeTableColgroup",Xn);var Zn={id:String,data:Array,height:[Number,String],maxHeight:[Number,String],resizable:{type:Boolean,default:()=>c.table.resizable},stripe:{type:Boolean,default:()=>c.table.stripe},border:{type:[Boolean,String],default:()=>c.table.border},round:{type:Boolean,default:()=>c.table.round},size:{type:String,default:()=>c.table.size||c.size},fit:{type:Boolean,default:()=>c.table.fit},loading:Boolean,align:{type:String,default:()=>c.table.align},headerAlign:{type:String,default:()=>c.table.headerAlign},footerAlign:{type:String,default:()=>c.table.footerAlign},showHeader:{type:Boolean,default:()=>c.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>c.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>c.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>c.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>c.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>c.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>c.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>c.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>c.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>c.table.emptyText},keepSource:{type:Boolean,default:()=>c.table.keepSource},autoResize:{type:Boolean,default:()=>c.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>c.table.animat},delayHover:{type:Number,default:()=>c.table.delayHover},params:Object},Jn=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"];const Qn=Object.keys(Zn),el=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],tl=[...Jn,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"];var ol=(0,g.defineComponent)({name:"VxeGrid",props:{...Zn,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>c.grid.size||c.size}},emits:tl,setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=(0,g.getCurrentInstance)(),i=uo(e),s=(0,g.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],pendingRecords:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:c.pager.pageSize||10,currentPage:1}}),u=(0,g.ref)(),d=(0,g.ref)(),p=(0,g.ref)(),m=(0,g.ref)(),h=(0,g.ref)(),v=(0,g.ref)(),x=(0,g.ref)(),b=(0,g.ref)(),y=(0,g.ref)(),C=(0,g.ref)(),S=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const o=d.value;if(o&&o[e])return o[e](...t)}})),t},R=S(el);el.forEach((e=>{R[e]=(...t)=>{const o=d.value;if(o&&o[e])return o&&o[e](...t)}}));const k=(0,g.computed)((()=>Object.assign({},c.grid.proxyConfig,e.proxyConfig))),O=(0,g.computed)((()=>{const e=k.value;return!1!==e.message})),$=(0,g.computed)((()=>Object.assign({},c.grid.pagerConfig,e.pagerConfig))),I=(0,g.computed)((()=>Object.assign({},c.grid.formConfig,e.formConfig))),M=(0,g.computed)((()=>Object.assign({},c.grid.toolbarConfig,e.toolbarConfig))),D=(0,g.computed)((()=>Object.assign({},c.grid.zoomConfig,e.zoomConfig))),N=(0,g.computed)((()=>s.isZMax?{zIndex:s.tZindex}:null)),L=(0,g.computed)((()=>{const t={},o=e;return Qn.forEach((e=>{t[e]=o[e]})),t})),A={refElem:u,refTable:d,refForm:p,refToolbar:m,refPager:h},P={computeProxyOpts:k,computePagerOpts:$,computeFormOpts:I,computeToolbarOpts:M,computeZoomOpts:D},F={xID:l,props:e,context:t,instance:r,reactData:s,getRefMaps:()=>A,getComputeMaps:()=>P};let V={};const j=t=>{const{pendingRecords:o}=s,n=e.rowClassName,l=[];return o.some((e=>e===t.row))&&l.push("row--pending"),l.push(n?a().isFunction(n)?n(t):n:""),l},z=t=>{const{editConfig:o}=e,{pendingRecords:n}=s,l=d.value,r=o?o.beforeEditMethod||o.activeMethod:null;return-1===l.findRowIndexOf(n,t.row)&&(!r||r({...t,$grid:F}))},W=(0,g.computed)((()=>{const{seqConfig:t,pagerConfig:o,loading:n,editConfig:l,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:c,tableData:u}=s,d=L.value,p=k.value,f=Object.assign({},d);return a&&(d.maxHeight?f.maxHeight="auto":f.height="auto"),r&&(f.loading=n||i,f.data=u,f.rowClassName=j,p.seq&&w(o)&&(f.seqConfig=Object.assign({},t,{startIndex:(c.currentPage-1)*c.pageSize}))),l&&(f.editConfig=Object.assign({},l,{beforeEditMethod:z})),f})),q=()=>{(0,g.nextTick)((()=>{const e=d.value,t=m.value;e&&t&&e.connect(t)}))},U=()=>{const{tablePage:t}=s,{pagerConfig:o}=e,n=$.value,{currentPage:l,pageSize:r}=n;o&&(l&&(t.currentPage=l),r&&(t.pageSize=r))},Y=e=>{const{pendingRecords:t}=s,o=O.value,n=d.value,l=n.getCheckboxRecords();if(l.length){const e=[],o=[];l.forEach((n=>{t.some((e=>n===e))?o.push(n):e.push(n)})),o.length?s.pendingRecords=t.filter((e=>-1===n.findRowIndexOf(o,e))).concat(e):e.length&&(s.pendingRecords=t.concat(e)),R.clearCheckboxRow()}else o&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:e,content:c.i18n("vxe.grid.selectOneRecord"),status:"warning"}))},X=(e,t)=>{const o=k.value,{props:n={}}=o;let l;return e&&n.message&&(l=a().get(e,n.message)),l||c.i18n(t)},G=(e,t,o)=>{const n=O.value,l=R.getCheckboxRecords();if(n){if(l.length)return Lt.modal.confirm({id:`cfm_${e}`,content:c.i18n(t),escClosable:!0}).then((e=>{if("confirm"===e)return o()}));Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:`msg_${e}`,content:c.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else l.length&&o();return Promise.resolve()},K=t=>{const{proxyConfig:o}=e,{tablePage:n}=s,{currentPage:l,pageSize:r}=t;n.currentPage=l,n.pageSize=r,V.dispatchEvent("page-change",t),o&&V.commitProxy("query").then((e=>{V.dispatchEvent("proxy-query",e,t.$event)}))},Z=t=>{const o=d.value,{proxyConfig:n}=e,{computeSortOpts:l}=o.getComputeMaps(),r=l.value;r.remote&&(s.sortData=t.sortList,n&&(s.tablePage.currentPage=1,V.commitProxy("query").then((e=>{V.dispatchEvent("proxy-query",e,t.$event)})))),V.dispatchEvent("sort-change",t)},J=t=>{const o=d.value,{proxyConfig:n}=e,{computeFilterOpts:l}=o.getComputeMaps(),r=l.value;r.remote&&(s.filterData=t.filterList,n&&(s.tablePage.currentPage=1,V.commitProxy("query").then((e=>{V.dispatchEvent("proxy-query",e,t.$event)})))),V.dispatchEvent("filter-change",t)},Q=t=>{const{proxyConfig:o}=e;o&&V.commitProxy("reload").then((e=>{V.dispatchEvent("proxy-query",{...e,isReload:!0},t.$event)})),V.dispatchEvent("form-submit",t)},ee=t=>{const{proxyConfig:o}=e;o&&V.commitProxy("reload").then((e=>{V.dispatchEvent("proxy-query",{...e,isReload:!0},t.$event)})),V.dispatchEvent("form-reset",t)},te=e=>{V.dispatchEvent("form-submit-invalid",e)},oe=e=>{(0,g.nextTick)((()=>R.recalculate(!0))),V.dispatchEvent("form-toggle-collapse",e),V.dispatchEvent("form-collapse",e)},ne=e=>{const{isZMax:t}=s;return(e?!t:t)&&(s.isZMax=!t,s.tZindex<E()&&(s.tZindex=T())),(0,g.nextTick)().then((()=>R.recalculate(!0))).then((()=>s.isZMax))},le=(e,t)=>{const n=e[t];if(n){if(!a().isString(n))return n;if(o[n])return o[n];f("vxe.error.notSlot",[n])}return null},re=()=>{const{formConfig:t,proxyConfig:n}=e,{formData:l}=s,r=k.value,i=I.value,c=[];if(w(t)||o.form){let e=[];if(o.form)e=o.form({$grid:F});else if(i.items){const t={};if(!i.inited){i.inited=!0;const e=r.beforeItem;r&&e&&i.items.forEach((t=>{e({$grid:F,item:t})}))}i.items.forEach((e=>{a().each(e.slots,(e=>{a().isFunction(e)||o[e]&&(t[e]=o[e])}))})),e.push((0,g.h)((0,g.resolveComponent)("vxe-form"),{ref:p,...Object.assign({},i,{data:n&&r.form?l:i.data}),onSubmit:Q,onReset:ee,onSubmitInvalid:te,onCollapse:oe},t))}c.push((0,g.h)("div",{ref:v,class:"vxe-grid--form-wrapper"},e))}return c},ae=()=>{const{toolbarConfig:t}=e,n=M.value,l=[];if(w(t)||o.toolbar){let e=[];if(o.toolbar)e=o.toolbar({$grid:F});else{const t=n.slots;let o,l;const r={};t&&(o=le(t,"buttons"),l=le(t,"tools"),o&&(r.buttons=o),l&&(r.tools=l)),e.push((0,g.h)((0,g.resolveComponent)("vxe-toolbar"),{ref:m,...n},r))}l.push((0,g.h)("div",{ref:x,class:"vxe-grid--toolbar-wrapper"},e))}return l},ie=()=>o.top?[(0,g.h)("div",{ref:b,class:"vxe-grid--top-wrapper"},o.top({$grid:F}))]:[],se={};Jn.forEach((e=>{const t=a().camelCase(`on-${e}`);se[t]=(...t)=>n(e,...t)}));const ce=()=>{const{proxyConfig:t}=e,n=W.value,l=k.value,r=Object.assign({},se),a=o.empty,i=o.loading;t&&(l.sort&&(r.onSortChange=Z),l.filter&&(r.onFilterChange=J));const s={};return a&&(s.empty=()=>a({})),i&&(s.loading=()=>i({})),[(0,g.h)((0,g.resolveComponent)("vxe-table"),{ref:d,...n,...r},s)]},ue=()=>o.bottom?[(0,g.h)("div",{ref:y,class:"vxe-grid--bottom-wrapper"},o.bottom({$grid:F}))]:[],de=()=>{const{pagerConfig:t}=e,n=$.value,l=[];if(w(t)||o.pager){let t=[];if(o.pager)t=o.pager({$grid:F});else{const o=n.slots,l={};let r,a;o&&(r=le(o,"left"),a=le(o,"right"),r&&(l.left=r),a&&(l.right=a)),t.push((0,g.h)((0,g.resolveComponent)("vxe-pager"),{ref:h,...n,...e.proxyConfig?s.tablePage:{},onPageChange:K},l))}l.push((0,g.h)("div",{ref:C,class:"vxe-grid--pager-wrapper"},t))}return l},pe=()=>{const{proxyConfig:t,formConfig:o}=e,{proxyInited:n}=s,l=k.value,r=I.value;if(t){if(w(o)&&l.form&&r.items){const e={};r.items.forEach((t=>{const{field:o,itemRender:n}=t;if(o){let l=null;if(n){const{defaultValue:e}=n;a().isFunction(e)?l=e({item:t}):a().isUndefined(e)||(l=e)}e[o]=l}})),s.formData=e}n||(s.proxyInited=!0,!1!==l.autoLoad&&(0,g.nextTick)().then((()=>V.commitProxy("_init"))).then((e=>{V.dispatchEvent("proxy-query",{...e,isInited:!0},new Event("init"))})))}};V={dispatchEvent(e,t,o){n(e,Object.assign({$grid:F,$event:o},t))},commitProxy(t,...o){const{toolbarConfig:n,pagerConfig:l,editRules:r}=e,{tablePage:i,formData:u}=s,p=O.value,m=k.value,h=M.value,{beforeQuery:v,afterQuery:x,beforeDelete:b,afterDelete:y,beforeSave:C,afterSave:T,ajax:E={},props:S={}}=m,$=d.value;let I=null,D=null;if(a().isString(t)){const{buttons:e}=h,o=n&&e?a().findTree(e,(e=>e.code===t),{children:"dropdowns"}):null;I=o?o.item:null,D=t}else I=t,D=I.code;const N=I?I.params:null;switch(D){case"insert":return $.insert({});case"insert_actived":return $.insert({}).then((({row:e})=>$.setEditRow(e)));case"mark_cancel":Y(D);break;case"remove":return G(D,"vxe.grid.removeSelectRecord",(()=>$.removeCheckboxRow()));case"import":$.importData(N);break;case"open_import":$.openImport(N);break;case"export":$.exportData(N);break;case"open_export":$.openExport(N);break;case"reset_custom":return $.resetColumn(!0);case"_init":case"reload":case"query":{const e=E.query;if(e){const t="_init"===D,n="reload"===D;let r=[],c=[],d={};if(l&&((t||n)&&(i.currentPage=1),w(l)&&(d={...i})),t){const{computeSortOpts:e}=$.getComputeMaps(),t=e.value;let o=t.defaultSort;o&&(a().isArray(o)||(o=[o]),r=o.map((e=>({field:e.field,property:e.field,order:e.order})))),c=$.getCheckedFilters()}else n?(s.pendingRecords=[],$.clearAll()):(r=$.getSortColumns(),c=$.getCheckedFilters());const p={code:D,button:I,isInited:t,isReload:n,$grid:F,page:d,sort:r.length?r[0]:{},sorts:r,filters:c,form:u,options:e};s.sortData=r,s.filterData=c,s.tableLoading=!0;const f=[p].concat(o);return Promise.resolve((v||e)(...f)).then((e=>{if(s.tableLoading=!1,e)if(w(l)){const t=a().get(e,S.total||"page.total")||0;i.total=a().toNumber(t),s.tableData=a().get(e,S.result||"result")||[];const o=Math.max(Math.ceil(t/i.pageSize),1);i.currentPage>o&&(i.currentPage=o)}else s.tableData=(S.list?a().get(e,S.list):e)||[];else s.tableData=[];return x&&x(...f),{status:!0}})).catch((()=>({status:!1})))}f("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const e=E.delete;if(e){const t=R.getCheckboxRecords(),n=t.filter((e=>!$.isInsertByRow(e))),l={removeRecords:n},r={$grid:F,code:D,button:I,body:l,options:e},a=[r].concat(o);if(t.length)return G(D,"vxe.grid.deleteSelectRecord",(()=>n.length?(s.tableLoading=!0,Promise.resolve((b||e)(...a)).then((e=>(s.tableLoading=!1,s.pendingRecords=s.pendingRecords.filter((e=>-1===$.findRowIndexOf(n,e))),p&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:X(e,"vxe.grid.delSuccess"),status:"success"})),y?y(...a):V.commitProxy("query"),{status:!0}))).catch((e=>(s.tableLoading=!1,p&&(Lt.modal.message||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:D,content:X(e,"vxe.grid.operError"),status:"error"})),{status:!1})))):$.remove(t)));p&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:D,content:c.i18n("vxe.grid.selectOneRecord"),status:"warning"}))}else f("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const e=E.save;if(e){const t=Object.assign({pendingRecords:s.pendingRecords},$.getRecordset()),{insertRecords:n,removeRecords:l,updateRecords:a,pendingRecords:i}=t,u={$grid:F,code:D,button:I,body:t,options:e},d=[u].concat(o);n.length&&(t.pendingRecords=i.filter((e=>-1===$.findRowIndexOf(n,e)))),i.length&&(t.insertRecords=n.filter((e=>-1===$.findRowIndexOf(i,e))));let m=Promise.resolve();return r&&(m=$.validate(t.insertRecords.concat(a))),m.then((o=>{if(!o)return t.insertRecords.length||l.length||a.length||t.pendingRecords.length?(s.tableLoading=!0,Promise.resolve((C||e)(...d)).then((e=>(s.tableLoading=!1,s.pendingRecords=[],p&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({content:X(e,"vxe.grid.saveSuccess"),status:"success"})),T?T(...d):V.commitProxy("query"),{status:!0}))).catch((e=>(s.tableLoading=!1,p&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:D,content:X(e,"vxe.grid.operError"),status:"error"})),{status:!1})))):void(p&&(Lt.modal||f("vxe.error.reqModule",["Modal"]),Lt.modal.message({id:D,content:c.i18n("vxe.grid.dataUnchanged"),status:"info"})))}))}f("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const e=Lt.commands.get(D);e&&e({code:D,button:I,$grid:F,$table:$},...o)}}return(0,g.nextTick)()},zoom(){return s.isZMax?V.revert():V.maximize()},isMaximized(){return s.isZMax},maximize(){return ne(!0)},revert(){return ne()},getFormItems(t){const o=I.value,{formConfig:n}=e,{items:l}=o,r=[];return a().eachTree(w(n)&&l?l:[],(e=>{r.push(e)}),{children:"children"}),a().isUndefined(t)?r:r[t]},getPendingRecords(){return s.pendingRecords},getProxyInfo(){if(e.proxyConfig){const{sortData:e}=s;return{data:s.tableData,filter:s.filterData,form:s.formData,sort:e.length?e[0]:{},sorts:e,pager:s.tablePage,pendingRecords:s.pendingRecords}}return null}},V.loadColumn=e=>{const t=d.value;return a().eachTree(e,(e=>{e.slots&&a().each(e.slots,(e=>{a().isFunction(e)||o[e]||f("vxe.error.notSlot",[e])}))})),t.loadColumn(e)},V.reloadColumn=e=>(R.clearAll(),V.loadColumn(e));const fe={extendTableMethods:S,callSlot(e,t){return e&&(a().isString(e)&&(e=o[e]||null),a().isFunction(e))?Re(e(t)):[]},getExcludeHeight(){const{height:t}=e,{isZMax:o}=s,n=u.value,l=v.value,r=x.value,a=b.value,i=y.value,c=C.value,d=o||"auto"!==t?0:B(n.parentNode);return d+B(n)+H(l)+H(r)+H(a)+H(i)+H(c)},getParentHeight(){const e=u.value;return e?(s.isZMax?_().visibleHeight:a().toNumber(getComputedStyle(e.parentNode).height))-fe.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const{code:o}=e;return V.commitProxy(e,t).then((e=>{o&&e&&e.status&&["query","reload","delete","save"].includes(o)&&V.dispatchEvent("delete"===o||"save"===o?`proxy-${o}`:"proxy-query",{...e,isReload:"reload"===o},t)}))},triggerToolbarBtnEvent(e,t){fe.triggerToolbarCommitEvent(e,t),V.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){fe.triggerToolbarCommitEvent(e,t),V.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent(e){V.zoom(),V.dispatchEvent("zoom",{type:s.isZMax?"max":"revert"},e)}};Object.assign(F,R,V,fe);const me=(0,g.ref)(0);(0,g.watch)((()=>e.columns?e.columns.length:-1),(()=>{me.value++})),(0,g.watch)((()=>e.columns),(()=>{me.value++})),(0,g.watch)(me,(()=>{(0,g.nextTick)((()=>F.loadColumn(e.columns||[])))})),(0,g.watch)((()=>e.toolbarConfig),(e=>{e&&q()})),(0,g.watch)((()=>e.pagerConfig),(()=>{U()})),(0,g.watch)((()=>e.proxyConfig),(()=>{pe()}));const he=e=>{const t=D.value,o=Zt(e,Yt.ESCAPE);o&&s.isZMax&&!1!==t.escRestore&&fe.triggerZoomEvent(e)};Lt.hooks.forEach((e=>{const{setupGrid:t}=e;if(t){const e=t(F);e&&a().isObject(e)&&Object.assign(F,e)}})),U(),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{data:t,columns:o,proxyConfig:n}=e,l=k.value,r=I.value;n&&(t||l.form&&r.data)&&f("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),o&&o.length&&F.loadColumn(o),q()})),Qt.on(F,"keydown",he)})),(0,g.onUnmounted)((()=>{Qt.off(F,"keydown")})),(0,g.nextTick)((()=>{pe()}));const ge=()=>{const t=i.value,o=N.value;return(0,g.h)("div",{ref:u,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":s.isZMax,"is--loading":e.loading||s.tableLoading}],style:o},re().concat(ae(),ie(),ce(),ue(),de()))};return F.renderVN=ge,(0,g.provide)("$xegrid",F),F},render(){return this.renderVN()}});const nl=Object.assign(ol,{install(e){e.component(ol.name,ol)}}),ll=nl;Bt.component(ol.name,ol);var rl=(0,g.defineComponent)({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>c.toolbar.buttons},tools:{type:Array,default:()=>c.toolbar.tools},perfect:{type:Boolean,default:()=>c.toolbar.perfect},size:{type:String,default:()=>c.toolbar.size||c.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({isRefresh:!1,columns:[]}),s=(0,g.ref)(),u=(0,g.ref)(),d=(0,g.reactive)({isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1}),m={refElem:s},h={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>m};let v={};const x=(0,g.inject)("$xegrid",null);let b;const w=(0,g.computed)((()=>Object.assign({},c.toolbar.refresh,e.refresh))),y=(0,g.computed)((()=>Object.assign({},c.toolbar["import"],e.import))),C=(0,g.computed)((()=>Object.assign({},c.toolbar["export"],e.export))),T=(0,g.computed)((()=>Object.assign({},c.toolbar.print,e.print))),E=(0,g.computed)((()=>Object.assign({},c.toolbar.zoom,e.zoom))),S=(0,g.computed)((()=>Object.assign({},c.toolbar.custom,e.custom))),R=()=>{if(b)return!0;f("vxe.error.barUnableLink")},O=()=>{const{columns:e}=i,{computeCustomOpts:t}=b.getComputeMaps(),o=t.value,{checkMethod:n}=o;d.isAll=e.every((e=>!!n&&!n({column:e})||e.visible)),d.isIndeterminate=!d.isAll&&e.some((e=>(!n||n({column:e}))&&(e.visible||e.halfVisible)))},$=()=>{d.visible=!0,O()},I=()=>{b.handleCustom()},M=()=>{const{custom:t}=e,o=S.value;d.visible&&(d.visible=!1,t&&!o.immediate&&I())},D=(e,t)=>{const o=x||b;o.dispatchEvent("custom",{type:e},t)},N=e=>{M(),D("confirm",e)},L=e=>{R()&&(d.visible||($(),D("open",e)))},A=e=>{d.visible&&(M(),D("close",e))},P=e=>{const{columns:t}=i,{computeCustomOpts:o}=b.getComputeMaps(),n=o.value,{checkMethod:l}=n;a().eachTree(t,(e=>{l&&!l({column:e})||(e.visible=e.defaultVisible,e.halfVisible=!1),e.resizeWidth=0})),b.saveCustomResizable(!0),M(),D("reset",e)},F=e=>{const{columns:t}=i,o=a().findTree(t,(t=>t===e));if(o&&o.parent){const{parent:e}=o;e.children&&e.children.length&&(e.visible=e.children.every((e=>e.visible)),e.halfVisible=!e.visible&&e.children.some((e=>e.visible||e.halfVisible)),F(e))}},V=t=>{const o=!t.visible,n=S.value;a().eachTree([t],(e=>{e.visible=o,e.halfVisible=!1})),F(t),e.custom&&n.immediate&&I(),O()},j=()=>{const{columns:e}=i,{computeCustomOpts:t}=b.getComputeMaps(),o=t.value,{checkMethod:n}=o,l=!d.isAll;a().eachTree(e,(e=>{n&&!n({column:e})||(e.visible=l,e.halfVisible=!1)})),d.isAll=l,O()},_=e=>{const t=u.value;U(e,t).flag||A(e)},H=e=>{A(e)},B=e=>{d.visible?A(e):L(e)},z=e=>{d.activeBtn=!0,L(e)},W=e=>{d.activeBtn=!1,setTimeout((()=>{d.activeBtn||d.activeWrapper||A(e)}),300)},q=e=>{d.activeWrapper=!0,L(e)},Y=e=>{d.activeWrapper=!1,setTimeout((()=>{d.activeBtn||d.activeWrapper||A(e)}),300)},X=e=>{const{isRefresh:t}=i,o=w.value;if(!t){const t=o.queryMethod||o.query;if(t){i.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{i.isRefresh=!1}))}catch(n){i.isRefresh=!1}}else x&&(i.isRefresh=!0,x.triggerToolbarCommitEvent({code:o.code||"reload"},e).catch((e=>e)).then((()=>{i.isRefresh=!1})))}},G=e=>{x&&x.triggerZoomEvent(e)},K=(e,t)=>{const{code:o}=t;if(o)if(x)x.triggerToolbarBtnEvent(t,e);else{const n=Lt.commands.get(o),l={code:o,button:t,$table:b,$grid:x,$event:e};n&&n(l,e),h.dispatchEvent("button-click",l,e)}},Z=(e,t)=>{const{code:o}=t;if(o)if(x)x.triggerToolbarTolEvent(t,e);else{const n=Lt.commands.get(o),l={code:o,tool:t,$table:b,$grid:x,$event:e};n&&n(l,e),h.dispatchEvent("tool-click",l,e)}},J=()=>{R()&&b.openImport()},Q=()=>{R()&&b.openExport()},ee=()=>{R()&&b.openPrint()},te=(e,t)=>{const{dropdowns:o}=e,n=[];return o?o.map(((e,o)=>!1===e.visible?(0,g.createCommentVNode)():(0,g.h)((0,g.resolveComponent)("vxe-button"),{key:o,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,onClick:o=>t?K(o,e):Z(o,e)}))):n},oe=()=>{const{buttons:t}=e,n=o.buttons;if(n)return Re(n({$grid:x,$table:b}));const l=[];return t&&t.forEach((e=>{const{dropdowns:t,buttonRender:o}=e;if(!1!==e.visible){const n=o?Lt.renderer.get(o.name):null;o&&n&&n.renderToolbarButton?l.push((0,g.h)("span",{class:"vxe-button--item"},Re(n.renderToolbarButton(o,{$grid:x,$table:b,button:e})))):l.push((0,g.h)((0,g.resolveComponent)("vxe-button"),{disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>K(t,e)},t&&t.length?{dropdowns:()=>te(e,!0)}:{}))}})),l},ne=()=>{const{tools:t}=e,n=o.tools;if(n)return Re(n({$grid:x,$table:b}));const l=[];return t&&t.forEach((e=>{const{dropdowns:t,toolRender:o}=e;if(!1!==e.visible){const n=o?Lt.renderer.get(o.name):null;o&&n&&n.renderToolbarTool?l.push((0,g.h)("span",{class:"vxe-tool--item"},Re(n.renderToolbarTool(o,{$grid:x,$table:b,tool:e})))):l.push((0,g.h)((0,g.resolveComponent)("vxe-button"),{disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>Z(t,e)},t&&t.length?{dropdowns:()=>te(e,!1)}:{}))}})),l},le=()=>{const{columns:e}=i,t=S.value,o=[],n={},l={};let r;if(b){const{computeCustomOpts:e}=b.getComputeMaps(),t=e.value;r=t.checkMethod}"manual"===t.trigger||("hover"===t.trigger?(n.onMouseenter=z,n.onMouseleave=W,l.onMouseenter=q,l.onMouseleave=Y):n.onClick=B),a().eachTree(e,(e=>{const t=k(e.getTitle(),1),n=e.getKey(),l=e.children&&e.children.length,a=!!r&&!r({column:e});if(l||n){const n=e.visible,r=e.halfVisible;o.push((0,g.h)("li",{class:["vxe-custom--option",`level--${e.level}`,{"is--group":l,"is--checked":n,"is--indeterminate":r,"is--disabled":a}],title:t,onClick:()=>{a||V(e)}},[(0,g.h)("span",{class:["vxe-checkbox--icon",r?c.icon.TABLE_CHECKBOX_INDETERMINATE:n?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]}),(0,g.h)("span",{class:"vxe-checkbox--label"},t)]))}}));const s=d.isAll,p=d.isIndeterminate;return(0,g.h)("div",{class:["vxe-custom--wrapper",{"is--active":d.visible}],ref:u},[(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:t.icon||c.icon.TOOLBAR_TOOLS_CUSTOM,title:c.i18n("vxe.toolbar.custom"),...n}),(0,g.h)("div",{class:"vxe-custom--option-wrapper"},[(0,g.h)("ul",{class:"vxe-custom--header"},[(0,g.h)("li",{class:["vxe-custom--option",{"is--checked":s,"is--indeterminate":p}],title:c.i18n("vxe.table.allTitle"),onClick:j},[(0,g.h)("span",{class:["vxe-checkbox--icon",p?c.icon.TABLE_CHECKBOX_INDETERMINATE:s?c.icon.TABLE_CHECKBOX_CHECKED:c.icon.TABLE_CHECKBOX_UNCHECKED]}),(0,g.h)("span",{class:"vxe-checkbox--label"},c.i18n("vxe.toolbar.customAll"))])]),(0,g.h)("ul",{class:"vxe-custom--body",...l},o),!1===t.isFooter?null:(0,g.h)("div",{class:"vxe-custom--footer"},[(0,g.h)("button",{class:"btn--confirm",onClick:N},c.i18n("vxe.toolbar.customConfirm")),(0,g.h)("button",{class:"btn--reset",onClick:P},c.i18n("vxe.toolbar.customRestore"))])])])};v={dispatchEvent(e,t,o){n(e,Object.assign({$toolbar:h,$event:o},t))},syncUpdate(e){const{collectColumn:t}=e;b=e.$table,i.columns=t}},Object.assign(h,v),(0,g.onMounted)((()=>{Qt.on(h,"mousedown",_),Qt.on(h,"blur",H)})),(0,g.onUnmounted)((()=>{Qt.off(h,"mousedown"),Qt.off(h,"blur")})),(0,g.nextTick)((()=>{const{refresh:t}=e,o=w.value,n=o.queryMethod||o.query;!t||x||n||p("vxe.error.notFunc",["queryMethod"])}));const re=()=>{const{perfect:t,loading:o,refresh:n,zoom:l,custom:u,className:d}=e,p=r.value,f=w.value,m=y.value,v=C.value,b=T.value,S=E.value;return(0,g.h)("div",{ref:s,class:["vxe-toolbar",d?a().isFunction(d)?d({$toolbar:h}):d:"",{[`size--${p}`]:p,"is--perfect":t,"is--loading":o}]},[(0,g.h)("div",{class:"vxe-buttons--wrapper"},oe()),(0,g.h)("div",{class:"vxe-tools--wrapper"},ne()),(0,g.h)("div",{class:"vxe-tools--operate"},[e.import?(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:m.icon||c.icon.TOOLBAR_TOOLS_IMPORT,title:c.i18n("vxe.toolbar.import"),onClick:J}):(0,g.createCommentVNode)(),e.export?(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:v.icon||c.icon.TOOLBAR_TOOLS_EXPORT,title:c.i18n("vxe.toolbar.export"),onClick:Q}):(0,g.createCommentVNode)(),e.print?(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:b.icon||c.icon.TOOLBAR_TOOLS_PRINT,title:c.i18n("vxe.toolbar.print"),onClick:ee}):(0,g.createCommentVNode)(),n?(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:i.isRefresh?f.iconLoading||c.icon.TOOLBAR_TOOLS_REFRESH_LOADING:f.icon||c.icon.TOOLBAR_TOOLS_REFRESH,title:c.i18n("vxe.toolbar.refresh"),onClick:X}):(0,g.createCommentVNode)(),l&&x?(0,g.h)((0,g.resolveComponent)("vxe-button"),{circle:!0,icon:x.isMaximized()?S.iconOut||c.icon.TOOLBAR_TOOLS_MINIMIZE:S.iconIn||c.icon.TOOLBAR_TOOLS_FULLSCREEN,title:c.i18n("vxe.toolbar.zoom"+(x.isMaximized()?"Out":"In")),onClick:G}):(0,g.createCommentVNode)(),u?le():(0,g.createCommentVNode)()])])};return h.renderVN=re,h},render(){return this.renderVN()}});const al=Object.assign(rl,{install:function(e){e.component(rl.name,rl)}}),il=al;Bt.component(rl.name,rl);var sl=(0,g.defineComponent)({name:"VxePager",props:{size:{type:String,default:()=>c.pager.size||c.size},layouts:{type:Array,default:()=>c.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>c.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>c.pager.pagerCount||7},pageSizes:{type:Array,default:()=>c.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>c.pager.align},border:{type:Boolean,default:()=>c.pager.border},background:{type:Boolean,default:()=>c.pager.background},perfect:{type:Boolean,default:()=>c.pager.perfect},autoHidden:{type:Boolean,default:()=>c.pager.autoHidden},transfer:{type:Boolean,default:()=>c.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.inject)("$xegrid",null),s=(0,g.reactive)({inpCurrPage:e.currentPage}),u=(0,g.ref)(),d={refElem:u},p={xID:l,props:e,context:t,getRefMaps:()=>d};let f={},m={};const h=(e,t)=>Math.max(Math.ceil(e/t),1),v=(0,g.computed)((()=>h(e.total,e.pageSize))),x=(t,o)=>{n("update:currentPage",o),t&&o!==e.currentPage&&f.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:o},t)},b=(t,o)=>{n("update:currentPage",t),o&&t!==e.currentPage&&f.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},o)},w=e=>{const t=e.target,o=a().toInteger(t.value),n=v.value,l=o<=0?1:o>=n?n:o,r=a().toValueString(l);t.value=r,s.inpCurrPage=r,b(l,e)},y=(0,g.computed)((()=>{const{pagerCount:t}=e,o=v.value,n=o>t?t-2:t,l=[];for(let e=0;e<n;e++)l.push(e);return l})),C=(0,g.computed)((()=>Math.floor((e.pagerCount-2)/2))),T=(0,g.computed)((()=>e.pageSizes.map((e=>a().isNumber(e)?{value:e,label:`${c.i18n("vxe.pager.pagesize",[e])}`}:{value:"",label:"",...e})))),E=t=>{const{currentPage:o}=e,n=v.value;o>1&&b(Math.min(n,Math.max(o-1,1)),t)},S=t=>{const{currentPage:o}=e,n=v.value;o<n&&b(Math.min(n,o+1),t)},R=t=>{const o=y.value;b(Math.max(e.currentPage-o.length,1),t)},k=t=>{const o=v.value,n=y.value;b(Math.min(e.currentPage+n.length,o),t)},O=t=>{const{value:o}=t,l=a().toNumber(o),r=h(e.total,l);let i=e.currentPage;i>r&&(i=r,n("update:currentPage",r)),n("update:pageSize",l),f.dispatchEvent("page-change",{type:"size",pageSize:l,currentPage:i})},$=e=>{const t=e.target;s.inpCurrPage=t.value},I=e=>{Zt(e,Yt.ENTER)?w(e):Zt(e,Yt.ARROW_UP)?(e.preventDefault(),S(e)):Zt(e,Yt.ARROW_DOWN)&&(e.preventDefault(),E(e))},M=()=>(0,g.h)("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:c.i18n("vxe.pager.prevPage"),onClick:E},[(0,g.h)("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||c.icon.PAGER_PREV_PAGE]})]),D=t=>(0,g.h)(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":e.currentPage<=1}],type:"button",title:c.i18n("vxe.pager.prevJump"),onClick:R},[t?(0,g.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||c.icon.PAGER_JUMP_MORE]}):null,(0,g.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||c.icon.PAGER_JUMP_PREV]})]),N=t=>{const o=v.value;return(0,g.h)(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":e.currentPage>=o}],type:"button",title:c.i18n("vxe.pager.nextJump"),onClick:k},[t?(0,g.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||c.icon.PAGER_JUMP_MORE]}):null,(0,g.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||c.icon.PAGER_JUMP_NEXT]})])},L=()=>{const t=v.value;return(0,g.h)("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=t}],type:"button",title:c.i18n("vxe.pager.nextPage"),onClick:S},[(0,g.h)("i",{class:["vxe-pager--btn-icon",e.iconNextPage||c.icon.PAGER_NEXT_PAGE]})])},A=t=>{const{currentPage:o,pagerCount:n}=e,l=[],r=v.value,a=y.value,i=C.value,s=r>n,c=s&&o>i+1,u=s&&o<r-i;let d=1;return s&&(d=o>=r-i?Math.max(r-a.length+1,1):Math.max(o-i,1)),t&&c&&l.push((0,g.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>x(e,1)},1),D("span")),a.forEach(((e,t)=>{const n=d+t;n<=r&&l.push((0,g.h)("button",{key:n,class:["vxe-pager--num-btn",{"is--active":o===n}],type:"button",onClick:e=>x(e,n)},n))})),t&&u&&l.push(N("button"),(0,g.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>x(e,r)},r)),(0,g.h)("span",{class:"vxe-pager--btn-wrapper"},l)},P=()=>A(!0),F=()=>{const t=T.value;return(0,g.h)((0,g.resolveComponent)("vxe-select"),{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:t,onChange:O})},V=e=>(0,g.h)("span",{class:"vxe-pager--jump"},[e?(0,g.h)("span",{class:"vxe-pager--goto-text"},c.i18n("vxe.pager.goto")):null,(0,g.h)("input",{class:"vxe-pager--goto",value:s.inpCurrPage,type:"text",autocomplete:"off",onInput:$,onKeydown:I,onBlur:w}),e?(0,g.h)("span",{class:"vxe-pager--classifier-text"},c.i18n("vxe.pager.pageClassifier")):null]),j=()=>V(!0),_=()=>{const e=v.value;return(0,g.h)("span",{class:"vxe-pager--count"},[(0,g.h)("span",{class:"vxe-pager--separator"}),(0,g.h)("span",e)])},H=()=>(0,g.h)("span",{class:"vxe-pager--total"},c.i18n("vxe.pager.total",[e.total]));f={dispatchEvent(e,t,o){n(e,Object.assign({$pager:p,$event:o},t))},prevPage(){return E(),(0,g.nextTick)()},nextPage(){return S(),(0,g.nextTick)()},prevJump(){return R(),(0,g.nextTick)()},nextJump(){return k(),(0,g.nextTick)()}},m={handlePrevPage:E,handleNextPage:S,handlePrevJump:R,handleNextJump:k},Object.assign(p,f,m),(0,g.watch)((()=>e.currentPage),(e=>{s.inpCurrPage=e}));const B=()=>{const{align:t,layouts:n,className:l}=e,s=[],c=r.value,d=v.value;return o.left&&s.push((0,g.h)("span",{class:"vxe-pager--left-wrapper"},o.left({$grid:i}))),n.forEach((e=>{let t;switch(e){case"PrevPage":t=M;break;case"PrevJump":t=D;break;case"Number":t=A;break;case"JumpNumber":t=P;break;case"NextJump":t=N;break;case"NextPage":t=L;break;case"Sizes":t=F;break;case"FullJump":t=j;break;case"Jump":t=V;break;case"PageCount":t=_;break;case"Total":t=H;break}t&&s.push(t())})),o.right&&s.push((0,g.h)("span",{class:"vxe-pager--right-wrapper"},o.right({$grid:i}))),(0,g.h)("div",{ref:u,class:["vxe-pager",l?a().isFunction(l)?l({$pager:p}):l:"",{[`size--${c}`]:c,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===d,"is--loading":e.loading}]},[(0,g.h)("div",{class:"vxe-pager--wrapper"},s)])};return p.renderVN=B,p},render(){return this.renderVN()}});const cl=Object.assign(sl,{install:function(e){e.component(sl.name,sl)}}),ul=cl;Bt.component(sl.name,sl);const dl=Object.assign(ko,{install(e){e.component(ko.name,ko)}}),pl=dl;Bt.component(ko.name,ko);var fl=(0,g.defineComponent)({name:"VxeCheckboxGroup",props:{modelValue:Array,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>c.checkbox.size||c.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s=(0,g.computed)((()=>{const{modelValue:t,max:o}=e;return!!o&&(t?t.length:0)>=a().toNumber(o)})),c={computeIsMaximize:s},u={xID:i,props:e,context:t,getComputeMaps:()=>c};uo(e);const d={dispatchEvent(e,t,o){n(e,Object.assign({$checkboxGroup:u,$event:o},t))}},p={handleChecked(t,o){const{checked:a,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);a?-1===c&&s.push(i):s.splice(c,1),n("update:modelValue",s),u.dispatchEvent("change",Object.assign({checklist:s},t),o),l&&r&&l.triggerItemEvent(o,r.itemConfig.field,s)}};Object.assign(u,d,p);const f=()=>(0,g.h)("div",{class:"vxe-checkbox-group"},o.default?o.default({}):[]);return u.renderVN=f,(0,g.provide)("$xecheckboxgroup",u),f}});const ml=Object.assign(fl,{install(e){e.component(fl.name,fl)}}),hl=ml;Bt.component(fl.name,fl);const gl=Object.assign(No,{install:function(e){e.component(No.name,No)}}),vl=gl;Bt.component(No.name,No);const xl=Object.assign(Do,{install:function(e){e.component(Do.name,Do)}}),bl=xl;Bt.component(Do.name,Do);var wl=(0,g.defineComponent)({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>c.radioButton.strict},size:{type:String,default:()=>c.radioButton.size||c.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:n}=t,l=(0,g.inject)("$xeform",null),r=(0,g.inject)("$xeformiteminfo",null),i=a().uniqueId(),s=uo(e),c={xID:i,props:e,context:t};let u={};const d=(0,g.inject)("$xeradiogroup",null),p=(0,g.computed)((()=>e.disabled||d&&d.props.disabled)),f=(0,g.computed)((()=>d?d.name:null)),m=(0,g.computed)((()=>d?d.props.strict:e.strict)),h=(0,g.computed)((()=>{const{modelValue:t,label:o}=e;return d?d.props.modelValue===o:t===o}));u={dispatchEvent(e,t,o){n(e,Object.assign({$radioButton:c,$event:o},t))}},Object.assign(c,u);const v=(e,t)=>{d?d.handleChecked({label:e},t):(n("update:modelValue",e),u.dispatchEvent("change",{label:e},t),l&&r&&l.triggerItemEvent(t,r.itemConfig.field,e))},x=t=>{const o=p.value;o||v(e.label,t)},b=t=>{const o=p.value,n=m.value;o||n||e.label===(d?d.props.modelValue:e.modelValue)&&v(null,t)},w=()=>{const t=s.value,n=p.value,l=f.value,r=h.value;return(0,g.h)("label",{class:["vxe-radio","vxe-radio-button",{[`size--${t}`]:t,"is--disabled":n}],title:e.title},[(0,g.h)("input",{class:"vxe-radio--input",type:"radio",name:l,checked:r,disabled:n,onChange:x,onClick:b}),(0,g.h)("span",{class:"vxe-radio--label"},o.default?o.default({}):R(e.content))])};return Object.assign(c,{renderVN:w,dispatchEvent:dispatchEvent}),w}});const yl=Object.assign(wl,{install:function(e){e.component(wl.name,wl)}}),Cl=yl;Bt.component(wl.name,wl);const Tl=Object.assign(Ro,{install(e){e.component(Ro.name,Ro)}}),El=Tl;Bt.component(Ro.name,Ro);let Sl;var Rl=(0,g.defineComponent)({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>c.textarea.resize},size:{type:String,default:()=>c.textarea.size||c.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:o}=t,n=(0,g.inject)("$xeform",null),l=(0,g.inject)("$xeformiteminfo",null),r=a().uniqueId(),i=uo(e),s=(0,g.reactive)({inputValue:e.modelValue}),u=(0,g.ref)(),d=(0,g.ref)(),p={refElem:u,refTextarea:d},f={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>p};let m={};const h=(0,g.computed)((()=>a().getSize(s.inputValue))),v=(0,g.computed)((()=>{const t=h.value;return e.maxlength&&t>a().toNumber(e.maxlength)})),x=(0,g.computed)((()=>Object.assign({minRows:1,maxRows:10},c.textarea.autosize,e.autosize))),b=()=>{const{size:t,autosize:o}=e,{inputValue:n}=s;if(o){Sl||(Sl=document.createElement("div")),Sl.parentNode||document.body.appendChild(Sl);const e=d.value,o=getComputedStyle(e);Sl.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),Sl.style.width=`${e.clientWidth}px`,Sl.style.padding=o.padding,Sl.innerHTML=(""+(n||"　")).replace(/\n$/,"\n　")}},w=()=>{e.autosize&&(0,g.nextTick)((()=>{const e=x.value,{minRows:t,maxRows:o}=e,n=d.value,l=Sl.clientHeight,r=getComputedStyle(n),i=a().toNumber(r.lineHeight),s=a().toNumber(r.paddingTop),c=a().toNumber(r.paddingBottom),u=a().toNumber(r.borderTopWidth),p=a().toNumber(r.borderBottomWidth),f=s+c+u+p,m=(l-f)/i,h=m&&/[0-9]/.test(""+m)?m:Math.floor(m)+1;let g=h;h<t?g=t:h>o&&(g=o),n.style.height=`${g*i+f}px`}))},y=e=>{const t=s.inputValue;f.dispatchEvent(e.type,{value:t},e)},C=(t,r)=>{s.inputValue=t,o("update:modelValue",t),a().toValueString(e.modelValue)!==t&&(m.dispatchEvent("change",{value:t},r),n&&l&&n.triggerItemEvent(r,l.itemConfig.field,t))},T=t=>{const{immediate:o}=e,n=t.target,l=n.value;s.inputValue=l,o&&C(l,t),f.dispatchEvent("input",{value:l},t),w()},E=t=>{const{immediate:o}=e;o?y(t):C(s.inputValue,t)},S=t=>{const{immediate:o}=e,{inputValue:n}=s;o||C(n,t),f.dispatchEvent("blur",{value:n},t)};m={dispatchEvent(e,t,n){o(e,Object.assign({$textarea:f,$event:n},t))},focus(){const e=d.value;return e.focus(),(0,g.nextTick)()},blur(){const e=d.value;return e.blur(),(0,g.nextTick)()}},Object.assign(f,m),(0,g.watch)((()=>e.modelValue),(e=>{s.inputValue=e,b()})),(0,g.nextTick)((()=>{const{autosize:t}=e;t&&(b(),w())}));const k=()=>{const{className:t,resize:o,placeholder:n,disabled:l,maxlength:r,autosize:c,showWordCount:p,countMethod:f,rows:m,cols:x}=e,{inputValue:b}=s,w=i.value,C=v.value,k=h.value;return(0,g.h)("div",{ref:u,class:["vxe-textarea",t,{[`size--${w}`]:w,"is--autosize":c,"is--disabled":l,"def--rows":!a().eqNull(m),"def--cols":!a().eqNull(x)}]},[(0,g.h)("textarea",{ref:d,class:"vxe-textarea--inner",value:b,name:e.name,placeholder:n?R(n):null,maxlength:r,readonly:e.readonly,disabled:l,rows:m,cols:x,style:o?{resize:o}:null,onInput:T,onChange:E,onKeydown:y,onKeyup:y,onClick:y,onFocus:y,onBlur:S}),p?(0,g.h)("span",{class:["vxe-textarea--count",{"is--error":C}]},f?`${f({value:b})}`:`${k}${r?`/${r}`:""}`):null])};return f.renderVN=k,f},render(){return this.renderVN()}});const kl=Object.assign(Rl,{install:function(e){e.component(Rl.name,Rl)}}),Ol=kl;Bt.component(Rl.name,Rl);const $l=Object.assign(po,{install(e){e.component(po.name,po)}}),Il=$l;Bt.component(po.name,po);function Ml(e){return zt(),new Promise((t=>{if(e&&e.id&&go.some((t=>t.props.id===e.id)))t("exist");else{const o=e.onHide,n=Object.assign(e,{key:a().uniqueId(),modelValue:!0,onHide(e){const l=_t.modals;o&&o(e),_t.modals=l.filter((e=>e.key!==n.key)),t(e.type)}});_t.modals.push(n)}}))}function Dl(e){return a().find(go,(t=>t.props.id===e))}function Nl(e){const t=e?[Dl(e)]:go,o=[];return t.forEach((e=>{e&&o.push(e.close())})),Promise.all(o)}function Ll(e,t,o,n){let l;return l=a().isObject(t)?t:{content:a().toValueString(t),title:o},Ml({...e,...n,...l})}function Al(e,t,o){return Ll({type:"alert",showFooter:!0},e,t,o)}function Pl(e,t,o){return Ll({type:"confirm",status:"question",showFooter:!0},e,t,o)}function Fl(e,t){return Ll({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}const Vl={get:Dl,close:Nl,open:Ml,alert:Al,confirm:Pl,message:Fl},jl=Vl,_l=Object.assign(xo,{install:function(e){e.component(xo.name,xo),Lt.modal=Vl}}),Hl=_l;Bt.component(xo.name,xo);var Bl=(0,g.defineComponent)({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>c.tooltip.size||c.size},trigger:{type:String,default:()=>c.tooltip.trigger},theme:{type:String,default:()=>c.tooltip.theme},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>c.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>c.tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),s=(0,g.ref)(),c={refElem:s},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>c};let d={};const p=()=>{const{tipTarget:e,tipStore:t}=i;if(e){const{scrollTop:o,scrollLeft:n,visibleWidth:l}=_(),{top:r,left:a}=X(e),i=s.value,c=6,u=i.offsetHeight,d=i.offsetWidth;let p=a,f=r-u-c;p=Math.max(c,a+Math.floor((e.offsetWidth-d)/2)),p+d+c>n+l&&(p=n+l-d-c),r-u<o+c&&(t.placement="bottom",f=r+e.offsetHeight+c),t.style.top=`${f}px`,t.style.left=`${p}px`,t.arrowStyle.left=a-p+e.offsetWidth/2+"px"}},f=e=>{e!==i.visible&&(i.visible=e,i.isUpdate=!0,n("update:modelValue",e))},m=()=>{i.tipZindex<E()&&(i.tipZindex=T())},h=()=>{i.visible?d.close():d.open()},v=()=>{d.open()},x=()=>{const{trigger:t,enterable:o,leaveDelay:n}=e;i.tipActive=!1,o&&"hover"===t?setTimeout((()=>{i.tipActive||d.close()}),n):d.close()},b=()=>{i.tipActive=!0},w=()=>{const{trigger:t,enterable:o,leaveDelay:n}=e;i.tipActive=!1,o&&"hover"===t&&setTimeout((()=>{i.tipActive||d.close()}),n)},y=()=>{const{tipStore:t}=i,o=s.value;if(o){const e=o.parentNode;e||document.body.appendChild(o)}return f(!0),m(),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||i.tipZindex},t.arrowStyle={left:"50%"},d.updatePlacement()},C=a().debounce((()=>{i.tipActive&&y()}),e.enterDelay,{leading:!1,trailing:!0});d={dispatchEvent(e,t,o){n(e,Object.assign({$tooltip:u,$event:o},t))},open(e,t){return d.toVisible(e||i.target,t)},close(){return i.tipTarget=null,i.tipActive=!1,Object.assign(i.tipStore,{style:{},placement:"",arrowStyle:null}),f(!1),(0,g.nextTick)()},toVisible(t,o){if(t){const{trigger:n,enterDelay:l}=e;if(i.tipActive=!0,i.tipTarget=t,o&&(i.tipContent=o),!l||"hover"!==n)return y();C()}return(0,g.nextTick)()},updatePlacement(){return(0,g.nextTick)().then((()=>{const{tipTarget:e}=i,t=s.value;if(e&&t)return p(),(0,g.nextTick)().then(p)}))},isActived(){return i.tipActive},setActived(e){i.tipActive=!!e}},Object.assign(u,d),(0,g.watch)((()=>e.content),(()=>{i.tipContent=e.content})),(0,g.watch)((()=>e.modelValue),(()=>{i.isUpdate||(e.modelValue?d.open():d.close()),i.isUpdate=!1})),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{trigger:t,content:o,modelValue:n}=e,l=s.value,r=l.parentNode;if(r){i.tipContent=o,i.tipZindex=T(),a().arrayEach(l.children,((e,t)=>{t>1&&(r.insertBefore(e,l),i.target||(i.target=e))})),r.removeChild(l);const{target:e}=i;e&&("hover"===t?(e.onmouseenter=v,e.onmouseleave=x):"click"===t&&(e.onclick=h)),n&&d.open()}}))})),(0,g.onBeforeUnmount)((()=>{const{trigger:t}=e,{target:o}=i,n=s.value;if(n){const e=n.parentNode;e&&e.removeChild(n)}o&&("hover"===t?(o.onmouseenter=null,o.onmouseleave=null):"click"===t&&(o.onclick=null))}));const S=()=>{const{useHTML:t}=e,{tipContent:n}=i,l=o.content;return l?(0,g.h)("div",{key:1,class:"vxe-table--tooltip-content"},Re(l({}))):t?(0,g.h)("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:n}):(0,g.h)("div",{key:3,class:"vxe-table--tooltip-content"},k(n))},R=()=>{const{theme:t,isArrow:n,enterable:l}=e,{tipActive:a,visible:c,tipStore:u}=i,d=o.default,p=r.value;let f;return l&&(f={onMouseenter:b,onMouseleave:w}),(0,g.h)("div",{ref:s,class:["vxe-table--tooltip-wrapper",`theme--${t}`,{[`size--${p}`]:p,[`placement--${u.placement}`]:u.placement,"is--enterable":l,"is--visible":c,"is--arrow":n,"is--actived":a}],style:u.style,...f},[S(),(0,g.h)("div",{class:"vxe-table--tooltip-arrow",style:u.arrowStyle}),...d?Re(d({})):[]])};return u.renderVN=R,u},render(){return this.renderVN()}});const zl=Object.assign(Bl,{install:function(e){Lt.tooltip=!0,e.component(Bl.name,Bl)}}),Wl=zl;Bt.component(Bl.name,Bl);class ql{constructor(e,t){Object.assign(this,{id:a().uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,folding:t.folding,collapseNode:t.collapseNode,className:t.className,itemRender:t.itemRender,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Ul(e){return e instanceof ql}function Yl(e,t){return Ul(t)?t:new ql(e,t)}function Xl(e,t){return t?a().isString(t)?e.getItemByField(t):t:null}function Gl(e,t){const{reactData:o}=e,{collapseAll:n}=o,{folding:l,visible:r}=t;return!1===r||l&&n}function Kl(e,t){let{visibleMethod:o,itemRender:n,visible:l,field:r}=t;if(!1===l)return l;const a=w(n)?Lt.renderer.get(n.name):null;if(!o&&a&&a.itemVisibleMethod&&(o=a.itemVisibleMethod),!o)return!0;const{data:i}=e.props;return o({data:i,field:r,property:r,item:t,$form:e,$grid:e.xegrid})}function Zl(e,t){Object.keys(e).forEach((o=>{(0,g.watch)((()=>e[o]),(e=>{t.update(o,e)}))}))}function Jl(e,t,o,n){const{reactData:l}=e,{staticItems:r}=l,i=t.parentNode,s=n?n.formItem:null,c=s?s.children:r;i&&(c.splice(a().arrayIndexOf(i.children,t),0,o),l.staticItems=r.slice(0))}function Ql(e,t){const{reactData:o}=e,{staticItems:n}=o,l=a().findIndexOf(n,(e=>e.id===t.id));l>-1&&n.splice(l,1),o.staticItems=n.slice(0)}function er(e){return(0,g.h)("span",{class:"vxe-form--item-title-prefix"},[(0,g.h)("i",{class:e.icon||c.icon.FORM_PREFIX})])}function tr(e){return(0,g.h)("span",{class:"vxe-form--item-title-suffix"},[(0,g.h)("i",{class:e.icon||c.icon.FORM_SUFFIX})])}function or(e,t){const{data:o}=e.props,{computeTooltipOpts:n}=e.getComputeMaps(),{slots:l,field:r,itemRender:a,titlePrefix:i,titleSuffix:s}=t,c=n.value,u=w(a)?Lt.renderer.get(a.name):null,d={data:o,field:r,property:r,item:t,$form:e,$grid:e.xegrid},p=l?l.title:null,f=[],m=[];i&&m.push(i.content||i.message?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{...c,...i,content:R(i.content||i.message)},{default:()=>er(i)}):er(i)),m.push((0,g.h)("span",{class:"vxe-form--item-title-label"},u&&u.renderItemTitle?Re(u.renderItemTitle(a,d)):p?e.callSlot(p,d):R(t.title))),f.push((0,g.h)("div",{class:"vxe-form--item-title-content"},m));const h=[];return s&&h.push(s.content||s.message?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{...c,...s,content:R(s.content||s.message)},{default:()=>tr(s)}):tr(s)),f.push((0,g.h)("div",{class:"vxe-form--item-title-postfix"},h)),f}const nr=(0,g.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=(0,g.inject)("$xeform",{}),o={itemConfig:e.itemConfig};(0,g.provide)("$xeformiteminfo",o),(0,g.provide)("$xeformgather",null);const n=()=>{const{reactData:o}=t,{data:n,rules:l,span:r,align:i,titleAlign:s,titleWidth:u,titleColon:d,titleAsterisk:p,titleOverflow:f}=t.props,{computeValidOpts:m}=t.getComputeMaps(),h=e.itemConfig,{collapseAll:v}=o,x=m.value,{slots:b,title:y,visible:C,folding:T,field:E,collapseNode:S,itemRender:k,showError:O,errRule:$,className:I,titleOverflow:M,children:D}=h,N=w(k)?Lt.renderer.get(k.name):null,L=N?N.itemClassName:"",A=b?b.default:null,P=b?b.title:null,F=h.span||r,V=h.align||i,j=a().eqNull(h.titleAlign)?s:h.titleAlign,_=a().eqNull(h.titleWidth)?u:h.titleWidth,H=a().eqNull(h.titleColon)?d:h.titleColon,B=a().eqNull(h.titleAsterisk)?p:h.titleAsterisk,z=a().isUndefined(M)||a().isNull(M)?f:M,W="ellipsis"===z,q="title"===z,U=!0===z||"tooltip"===z,Y=q||U||W,X={data:n,field:E,property:E,item:h,$form:t,$grid:t.xegrid};if(!1===C)return(0,g.createCommentVNode)();let G=!1;if(l){const e=l[E];e&&(G=e.some((e=>e.required)))}const K=D&&D.length>0;if(K){const e=D.map(((e,t)=>(0,g.h)(nr,{key:t,itemConfig:e})));return e.length?(0,g.h)("div",{class:["vxe-form--gather vxe-row",h.id,F?`vxe-col--${F} is--span`:"",I?a().isFunction(I)?I(X):I:""]},e):(0,g.createCommentVNode)()}let Z=[];A?Z=t.callSlot(A,X):N&&N.renderItemContent?Z=Re(N.renderItemContent(k,X)):E&&(Z=[a().toValueString(a().get(n,E))]),S&&Z.push((0,g.h)("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[(0,g.h)("span",{class:"vxe-form--item-trigger-text"},v?c.i18n("vxe.form.unfolding"):c.i18n("vxe.form.folding")),(0,g.h)("i",{class:["vxe-form--item-trigger-icon",v?c.icon.FORM_FOLDING:c.icon.FORM_UNFOLDING]})])),$&&x.showMessage&&Z.push((0,g.h)("div",{class:"vxe-form--item-valid",style:$.maxWidth?{width:`${$.maxWidth}px`}:null},$.content));const J=U?{onMouseenter(e){t.triggerTitleTipEvent(e,X)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return(0,g.h)("div",{class:["vxe-form--item",h.id,F?`vxe-col--${F} is--span`:"",I?a().isFunction(I)?I(X):I:"",L?a().isFunction(L)?L(X):L:"",{"is--title":y,"is--colon":H,"is--asterisk":B,"is--required":G,"is--hidden":T&&v,"is--active":Kl(t,h),"is--error":O}]},[(0,g.h)("div",{class:"vxe-form--item-inner"},[y||P?(0,g.h)("div",{class:["vxe-form--item-title",j?`align--${j}`:null,{"is--ellipsis":Y}],style:_?{width:isNaN(_)?_:`${_}px`}:null,title:q?R(y):null,...J},or(t,h)):null,(0,g.h)("div",{class:["vxe-form--item-content",V?`align--${V}`:null]},Z)])])},l={renderVN:n};return l},render(){return this.renderVN()}});var lr=nr;class rr{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return R(this.$options.content||this.$options.message)}get message(){return this.content}}const ar=(e,t)=>{const{type:o,min:n,max:l,pattern:r}=e,i="number"===o,s=i?a().toNumber(t):a().getSize(t);return!(!i||!isNaN(t))||(!a().eqNull(n)&&s<a().toNumber(n)||(!a().eqNull(l)&&s>a().toNumber(l)||!(!r||(a().isRegExp(r)?r:new RegExp(r)).test(t))))};function ir(e,t){return a().isArray(e)&&(t=[]),t}var sr=(0,g.defineComponent)({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>c.form.size||c.size},span:{type:[String,Number],default:()=>c.form.span},align:{type:String,default:()=>c.form.align},titleAlign:{type:String,default:()=>c.form.titleAlign},titleWidth:{type:[String,Number],default:()=>c.form.titleWidth},titleColon:{type:Boolean,default:()=>c.form.titleColon},titleAsterisk:{type:Boolean,default:()=>c.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>c.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>c.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const o=Lt.tooltip,{slots:n,emit:l}=t,r=a().uniqueId(),i=uo(e),s=(0,g.reactive)({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),u=(0,g.reactive)({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),d=(0,g.inject)("$xegrid",null),p=(0,g.ref)(),m=(0,g.ref)();let h={};const v=(0,g.computed)((()=>Object.assign({},c.form.validConfig,e.validConfig))),x=(0,g.computed)((()=>Object.assign({},c.tooltip,c.form.tooltipConfig,e.tooltipConfig))),b={refElem:p},y={computeSize:i,computeValidOpts:v,computeTooltipOpts:x},C={xID:r,props:e,context:t,reactData:s,xegrid:d,getRefMaps:()=>b,getComputeMaps:()=>y},T=(e,t)=>e&&(a().isString(e)&&(e=n[e]||null),a().isFunction(e))?Re(e(t)):[],E=e=>(e.length&&(e.forEach((e=>{e.slots&&a().each(e.slots,(e=>{a().isFunction(e)||n[e]||f("vxe.error.notSlot",[e])}))})),s.staticItems=a().mapTree(e,(e=>Yl(C,e)),{children:"children"})),(0,g.nextTick)()),S=()=>{const e=[];return a().eachTree(s.formItems,(t=>{e.push(t)}),{children:"children"}),e},R=e=>{const t=a().findTree(s.formItems,(t=>t.field===e),{children:"children"});return t?t.item:null},k=()=>s.collapseAll,$=()=>{const e=!k();return s.collapseAll=e,l("update:collapseStatus",e),(0,g.nextTick)()},I=t=>{$();const o=k();h.dispatchEvent("toggle-collapse",{status:o,collapse:o,data:e.data},t),h.dispatchEvent("collapse",{status:o,collapse:o,data:e.data},t)},M=e=>{if(e){const t=Xl(C,e);t&&(t.showError=!1)}else S().forEach((e=>{e.showError=!1}));return(0,g.nextTick)()},D=()=>{const{data:t}=e,o=S();return t&&o.forEach((e=>{const{field:o,resetValue:n,itemRender:l}=e;if(w(l)){const r=Lt.renderer.get(l.name);r&&r.itemResetMethod?r.itemResetMethod({data:t,field:o,property:o,item:e,$form:C,$grid:C.xegrid}):o&&a().set(t,o,null===n?ir(a().get(t,o),void 0):a().clone(n,!0))}})),M()},N=t=>{t.preventDefault(),D(),h.dispatchEvent("reset",{data:e.data},t)},L=e=>{const t=p.value;for(let o=0;o<e.length;o++){const n=e[o],l=R(n);if(l&&w(l.itemRender)){const{itemRender:e}=l,n=Lt.renderer.get(e.name);let r=null;if(o||Z(t.querySelector(`.${l.id}`)),e.autofocus&&(r=t.querySelector(`.${l.id} ${e.autofocus}`)),!r&&n&&n.autofocus&&(r=t.querySelector(`.${l.id} ${n.autofocus}`)),r){r.focus();break}}}},A=(t,o,n)=>{const{data:l,rules:r}=e,i=[],s=[];if(o&&r){const e=a().get(r,o);if(e){const r=a().isUndefined(n)?a().get(l,o):n;e.forEach((n=>{const{type:c,trigger:u,required:d}=n;if("all"===t||!u||t===u)if(a().isFunction(n.validator)){const t=n.validator({itemValue:r,rule:n,rules:e,data:l,field:o,property:o,$form:C});t&&(a().isError(t)?i.push(new rr({type:"custom",trigger:u,content:t.message,rule:new rr(n)})):t.catch&&s.push(t.catch((e=>{i.push(new rr({type:"custom",trigger:u,content:e?e.message:n.content||n.message,rule:new rr(n)}))}))))}else{const e="array"===c,t=e||a().isArray(r)?!a().isArray(r)||!r.length:O(r);(d?t||ar(n,r):!t&&ar(n,r))&&i.push(new rr(n))}}))}}return Promise.all(s).then((()=>{if(i.length){const e={rules:i,rule:i[0]};return Promise.reject(e)}}))};let P;const F=(t,o,n)=>{const{data:l,rules:r}=e,a=v.value,i={},s=[],c=[];return clearTimeout(P),l&&r?(t.forEach((e=>{const{field:t}=e;t&&!Gl(C,e)&&Kl(C,e)&&c.push(A(o||"all",t).then((()=>{e.errRule=null})).catch((({rule:o,rules:n})=>{const r={rule:o,rules:n,data:l,field:t,property:t,$form:C};return i[t]||(i[t]=[]),i[t].push(r),s.push(t),e.errRule=o,Promise.reject(r)})))})),Promise.all(c).then((()=>{n&&n()})).catch((()=>new Promise((e=>{P=window.setTimeout((()=>{t.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==a.autoPos&&(0,g.nextTick)((()=>{L(s)})),n?(n(i),e()):e(i)}))))):(n&&n(),Promise.resolve())},V=e=>(M(),F(S(),"",e)),j=(e,t)=>{const o=Xl(C,e);return F(o?[o]:[],"",t)},_=t=>{t.preventDefault(),e.preventSubmit||(M(),F(S()).then((o=>{o?h.dispatchEvent("submit-invalid",{data:e.data,errMap:o},t):h.dispatchEvent("submit",{data:e.data},t)})))},H=()=>{const{tooltipStore:e}=u,t=m.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),(0,g.nextTick)()},B=(e,t)=>{const{item:o}=t,{tooltipStore:n}=u,l=m.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(u.tooltipTimeout),n.item!==o&&H(),a&&i&&(Object.assign(n,{item:o,visible:!0}),l&&l.open(r,a))},z=()=>{const e=x.value;let t=m.value;t&&t.setActived(!1),e.enterable?u.tooltipTimeout=setTimeout((()=>{t=m.value,t&&!t.isActived()&&H()}),e.leaveDelay):H()},W=(e,t,o)=>t?A(e?["blur"].includes(e.type)?"blur":"change":"all",t,o).then((()=>{M(t)})).catch((({rule:e})=>{const o=R(t);o&&(o.showError=!0,o.errRule=e)})):(0,g.nextTick)(),q=(e,t)=>{const{field:o}=e;return W(new Event("change"),o,t)};h={dispatchEvent(e,t,o){l(e,Object.assign({$form:C,$grid:d,$event:o},t))},reset:D,validate:V,validateField:j,clearValidate:M,updateStatus:q,toggleCollapse:$,getItems:S,getItemByField:R,closeTooltip:H};const U={callSlot:T,triggerItemEvent:W,toggleCollapseEvent:I,triggerTitleTipEvent:B,handleTitleTipLeaveEvent:z};Object.assign(C,h,U);const Y=(0,g.ref)(0);(0,g.watch)((()=>s.staticItems.length),(()=>{Y.value++})),(0,g.watch)((()=>s.staticItems),(()=>{Y.value++})),(0,g.watch)(Y,(()=>{s.formItems=s.staticItems}));const X=(0,g.ref)(0);(0,g.watch)((()=>e.items?e.items.length:-1),(()=>{X.value++})),(0,g.watch)((()=>e.items),(()=>{X.value++})),(0,g.watch)(X,(()=>{E(e.items||[])})),(0,g.watch)((()=>e.collapseStatus),(e=>{s.collapseAll=!!e})),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{e.customLayout&&e.items&&f("vxe.error.errConflicts",["custom-layout","items"]),E(e.items||[])}))}));const G=()=>{const{loading:t,className:l,data:r,customLayout:c}=e,{formItems:u}=s,d=i.value,f=x.value,h=n.default;return(0,g.h)("form",{ref:p,class:["vxe-form",l?a().isFunction(l)?l({items:u,data:r,$form:C}):l:"",{[`size--${d}`]:d,"is--loading":t}],onSubmit:_,onReset:N},[(0,g.h)("div",{class:"vxe-form--wrapper vxe-row"},c?h?h({}):[]:u.map(((e,t)=>(0,g.h)(lr,{key:t,itemConfig:e})))),(0,g.h)("div",{class:"vxe-form-slots",ref:"hideItem"},c?[]:h?h({}):[]),(0,g.h)(ho,{class:"vxe-form--loading",modelValue:t}),o?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{ref:m,...f}):(0,g.createCommentVNode)()])};return C.renderVN=G,(0,g.provide)("$xeform",C),(0,g.provide)("$xeformgather",null),(0,g.provide)("$xeformitem",null),(0,g.provide)("$xeformiteminfo",null),C},render(){return this.renderVN()}});const cr=Object.assign(sr,{install(e){e.component(sr.name,sr)}}),ur=cr;Bt.component(sr.name,sr);const dr={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},className:[String,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object};var pr=(0,g.defineComponent)({name:"VxeFormItem",props:dr,setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xeform",{}),l=(0,g.inject)("$xeformgather",null),r=(0,g.reactive)(Yl(n,e)),i={formItem:r},s={itemConfig:r};r.slots=t,(0,g.provide)("$xeformiteminfo",s),(0,g.provide)("$xeformitem",i),(0,g.provide)("$xeformgather",null),Zl(e,r),(0,g.onMounted)((()=>{Jl(n,o.value,r,l)})),(0,g.onUnmounted)((()=>{Ql(n,r)}));const u=(e,t)=>{const{props:n,reactData:l}=e,{data:r,rules:i,titleAlign:s,titleWidth:u,titleColon:d,titleAsterisk:p,titleOverflow:f}=n,{collapseAll:m}=l,{computeValidOpts:h}=e.getComputeMaps(),v=h.value,{slots:x,title:b,visible:y,folding:C,field:T,collapseNode:E,itemRender:S,showError:k,errRule:O,className:$,titleOverflow:I}=t,M=w(S)?Lt.renderer.get(S.name):null,D=M?M.itemClassName:"",N=x?x.default:null,L=x?x.title:null,A=t.span||n.span,P=t.align||n.align,F=a().eqNull(t.titleAlign)?s:t.titleAlign,V=a().eqNull(t.titleWidth)?u:t.titleWidth,j=a().eqNull(t.titleColon)?d:t.titleColon,_=a().eqNull(t.titleAsterisk)?p:t.titleAsterisk,H=a().isUndefined(I)||a().isNull(I)?f:I,B="ellipsis"===H,z="title"===H,W=!0===H||"tooltip"===H,q=z||W||B,U={data:r,field:T,property:T,item:t,$form:e,$grid:e.xegrid};let Y=!1;if(!1===y)return(0,g.createCommentVNode)();if(i){const e=i[T];e&&(Y=e.some((e=>e.required)))}let X=[];N?X=e.callSlot(N,U):M&&M.renderItemContent?X=Re(M.renderItemContent(S,U)):T&&(X=[`${a().get(r,T)}`]),E&&X.push((0,g.h)("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[(0,g.h)("span",{class:"vxe-form--item-trigger-text"},m?c.i18n("vxe.form.unfolding"):c.i18n("vxe.form.folding")),(0,g.h)("i",{class:["vxe-form--item-trigger-icon",m?c.icon.FORM_FOLDING:c.icon.FORM_UNFOLDING]})])),O&&v.showMessage&&X.push((0,g.h)("div",{class:"vxe-form--item-valid",style:O.maxWidth?{width:`${O.maxWidth}px`}:null},O.message));const G=W?{onMouseenter(t){e.triggerTitleTipEvent(t,U)},onMouseleave:e.handleTitleTipLeaveEvent}:{};return(0,g.h)("div",{ref:o,class:["vxe-form--item",t.id,A?`vxe-col--${A} is--span`:"",$?a().isFunction($)?$(U):$:"",D?a().isFunction(D)?D(U):D:"",{"is--title":b,"is--colon":j,"is--asterisk":_,"is--required":Y,"is--hidden":C&&m,"is--active":Kl(e,t),"is--error":k}]},[(0,g.h)("div",{class:"vxe-form--item-inner"},[b||L?(0,g.h)("div",{class:["vxe-form--item-title",F?`align--${F}`:null,{"is--ellipsis":q}],style:V?{width:isNaN(V)?V:`${V}px`}:null,title:z?R(b):null,...G},or(e,t)):null,(0,g.h)("div",{class:["vxe-form--item-content",P?`align--${P}`:null]},X)])])},d=()=>{const e=n?n.props:null;return e&&e.customLayout?u(n,r):(0,g.h)("div",{ref:o})},p={renderVN:d};return p},render(){return this.renderVN()}});const fr=Object.assign(pr,{install(e){e.component(pr.name,pr)}}),mr=fr;Bt.component(pr.name,pr);var hr=(0,g.defineComponent)({name:"VxeFormGather",props:dr,setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xeform",{}),l=(0,g.inject)("$xeformgather",null),r=t.default,a=(0,g.reactive)(Yl(n,e)),i={formItem:a},s={itemConfig:a};a.children=[],(0,g.provide)("$xeformiteminfo",s),(0,g.provide)("$xeformgather",i),(0,g.provide)("$xeformitem",null),Zl(e,a),(0,g.onMounted)((()=>{Jl(n,o.value,a,l)})),(0,g.onUnmounted)((()=>{Ql(n,a)})),(0,g.nextTick)((()=>{n&&n.props.customLayout&&f("vxe.error.errConflicts",["custom-layout","<form-gather ...>"])}));const c=()=>(0,g.h)("div",{ref:o},r?r():[]),u={renderVN:c};return u},render(){return this.renderVN()}});const gr=Object.assign(hr,{install(e){e.component(hr.name,hr)}}),vr=gr;Bt.component(hr.name,hr);const xr=Object.assign(Io,{install:function(e){e.component(Io.name,Io)}}),br=xr;Bt.component(Io.name,Io);class wr{constructor(e,t){Object.assign(this,{id:a().uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function yr(e){return e instanceof wr}function Cr(e,t){return yr(t)?t:new wr(e,t)}function Tr(e,t){Object.keys(e).forEach((o=>{(0,g.watch)((()=>e[o]),(e=>{t.update(o,e)}))}))}function Er(e,t,o,n){const{reactData:l}=e,{staticOptions:r}=l,i=t.parentNode,s=n?n.option:null,c=s?s.options:r;i&&c&&(c.splice(a().arrayIndexOf(i.children,t),0,o),l.staticOptions=r.slice(0))}function Sr(e,t){const{reactData:o}=e,{staticOptions:n}=o,l=a().findTree(n,(e=>e.id===t.id),{children:"options"});l&&l.items.splice(l.index,1),o.staticOptions=n.slice(0)}var Rr=(0,g.defineComponent)({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xeselect",{}),l=Cr(n,e),r={option:l};return l.options=[],(0,g.provide)("xeoptgroup",r),Tr(e,l),(0,g.onMounted)((()=>{Er(n,o.value,l)})),(0,g.onUnmounted)((()=>{Sr(n,l)})),()=>(0,g.h)("div",{ref:o},t.default?t.default():[])}});const kr=Object.assign(Rr,{install:function(e){e.component(Rr.name,Rr)}}),Or=kr;Bt.component(Rr.name,Rr);var $r=(0,g.defineComponent)({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const o=(0,g.ref)(),n=(0,g.inject)("$xeselect",{}),l=(0,g.inject)("xeoptgroup",null),r=Cr(n,e);return r.slots=t,Tr(e,r),(0,g.onMounted)((()=>{Er(n,o.value,r,l)})),(0,g.onUnmounted)((()=>{Sr(n,r)})),()=>(0,g.h)("div",{ref:o})}});const Ir=Object.assign($r,{install:function(e){e.component($r.name,$r)}}),Mr=Ir;Bt.component($r.name,$r);var Dr=(0,g.defineComponent)({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>c["switch"].size||c.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:o}=t,n=(0,g.inject)("$xeform",null),l=(0,g.inject)("$xeformiteminfo",null),r=a().uniqueId(),i=uo(e),s=(0,g.reactive)({isActivated:!1,hasAnimat:!1,offsetLeft:0}),c={xID:r,props:e,context:t,reactData:s},u=(0,g.ref)();let d={};const p=(0,g.computed)((()=>R(e.openLabel))),f=(0,g.computed)((()=>R(e.closeLabel))),m=(0,g.computed)((()=>e.modelValue===e.openValue));let h;const v=t=>{if(!e.disabled){const r=m.value;clearTimeout(h);const a=r?e.closeValue:e.openValue;s.hasAnimat=!0,o("update:modelValue",a),d.dispatchEvent("change",{value:a},t),n&&l&&n.triggerItemEvent(t,l.itemConfig.field,a),h=setTimeout((()=>{s.hasAnimat=!1}),400)}},x=t=>{s.isActivated=!0,d.dispatchEvent("focus",{value:e.modelValue},t)},b=t=>{s.isActivated=!1,d.dispatchEvent("blur",{value:e.modelValue},t)};d={dispatchEvent(e,t,n){o(e,Object.assign({$switch:c,$event:n},t))},focus(){const e=u.value;return s.isActivated=!0,e.focus(),(0,g.nextTick)()},blur(){const e=u.value;return e.blur(),s.isActivated=!1,(0,g.nextTick)()}},Object.assign(c,d);const w=()=>{const{disabled:t,openIcon:o,closeIcon:n}=e,l=m.value,r=i.value,a=p.value,c=f.value;return(0,g.h)("div",{class:["vxe-switch",l?"is--on":"is--off",{[`size--${r}`]:r,"is--disabled":t,"is--animat":s.hasAnimat}]},[(0,g.h)("button",{ref:u,class:"vxe-switch--button",type:"button",disabled:t,onClick:v,onFocus:x,onBlur:b},[(0,g.h)("span",{class:"vxe-switch--label vxe-switch--label-on"},[o?(0,g.h)("i",{class:["vxe-switch--label-icon",o]}):(0,g.createCommentVNode)(),a]),(0,g.h)("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?(0,g.h)("i",{class:["vxe-switch--label-icon",n]}):(0,g.createCommentVNode)(),c]),(0,g.h)("span",{class:"vxe-switch--icon"})])])};return c.renderVN=w,c},render(){return this.renderVN()}});const Nr=Object.assign(Dr,{install:function(e){e.component(Dr.name,Dr)}}),Lr=Nr;Bt.component(Dr.name,Dr);let Ar;const Pr=[],Fr=500;function Vr(){Pr.length&&(Pr.forEach((e=>{e.tarList.forEach((t=>{const{target:o,width:n,heighe:l}=t,r=o.clientWidth,a=o.clientHeight,i=r&&n!==r,s=a&&l!==a;(i||s)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),jr())}function jr(){clearTimeout(Ar),Ar=setTimeout(Vr,c.resizeInterval||Fr)}class _r{constructor(e){v(this,"tarList",[]),v(this,"callback",void 0),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Pr.length||jr(),Pr.some((e=>e===this))||Pr.push(this)}}unobserve(e){a().remove(Pr,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){a().remove(Pr,(e=>e===this))}}function Hr(e){return window.ResizeObserver?new window.ResizeObserver(e):new _r(e)}var Br=(0,g.defineComponent)({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>c.list.size||c.size},autoResize:{type:Boolean,default:()=>c.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),s=(0,g.ref)(),u=(0,g.ref)(),d=(0,g.ref)(),p={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},f={refElem:s},m={xID:l,props:e,context:t,reactData:i,internalData:p,getRefMaps:()=>f};let h={};const v=(0,g.computed)((()=>Object.assign({},c.list.scrollY,e.scrollY))),x=(0,g.computed)((()=>{const{height:t,maxHeight:o}=e,n={};return t?n.height=`${isNaN(t)?t:`${t}px`}`:o&&(n.height="auto",n.maxHeight=`${isNaN(o)?o:`${o}px`}`),n})),b=()=>{const{scrollYLoad:e}=i,{scrollYStore:t,fullData:o}=p;i.bodyHeight=e?o.length*t.rowHeight:0,i.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},w=()=>{const{scrollYLoad:e}=i,{fullData:t,scrollYStore:o}=p;return i.items=e?t.slice(o.startIndex,o.endIndex):t.slice(0),(0,g.nextTick)()},y=()=>{w(),b()},C=()=>(0,g.nextTick)().then((()=>{const{scrollYLoad:e}=i,{scrollYStore:t}=p,o=d.value,n=v.value;let l,r=0;if(o&&(n.sItem&&(l=o.querySelector(n.sItem)),l||(l=o.children[0])),l&&(r=l.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=u.value,o=Math.max(8,Math.ceil(e.clientHeight/r)),l=n.oSize?a().toNumber(n.oSize):M.edge?10:0;t.offsetSize=l,t.visibleSize=o,t.endIndex=Math.max(t.startIndex,o+l,t.endIndex),y()}else b();i.rowHeight=r})),T=()=>{const e=u.value;return e&&(e.scrollTop=0),(0,g.nextTick)()},E=(e,t)=>{const o=u.value;return a().isNumber(e)&&(o.scrollLeft=e),a().isNumber(t)&&(o.scrollTop=t),i.scrollYLoad?new Promise((e=>{setTimeout((()=>{(0,g.nextTick)((()=>{e()}))}),50)})):(0,g.nextTick)()},S=()=>{const{lastScrollLeft:e,lastScrollTop:t}=p;return T().then((()=>{if(e||t)return p.lastScrollLeft=0,p.lastScrollTop=0,E(e,t)}))},R=()=>{const e=s.value;return e.clientWidth&&e.clientHeight?C():Promise.resolve()},k=e=>{const{scrollYStore:t}=p,{startIndex:o,endIndex:n,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target,s=i.scrollTop,c=Math.floor(s/a),u=Math.max(0,c-1-r),d=c+l+r;(c<=o||c>=n-l-1)&&(o===u&&n===d||(t.startIndex=u,t.endIndex=d,y()))},O=e=>{const t=e.target,o=t.scrollTop,n=t.scrollLeft,l=n!==p.lastScrollLeft,r=o!==p.lastScrollTop;p.lastScrollTop=o,p.lastScrollLeft=n,i.scrollYLoad&&k(e),h.dispatchEvent("scroll",{scrollLeft:n,scrollTop:o,isX:l,isY:r},e)};h={dispatchEvent(e,t,o){n(e,Object.assign({$list:m,$event:o},t))},loadData(e){const{scrollYStore:t}=p,o=v.value,n=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),p.fullData=n,i.scrollYLoad=!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<=n.length),w(),C().then((()=>{S()}))},reloadData(e){return T(),h.loadData(e)},recalculate:R,scrollTo:E,refreshScroll:S,clearScroll:T},Object.assign(m,h);const $=(0,g.ref)(0);let I;(0,g.watch)((()=>e.data?e.data.length:-1),(()=>{$.value++})),(0,g.watch)((()=>e.data),(()=>{$.value++})),(0,g.watch)($,(()=>{h.loadData(e.data||[])})),(0,g.watch)((()=>e.syncResize),(e=>{e&&(R(),(0,g.nextTick)((()=>setTimeout((()=>R())))))})),(0,g.onActivated)((()=>{R().then((()=>S()))})),(0,g.nextTick)((()=>{if(Qt.on(m,"resize",(()=>{R()})),e.autoResize){const e=s.value;I=Hr((()=>R())),I.observe(e)}h.loadData(e.data||[])})),(0,g.onUnmounted)((()=>{I&&I.disconnect(),Qt.off(m,"resize")}));const D=()=>{const{className:t,loading:n}=e,{bodyHeight:l,topSpaceHeight:c,items:p}=i,f=r.value,h=x.value;return(0,g.h)("div",{ref:s,class:["vxe-list",t?a().isFunction(t)?t({$list:m}):t:"",{[`size--${f}`]:f,"is--loading":n}]},[(0,g.h)("div",{ref:u,class:"vxe-list--virtual-wrapper",style:h,onScroll:O},[(0,g.h)("div",{class:"vxe-list--y-space",style:{height:l?`${l}px`:""}}),(0,g.h)("div",{ref:d,class:"vxe-list--body",style:{marginTop:c?`${c}px`:""}},o.default?o.default({items:p,$list:m}):[])]),(0,g.h)(ho,{class:"vxe-list--loading",modelValue:n})])};return m.renderVN=D,m},render(){return this.renderVN()}});const zr=Object.assign(Br,{install(e){e.component(Br.name,Br)}}),Wr=zr;Bt.component(Br.name,Br);var qr=(0,g.defineComponent)({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>c.size},destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(e,t){const{slots:o,emit:n}=t,l=a().uniqueId(),r=uo(e),i=(0,g.reactive)({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),s=(0,g.ref)(),c=(0,g.ref)(),u=(0,g.ref)(),d={refElem:s},p={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>d};let f={};const m=()=>{i.panelIndex<E()&&(i.panelIndex=T())},h=()=>i.visiblePanel,v=()=>(0,g.nextTick)().then((()=>{const{transfer:t,placement:o}=e,{panelIndex:n,visiblePanel:l}=i;if(l){const e=c.value,l=u.value;if(l&&e){const r=e.offsetHeight,a=e.offsetWidth,s=l.offsetHeight,c=l.offsetWidth,u=5,d={zIndex:n},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:h}=X(e);let g="bottom";if(t){let e=f,t=p+r;"top"===o?(g="top",t=p-s):o||(t+s+u>m&&(g="top",t=p-s),t<u&&(g="bottom",t=p+r)),e+c+u>h&&(e-=e+c+u-h),e<u&&(e=u),Object.assign(d,{left:`${e}px`,top:`${t}px`,minWidth:`${a}px`})}else"top"===o?(g="top",d.bottom=`${r}px`):o||p+r+s>m&&p-r-s>u&&(g="top",d.bottom=`${r}px`);i.panelStyle=d,i.panelPlacement=g}}return(0,g.nextTick)()}));let x;const b=()=>(i.inited||(i.inited=!0),new Promise((t=>{e.disabled?(0,g.nextTick)((()=>{t()})):(clearTimeout(x),i.isActivated=!0,i.animatVisible=!0,setTimeout((()=>{i.visiblePanel=!0,n("update:modelValue",!0),v(),setTimeout((()=>{t(v())}),40)}),10),m())}))),w=()=>(i.visiblePanel=!1,n("update:modelValue",!1),new Promise((e=>{i.animatVisible?x=window.setTimeout((()=>{i.animatVisible=!1,(0,g.nextTick)((()=>{e()}))}),350):(0,g.nextTick)((()=>{e()}))}))),y=()=>i.visiblePanel?w():b(),C=t=>{const{disabled:o}=e,{visiblePanel:n}=i,l=u.value;o||n&&(U(t,l).flag?v():(w(),f.dispatchEvent("hide-panel",{},t)))},S=t=>{const{disabled:o}=e,{visiblePanel:n}=i,l=s.value,r=u.value;o||(i.isActivated=U(t,l).flag||U(t,r).flag,n&&!i.isActivated&&(w(),f.dispatchEvent("hide-panel",{},t)))},R=e=>{i.visiblePanel&&(i.isActivated=!1,w(),f.dispatchEvent("hide-panel",{},e))};f={dispatchEvent(e,t,o){n(e,Object.assign({$pulldown:p,$event:o},t))},isPanelVisible:h,togglePanel:y,showPanel:b,hidePanel:w},Object.assign(p,f),(0,g.watch)((()=>e.modelValue),(e=>{e?b():w()})),(0,g.nextTick)((()=>{Qt.on(p,"mousewheel",C),Qt.on(p,"mousedown",S),Qt.on(p,"blur",R)})),(0,g.onUnmounted)((()=>{Qt.off(p,"mousewheel"),Qt.off(p,"mousedown"),Qt.off(p,"blur")}));const k=()=>{const{destroyOnClose:t,transfer:n,disabled:l}=e,{inited:a,isActivated:d,animatVisible:f,visiblePanel:m,panelStyle:h,panelPlacement:v}=i,x=r.value;return(0,g.h)("div",{ref:s,class:["vxe-pulldown",{[`size--${x}`]:x,"is--visivle":m,"is--disabled":l,"is--active":d}]},[(0,g.h)("div",{ref:c,class:"vxe-pulldown--content"},o.default?o.default({$pulldown:p}):[]),(0,g.h)(g.Teleport,{to:"body",disabled:!n||!a},[(0,g.h)("div",{ref:u,class:["vxe-table--ignore-clear vxe-pulldown--panel",{[`size--${x}`]:x,"is--transfer":n,"animat--leave":f,"animat--enter":m}],placement:v,style:h},o.dropdown?[(0,g.h)("div",{class:"vxe-pulldown--wrapper"},!a||t&&!m&&!f?[]:o.dropdown({$pulldown:p}))]:[])])])};return p.renderVN=k,p},render(){return this.renderVN()}});const Ur=Object.assign(qr,{install:function(e){e.component(qr.name,qr)}}),Yr=Ur;Bt.component(qr.name,qr);const Xr="body",Gr={mini:3,small:2,medium:1};var Kr=(0,g.defineComponent)({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=(0,g.inject)("$xetable",{}),o=(0,g.inject)("xesize",null),{xID:n,props:l,context:r,reactData:i,internalData:s}=t,{refTableHeader:u,refTableBody:d,refTableFooter:p,refTableLeftBody:f,refTableRightBody:m,refValidTooltip:h}=t.getRefMaps(),{computeEditOpts:v,computeMouseOpts:x,computeSYOpts:b,computeEmptyOpts:y,computeKeyboardOpts:C,computeTooltipOpts:T,computeRadioOpts:E,computeExpandOpts:S,computeTreeOpts:R,computeCheckboxOpts:k,computeValidOpts:O,computeRowOpts:$,computeColumnOpts:I}=t.getComputeMaps(),M=(0,g.ref)(),N=(0,g.ref)(),L=(0,g.ref)(),A=(0,g.ref)(),P=(0,g.ref)(),F=(0,g.ref)(),V=(0,g.ref)(),j=()=>{if(o){const e=o.value;if(e)return Gr[e]||0}return 0},_=(e,o)=>{let n=1;if(!e)return n;const l=R.value,r=e[l.children];if(t.isTreeExpandByRow(e))for(let t=0;t<r.length;t++)n+=_(r[t],o);return n},H=(e,t,o)=>{let n=1;return o&&(n=_(t[o-1],e)),i.rowHeight*n-(o?1:12-j())},B=()=>{const{delayHover:e}=l,{lastScrollTime:t,_isResize:o}=s;return o||t&&Date.now()<t+e},z=e=>{const{row:o,column:n}=e,{treeConfig:r}=l,a=R.value,{slots:i,treeNode:c}=n,{fullAllDataRowIdData:u}=s,d=re(t,o),p=u[d];let f=0,m=0,h=[];return p&&(f=p.level,m=p._index,h=p.items),i&&i.line?t.callSlot(i.line,e):r&&c&&a.line?[(0,g.h)("div",{class:"vxe-tree--line-wrapper"},[(0,g.h)("div",{class:"vxe-tree--line",style:{height:`${H(e,h,m)}px`,left:f*a.indent+(f?2-j():0)+16+"px"}})])]:[]},W=(e,o,n,r,c,u,d,p,f,m,h,x)=>{const{columnKey:y,height:C,showOverflow:E,cellClassName:S,cellStyle:R,align:M,spanMethod:N,mouseConfig:L,editConfig:A,editRules:P,tooltipConfig:F}=l,{tableData:V,overflowX:j,scrollYLoad:_,currentColumn:H,mergeList:W,editStore:U,validStore:Y,isAllOverflow:X}=i,{afterFullData:G}=s,K=O.value,Z=k.value,J=v.value,Q=T.value,ee=$.value,te=b.value,oe=I.value,{type:ne,cellRender:le,editRender:re,align:ae,showOverflow:ie,className:se,treeNode:ce}=f,{actived:ue}=U,{rHeight:de}=te,{height:pe}=ee,fe=re||le,me=fe?Lt.renderer.get(fe.name):null,he=me?me.cellClassName:"",ge=Q.showAll,ve=t.getColumnIndex(f),xe=t.getVTColumnIndex(f),be=w(re);let ye=n?f.fixed!==n:f.fixed&&j;const Ce=a().isUndefined(ie)||a().isNull(ie)?E:ie;let Te="ellipsis"===Ce;const Ee="title"===Ce,Se=!0===Ce||"tooltip"===Ce;let Re,ke=Ee||Se||Te;const Oe={},$e=ae||M,Ie=Y.row===c&&Y.column===f,Me=P&&K.showMessage&&("default"===K.message?C||V.length>1:"inline"===K.message),De={colid:f.id},Ne={$table:t,$grid:t.xegrid,seq:e,rowid:o,row:c,rowIndex:u,$rowIndex:d,_rowIndex:p,column:f,columnIndex:ve,$columnIndex:m,_columnIndex:xe,fixed:n,type:Xr,isHidden:ye,level:r,visibleData:G,data:V,items:x};if(_&&!ke&&(Te=ke=!0),(Ee||Se||ge||F)&&(Oe.onMouseenter=e=>{B()||(Ee?q(e.currentTarget,f):(Se||ge)&&t.triggerBodyTooltipEvent(e,Ne),t.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},Ne),e))}),(Se||ge||F)&&(Oe.onMouseleave=e=>{B()||((Se||ge)&&t.handleTargetLeaveEvent(e),t.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},Ne),e))}),(Z.range||L)&&(Oe.onMousedown=e=>{t.triggerCellMousedownEvent(e,Ne)}),Oe.onClick=e=>{t.triggerCellClickEvent(e,Ne)},Oe.onDblclick=e=>{t.triggerCellDblclickEvent(e,Ne)},W.length){const e=we(W,p,xe);if(e){const{rowspan:t,colspan:o}=e;if(!t||!o)return null;t>1&&(De.rowspan=t),o>1&&(De.colspan=o)}}else if(N){const{rowspan:e=1,colspan:t=1}=N(Ne)||{};if(!e||!t)return null;e>1&&(De.rowspan=e),t>1&&(De.colspan=t)}ye&&W&&(De.colspan>1||De.rowspan>1)&&(ye=!1),!ye&&A&&(re||le)&&(J.showStatus||J.showUpdateStatus)&&(Re=t.isUpdateByRow(c,f.field));const Le=[];return ye&&(E?X:E)?Le.push((0,g.h)("div",{class:["vxe-cell",{"c--title":Ee,"c--tooltip":Se,"c--ellipsis":Te}],style:{maxHeight:ke&&(de||pe)?`${de||pe}px`:""}})):(Le.push(...z(Ne),(0,g.h)("div",{class:["vxe-cell",{"c--title":Ee,"c--tooltip":Se,"c--ellipsis":Te}],style:{maxHeight:ke&&(de||pe)?`${de||pe}px`:""},title:Ee?t.getCellLabel(c,f):null},f.renderCell(Ne))),Me&&Ie&&Le.push((0,g.h)("div",{class:"vxe-cell--valid",style:Y.rule&&Y.rule.maxWidth?{width:`${Y.rule.maxWidth}px`}:null},[(0,g.h)("span",{class:"vxe-cell--valid-msg"},Y.content)]))),(0,g.h)("td",{class:["vxe-body--column",f.id,{[`col--${$e}`]:$e,[`col--${ne}`]:ne,"col--last":m===h.length-1,"col--tree-node":ce,"col--edit":be,"col--ellipsis":ke,"fixed--hidden":ye,"col--dirty":Re,"col--actived":A&&be&&ue.row===c&&(ue.column===f||"row"===J.mode),"col--valid-error":Ie,"col--current":H===f},D(he,Ne),D(se,Ne),D(S,Ne)],key:y||oe.useKey?f.id:m,...De,style:Object.assign({height:ke&&(de||pe)?`${de||pe}px`:""},R?a().isFunction(R)?R(Ne):R:null),...Oe},Le)},U=(e,o,n)=>{const{stripe:r,rowKey:c,highlightHoverRow:u,rowClassName:d,rowStyle:p,showOverflow:f,editConfig:m,treeConfig:h}=l,{hasFixedColumn:x,treeExpandeds:b,scrollYLoad:w,editStore:y,rowExpandeds:C,expandColumn:T,selectRow:O}=i,{fullAllDataRowIdData:I}=s,M=k.value,N=E.value,L=R.value,A=v.value,P=$.value,{transform:F}=L,V=[];return o.forEach(((l,i)=>{const s={};let v=i;v=t.getRowIndex(l),(P.isHover||u)&&(s.onMouseenter=e=>{B()||t.triggerHoverEvent(e,{row:l,rowIndex:v})},s.onMouseleave=()=>{B()||t.clearHoverRow()});const E=re(t,l),R=I[E];let k=0,$=-1,j=0;R&&(k=R.level,$=R.seq,j=R._index);const _={$table:t,seq:$,rowid:E,fixed:e,type:Xr,level:k,row:l,rowIndex:v,$rowIndex:i,_rowIndex:j},H=T&&C.length&&t.findRowIndexOf(C,l)>-1;let z=!1,q=[],Y=!1;if(m&&(Y=t.findRowIndexOf(y.insertList,l)>-1),h&&!w&&!F&&b.length&&(q=l[L.children],z=q&&q.length&&t.findRowIndexOf(b,l)>-1),V.push((0,g.h)("tr",{class:["vxe-body--row",h?`row--level-${k}`:"",{"row--stripe":r&&(t.getVTRowIndex(l)+1)%2===0,"is--new":Y,"is--expand-row":H,"is--expand-tree":z,"row--new":Y&&(A.showStatus||A.showInsertStatus),"row--radio":N.highlight&&O===l,"row--checked":M.highlight&&t.isCheckedByCheckboxRow(l)},D(d,_)],rowid:E,style:p?a().isFunction(p)?p(_):p:null,key:c||P.useKey||h?E:i,...s},n.map(((t,r)=>W($,E,e,k,l,v,i,j,t,r,n,o))))),H){const o=S.value,{height:r}=o,c={};r&&(c.height=`${r}px`),h&&(c.paddingLeft=k*L.indent+30+"px");const{showOverflow:u}=T,d=a().isUndefined(u)||a().isNull(u)?f:u,m={$table:t,seq:$,column:T,fixed:e,type:Xr,level:k,row:l,rowIndex:v,$rowIndex:i,_rowIndex:j};V.push((0,g.h)("tr",{class:"vxe-body--expanded-row",key:`expand_${E}`,style:p?a().isFunction(p)?p(m):p:null,...s},[(0,g.h)("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":e&&!x,"col--ellipsis":d},colspan:n.length},[(0,g.h)("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":r},style:c},[T.renderData(m)])])]))}if(h&&!w&&!F&&b.length){const o=l[L.children];o&&o.length&&t.findRowIndexOf(b,l)>-1&&V.push(...U(e,o,n))}})),V};let Y;const X=(e,t,o,n)=>{(o||n)&&(o&&(te(o),o.scrollTop=t),n&&(te(n),n.scrollTop=t),clearTimeout(Y),Y=setTimeout((()=>{oe(o),oe(n)}),300))},G=o=>{const{fixedType:n}=e,{highlightHoverRow:r}=l,{scrollXLoad:a,scrollYLoad:c}=i,{elemStore:g,lastScrollTop:v,lastScrollLeft:x}=s,b=$.value,w=u.value,y=d.value,C=p.value,T=f.value,E=m.value,S=h.value,R=M.value,k=w?w.$el:null,O=C?C.$el:null,I=y.$el,D=T?T.$el:null,N=E?E.$el:null,L=g["main-body-ySpace"],A=L?L.value:null,P=g["main-body-xSpace"],F=P?P.value:null,V=c&&A?A.clientHeight:I.clientHeight,j=a&&F?F.clientWidth:I.clientWidth;let _=R.scrollTop;const H=I.scrollLeft,B=H!==x,z=_!==v;s.lastScrollTop=_,s.lastScrollLeft=H,s.lastScrollTime=Date.now(),(b.isHover||r)&&t.clearHoverRow(),D&&"left"===n?(_=D.scrollTop,X(n,_,I,N)):N&&"right"===n?(_=N.scrollTop,X(n,_,I,D)):(B&&(k&&(k.scrollLeft=I.scrollLeft),O&&(O.scrollLeft=I.scrollLeft)),(D||N)&&(t.checkScrolling(),z&&X(n,_,D,N))),a&&B&&t.triggerScrollXEvent(o),c&&z&&t.triggerScrollYEvent(o),B&&S&&S.reactData.visible&&S.updatePlacement(),t.dispatchEvent("scroll",{type:Xr,fixed:n,scrollTop:_,scrollLeft:H,scrollHeight:I.scrollHeight,scrollWidth:I.scrollWidth,bodyHeight:V,bodyWidth:j,isX:B,isY:z},o)};let K,Z=0,J=0,Q=0,ee=!1;const ne=(o,n,l,r,a)=>{const{elemStore:c}=s,{scrollXLoad:u,scrollYLoad:p}=i,h=d.value,g=f.value,v=m.value,x=g?g.$el:null,b=v?v.$el:null,w=h.$el,y=c["main-body-ySpace"],C=y?y.value:null,T=c["main-body-xSpace"],E=T?T.value:null,S=p&&C?C.clientHeight:w.clientHeight,R=u&&E?E.clientWidth:w.clientWidth,k=ee===n?Math.max(0,Z-Q):0;ee=n,Z=Math.abs(n?l-k:l+k),J=0,Q=0,clearTimeout(K);const O=()=>{if(Q<Z){const{fixedType:l}=e;J=Math.max(5,Math.floor(1.5*J)),Q+=J,Q>Z&&(J-=Q-Z);const{scrollTop:i,clientHeight:s,scrollHeight:c}=w,u=i+J*(n?-1:1);w.scrollTop=u,x&&(x.scrollTop=u),b&&(b.scrollTop=u),(n?u<c-s:u>=0)&&(K=setTimeout(O,10)),t.dispatchEvent("scroll",{type:Xr,fixed:l,scrollTop:w.scrollTop,scrollLeft:w.scrollLeft,scrollHeight:w.scrollHeight,scrollWidth:w.scrollWidth,bodyHeight:S,bodyWidth:R,isX:r,isY:a},o)}};O()},le=e=>{const{deltaY:o,deltaX:n}=e,{highlightHoverRow:r}=l,{scrollYLoad:a}=i,{lastScrollTop:c,lastScrollLeft:u}=s,p=$.value,f=d.value,m=M.value,h=f.$el,g=o,v=n,x=g<0;if(x?m.scrollTop<=0:m.scrollTop>=m.scrollHeight-m.clientHeight)return;const b=m.scrollTop+g,w=h.scrollLeft+v,y=w!==u,C=b!==c;C&&(e.preventDefault(),s.lastScrollTop=b,s.lastScrollLeft=w,s.lastScrollTime=Date.now(),(p.isHover||r)&&t.clearHoverRow(),ne(e,x,g,y,C),a&&t.triggerScrollYEvent(e))};(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{fixedType:t}=e,{elemStore:o}=s,n=`${t||"main"}-body-`,l=M.value;o[`${n}wrapper`]=M,o[`${n}table`]=N,o[`${n}colgroup`]=L,o[`${n}list`]=A,o[`${n}xSpace`]=P,o[`${n}ySpace`]=F,o[`${n}emptyBlock`]=V,l.onscroll=G,l._onscroll=G}))})),(0,g.onBeforeUnmount)((()=>{const e=M.value;clearTimeout(K),e._onscroll=null,e.onscroll=null})),(0,g.onUnmounted)((()=>{const{fixedType:t}=e,{elemStore:o}=s,n=`${t||"main"}-body-`;o[`${n}wrapper`]=null,o[`${n}table`]=null,o[`${n}colgroup`]=null,o[`${n}list`]=null,o[`${n}xSpace`]=null,o[`${n}ySpace`]=null,o[`${n}emptyBlock`]=null}));const ae=()=>{let{fixedColumn:o,fixedType:a,tableColumn:u}=e;const{keyboardConfig:d,showOverflow:p,spanMethod:f,mouseConfig:m}=l,{tableData:h,mergeList:v,scrollYLoad:w,isAllOverflow:T}=i,{visibleColumn:E}=s,{slots:S}=r,R=b.value,k=y.value,O=C.value,$=x.value;let I;if(a&&(u=w||(p?T:p)?v.length||f||d&&O.isMerge?E:o:E),S.empty)I=t.callSlot(S.empty,{$table:t});else{const e=k.name?Lt.renderer.get(k.name):null,o=e?e.renderEmpty:null;I=o?Re(o(k,{$table:t})):l.emptyText||c.i18n("vxe.table.emptyText")}return(0,g.h)("div",{ref:M,class:["vxe-table--body-wrapper",a?`fixed-${a}--wrapper`:"body--wrapper"],xid:n,..."wheel"===R.mode?{onWheel:le}:{}},[a?(0,g.createCommentVNode)():(0,g.h)("div",{ref:P,class:"vxe-body--x-space"}),(0,g.h)("div",{ref:F,class:"vxe-body--y-space"}),(0,g.h)("table",{ref:N,class:"vxe-table--body",xid:n,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("colgroup",{ref:L},u.map(((e,t)=>(0,g.h)("col",{name:e.id,key:t})))),(0,g.h)("tbody",{ref:A},U(a,h,u))]),(0,g.h)("div",{class:"vxe-table--checkbox-range"}),m&&$.area?(0,g.h)("div",{class:"vxe-table--cell-area"},[(0,g.h)("span",{class:"vxe-table--cell-main-area"},$.extension?[(0,g.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){t.triggerCellExtendMousedownEvent(e,{$table:t,fixed:a,type:Xr})}})]:[]),(0,g.h)("span",{class:"vxe-table--cell-copy-area"}),(0,g.h)("span",{class:"vxe-table--cell-extend-area"}),(0,g.h)("span",{class:"vxe-table--cell-multi-area"}),(0,g.h)("span",{class:"vxe-table--cell-active-area"})]):null,a?null:(0,g.h)("div",{class:"vxe-table--empty-block",ref:V},[(0,g.h)("div",{class:"vxe-table--empty-content"},I)])])};return ae}});const Zr=(e,t)=>{const o=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(o.push(e),o.push(...Zr(e.children,e))):o.push(e))})),o},Jr=e=>{let t=1;const o=(e,n)=>{if(n&&(e.level=n.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((n=>{n.visible&&(o(n,e),t+=n.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,o(e)}));const n=[];for(let r=0;r<t;r++)n.push([]);const l=Zr(e);return l.forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,n[e.level-1].push(e)})),n},Qr="header";var ea=(0,g.defineComponent)({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=(0,g.inject)("$xetable",{}),{xID:o,props:n,reactData:l,internalData:r}=t,{refElem:i,refTableBody:s,refLeftContainer:c,refRightContainer:u,refCellResizeBar:d}=t.getRefMaps(),{computeColumnOpts:p}=t.getComputeMaps(),f=(0,g.ref)([]),m=(0,g.ref)(),h=(0,g.ref)(),v=(0,g.ref)(),x=(0,g.ref)(),b=(0,g.ref)(),w=(0,g.ref)(),y=()=>{const{isGroup:t}=l;f.value=t?Jr(e.tableGroupColumn):[]},C=(o,n)=>{const{column:l}=n,{fixedType:a}=e,p=s.value,f=c.value,h=u.value,g=d.value,{clientX:v}=o,x=m.value,b=o.target,w=n.cell=b.parentNode;let y=0;const C=p.$el,T=Y(b,x),E=b.clientWidth,S=Math.floor(E/2),R=me(n)-S;let k=T.left-w.clientWidth+E+R,O=T.left+S;const $=document.onmousemove,I=document.onmouseup,M="left"===a,D="right"===a,N=i.value;let L=0;if(M||D){const e=M?"nextElementSibling":"previousElementSibling";let t=w[e];while(t){if(F(t,"fixed--hidden"))break;F(t,"col--group")||(L+=t.offsetWidth),t=t[e]}D&&h&&(O=h.offsetLeft+L)}const A=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-v;let o=O+t;const n=a?0:C.scrollLeft;M?o=Math.min(o,(h?h.offsetLeft:C.clientWidth)-L-R):D?(k=(f?f.clientWidth:0)+L+R,o=Math.min(o,O+w.clientWidth-R)):k=Math.max(C.scrollLeft,k),y=Math.max(o,k),g.style.left=y-n+"px"};r._isResize=!0,j(N,"drag--resize"),g.style.display="block",document.onmousemove=A,document.onmouseup=function(e){document.onmousemove=$,document.onmouseup=I;const o=l.renderWidth+(D?O-y:y-O);l.resizeWidth=o,g.style.display="none",r._isResize=!1,r._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then((()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",{...n,resizeWidth:o},e)})),V(N,"drag--resize")},A(o),t.closeMenu&&t.closeMenu()};(0,g.watch)((()=>e.tableColumn),y),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{fixedType:o}=e,{internalData:n}=t,{elemStore:l}=n,r=`${o||"main"}-header-`;l[`${r}wrapper`]=m,l[`${r}table`]=h,l[`${r}colgroup`]=v,l[`${r}list`]=x,l[`${r}xSpace`]=b,l[`${r}repair`]=w,y()}))})),(0,g.onUnmounted)((()=>{const{fixedType:o}=e,{internalData:n}=t,{elemStore:l}=n,r=`${o||"main"}-header-`;l[`${r}wrapper`]=null,l[`${r}table`]=null,l[`${r}colgroup`]=null,l[`${r}list`]=null,l[`${r}xSpace`]=null,l[`${r}repair`]=null}));const T=()=>{const{fixedType:i,fixedColumn:s,tableColumn:c}=e,{resizable:u,border:d,columnKey:y,headerRowClassName:T,headerCellClassName:E,headerRowStyle:S,headerCellStyle:R,showHeaderOverflow:k,headerAlign:O,align:$,mouseConfig:I}=n,{isGroup:M,currentColumn:D,scrollXLoad:N,overflowX:L,scrollbarWidth:A}=l,{visibleColumn:P}=r,F=p.value;let V=f.value,j=c;return M?j=P:(i&&(N||k)&&(j=s),V=[j]),(0,g.h)("div",{ref:m,class:["vxe-table--header-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:o},[i?(0,g.createCommentVNode)():(0,g.h)("div",{ref:b,class:"vxe-body--x-space"}),(0,g.h)("table",{ref:h,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("colgroup",{ref:v},j.map(((e,t)=>(0,g.h)("col",{name:e.id,key:t}))).concat(A?[(0,g.h)("col",{name:"col_gutter"})]:[])),(0,g.h)("thead",{ref:x},V.map(((e,o)=>(0,g.h)("tr",{class:["vxe-header--row",T?a().isFunction(T)?T({$table:t,$rowIndex:o,fixed:i,type:Qr}):T:""],style:S?a().isFunction(S)?S({$table:t,$rowIndex:o,fixed:i,type:Qr}):S:null},e.map(((n,l)=>{const{type:r,showHeaderOverflow:s,headerAlign:c,align:p,headerClassName:f}=n,m=n.children&&n.children.length,h=i?n.fixed!==i&&!m:!!n.fixed&&L,v=a().isUndefined(s)||a().isNull(s)?k:s,x=c||p||O||$;let b="ellipsis"===v;const w="title"===v,T=!0===v||"tooltip"===v;let S=w||T||b;const M=n.filters&&n.filters.some((e=>e.checked)),A=t.getColumnIndex(n),P=t.getVTColumnIndex(n),V={$table:t,$grid:t.xegrid,$rowIndex:o,column:n,columnIndex:A,$columnIndex:l,_columnIndex:P,fixed:i,type:Qr,isHidden:h,hasFilter:M},j={onClick:e=>t.triggerHeaderCellClickEvent(e,V),onDblclick:e=>t.triggerHeaderCellDblclickEvent(e,V)};return N&&!S&&(b=S=!0),I&&(j.onMousedown=e=>t.triggerHeaderCellMousedownEvent(e,V)),(0,g.h)("th",{class:["vxe-header--column",n.id,{[`col--${x}`]:x,[`col--${r}`]:r,"col--last":l===e.length-1,"col--fixed":n.fixed,"col--group":m,"col--ellipsis":S,"fixed--hidden":h,"is--sortable":n.sortable,"col--filter":!!n.filters,"is--filter-active":M,"col--current":D===n},f?a().isFunction(f)?f(V):f:"",E?a().isFunction(E)?E(V):E:""],colid:n.id,colspan:n.colSpan>1?n.colSpan:null,rowspan:n.rowSpan>1?n.rowSpan:null,style:R?a().isFunction(R)?R(V):R:null,...j,key:y||F.useKey||m?n.id:l},[(0,g.h)("div",{class:["vxe-cell",{"c--title":w,"c--tooltip":T,"c--ellipsis":b}]},n.renderHeader(V)),h||m||!(a().isBoolean(n.resizable)?n.resizable:F.resizable||u)?null:(0,g.h)("div",{class:["vxe-resizable",{"is--line":!d||"none"===d}],onMousedown:e=>C(e,V)})])})).concat(A?[(0,g.h)("th",{class:"vxe-header--gutter col--gutter"})]:[])))))]),(0,g.h)("div",{ref:w,class:"vxe-table--header-border-line"})])};return T}});const ta=Object.assign(ea,{install(e){e.component(ea.name,ea)}});Bt.component(ea.name,ea);var oa=ta;const na="footer";function la(e,t,o){for(let n=0;n<e.length;n++){const{row:l,col:r,rowspan:a,colspan:i}=e[n];if(r>-1&&l>-1&&a&&i){if(l===t&&r===o)return{rowspan:a,colspan:i};if(t>=l&&t<l+a&&o>=r&&o<r+i)return{rowspan:0,colspan:0}}}}var ra=(0,g.defineComponent)({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=(0,g.inject)("$xetable",{}),{xID:o,props:n,reactData:l,internalData:r}=t,{refTableHeader:i,refTableBody:s,refValidTooltip:c}=t.getRefMaps(),{computeTooltipOpts:u,computeColumnOpts:d}=t.getComputeMaps(),p=(0,g.ref)(),f=(0,g.ref)(),m=(0,g.ref)(),h=(0,g.ref)(),v=(0,g.ref)(),x=o=>{const{fixedType:n}=e,{scrollXLoad:a}=l,{lastScrollLeft:u}=r,d=c.value,f=i.value,m=s.value,h=f?f.$el:null,g=p.value,v=m.$el,x=g.scrollLeft,b=x!==u;r.lastScrollLeft=x,r.lastScrollTime=Date.now(),h&&(h.scrollLeft=x),v&&(v.scrollLeft=x),a&&b&&t.triggerScrollXEvent(o),b&&d&&d.reactData.visible&&d.updatePlacement(),t.dispatchEvent("scroll",{type:na,fixed:n,scrollTop:v.scrollTop,scrollLeft:x,isX:b,isY:!1},o)};(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{fixedType:t}=e,{elemStore:o}=r,n=`${t||"main"}-footer-`;o[`${n}wrapper`]=p,o[`${n}table`]=f,o[`${n}colgroup`]=m,o[`${n}list`]=h,o[`${n}xSpace`]=v}))})),(0,g.onUnmounted)((()=>{const{fixedType:t}=e,{elemStore:o}=r,n=`${t||"main"}-footer-`;o[`${n}wrapper`]=null,o[`${n}table`]=null,o[`${n}colgroup`]=null,o[`${n}list`]=null,o[`${n}xSpace`]=null}));const b=()=>{let{fixedType:i,fixedColumn:s,tableColumn:c,footerTableData:b}=e;const{footerRowClassName:w,footerCellClassName:y,footerRowStyle:C,footerCellStyle:T,footerAlign:E,footerSpanMethod:S,align:R,columnKey:k,showFooterOverflow:O}=n,{visibleColumn:$}=r,{scrollXLoad:I,overflowX:M,scrollbarWidth:N,currentColumn:L,mergeFooterList:A}=l,P=u.value,F=d.value;return i&&(c=I||O?A.length&&S?$:s:$),(0,g.h)("div",{ref:p,class:["vxe-table--footer-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:o,onScroll:x},[i?(0,g.createCommentVNode)():(0,g.h)("div",{ref:v,class:"vxe-body--x-space"}),(0,g.h)("table",{ref:f,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0},[(0,g.h)("colgroup",{ref:m},c.map(((e,t)=>(0,g.h)("col",{name:e.id,key:t}))).concat(N?[(0,g.h)("col",{name:"col_gutter"})]:[])),(0,g.h)("tfoot",{ref:h},b.map(((e,o)=>{const n=o;return(0,g.h)("tr",{class:["vxe-footer--row",w?a().isFunction(w)?w({$table:t,_rowIndex:o,$rowIndex:n,fixed:i,type:na}):w:""],style:C?a().isFunction(C)?C({$table:t,_rowIndex:o,$rowIndex:n,fixed:i,type:na}):C:null},c.map(((l,r)=>{const{type:s,showFooterOverflow:u,footerAlign:d,align:p,footerClassName:f}=l,m=P.showAll,h=l.children&&l.children.length,v=i?l.fixed!==i&&!h:l.fixed&&M,x=a().isUndefined(u)||a().isNull(u)?O:u,w=d||p||E||R;let C="ellipsis"===x;const $="title"===x,N=!0===x||"tooltip"===x;let V=$||N||C;const j={colid:l.id},_={},H=t.getColumnIndex(l),B=t.getVTColumnIndex(l),z=B,W={$table:t,$grid:t.xegrid,_rowIndex:o,$rowIndex:n,column:l,columnIndex:H,$columnIndex:r,_columnIndex:B,itemIndex:z,items:e,fixed:i,type:na,data:b};if(I&&!V&&(C=V=!0),($||N||m)&&(_.onMouseenter=e=>{$?q(e.currentTarget,l):(N||m)&&t.triggerFooterTooltipEvent(e,W)}),(N||m)&&(_.onMouseleave=e=>{(N||m)&&t.handleTargetLeaveEvent(e)}),_.onClick=e=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},W),e)},_.onDblclick=e=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},W),e)},A.length){const e=la(A,o,B);if(e){const{rowspan:t,colspan:o}=e;if(!t||!o)return null;t>1&&(j.rowspan=t),o>1&&(j.colspan=o)}}else if(S){const{rowspan:e=1,colspan:t=1}=S(W)||{};if(!e||!t)return null;e>1&&(j.rowspan=e),t>1&&(j.colspan=t)}return(0,g.h)("td",{class:["vxe-footer--column",l.id,{[`col--${w}`]:w,[`col--${s}`]:s,"col--last":r===c.length-1,"fixed--hidden":v,"col--ellipsis":V,"col--current":L===l},D(f,W),D(y,W)],...j,style:T?a().isFunction(T)?T(W):T:null,..._,key:k||F.useKey?l.id:r},[(0,g.h)("div",{class:["vxe-cell",{"c--title":$,"c--tooltip":N,"c--ellipsis":C}]},l.renderFooter(W))])})).concat(N?[(0,g.h)("td",{class:"vxe-footer--gutter col--gutter"})]:[]))})))])])};return b}});const aa=Object.assign(ra,{install(e){e.component(ra.name,ra)}});Bt.component(ra.name,ra);var ia=aa;const sa=M["-webkit"]&&!M.edge,ca="VXE_TABLE_CUSTOM_COLUMN_WIDTH",ua="VXE_TABLE_CUSTOM_COLUMN_VISIBLE";var da=(0,g.defineComponent)({name:"VxeTable",props:Zn,emits:Jn,setup(e,t){const{slots:o,emit:n}=t,l=Lt.tooltip,r=a().uniqueId(),i=uo(e),s=(0,g.getCurrentInstance)(),u=(0,g.reactive)({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selection:[],currentRow:null,currentColumn:null,selectRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandeds:[],expandLazyLoadeds:[],treeExpandeds:[],treeLazyLoadeds:[],treeIndeterminates:[],mergeList:[],mergeFooterList:[],initStore:{filter:!1,import:!1,export:!1},filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},insertList:[],removeList:[]},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:null},validStore:{visible:!1,row:null,column:null,content:"",rule:null,isArrow:!1},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1}}),d={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,lastScrollTime:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},tableFullData:[],afterFullData:[],tableFullTreeData:[],afterTreeFullData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let m={},h={};const v=(0,g.ref)(),x=(0,g.ref)(),b=(0,g.ref)(),y=(0,g.ref)(),C=(0,g.ref)(),$=(0,g.ref)(),I=(0,g.ref)(),D=(0,g.ref)(),N=(0,g.ref)(),L=(0,g.ref)(),_=(0,g.ref)(),H=(0,g.ref)(),q=(0,g.ref)(),Y=(0,g.ref)(),X=(0,g.ref)(),G=(0,g.ref)(),K=(0,g.ref)(),Z=(0,g.ref)(),J=(0,g.ref)(),te=(0,g.inject)("$xegrid",null);let ie;const se=(0,g.computed)((()=>Object.assign({},c.table.validConfig,e.validConfig))),ce=(0,g.computed)((()=>Object.assign({},c.table.scrollX,e.scrollX))),ue=(0,g.computed)((()=>Object.assign({},c.table.scrollY,e.scrollY))),me=(0,g.computed)((()=>({default:48,medium:44,small:40,mini:36}))),he=(0,g.computed)((()=>Object.assign({},c.table.columnConfig,e.columnConfig))),ge=(0,g.computed)((()=>Object.assign({},c.table.rowConfig,e.rowConfig))),ve=(0,g.computed)((()=>Object.assign({},c.table.resizeConfig,e.resizeConfig))),xe=(0,g.computed)((()=>Object.assign({},c.table.resizableConfig,e.resizableConfig))),be=(0,g.computed)((()=>Object.assign({startIndex:0},c.table.seqConfig,e.seqConfig))),we=(0,g.computed)((()=>Object.assign({},c.table.radioConfig,e.radioConfig))),ye=(0,g.computed)((()=>Object.assign({},c.table.checkboxConfig,e.checkboxConfig)));let Se=(0,g.ref)();Se=(0,g.computed)((()=>Object.assign({},c.tooltip,c.table.tooltipConfig,e.tooltipConfig)));const ke=(0,g.computed)((()=>{const{tooltipStore:e}=u,t=Se.value;return{...t,...e.currOpts}})),Oe=(0,g.computed)((()=>{const e=Se.value;return Object.assign({isArrow:!1},e)})),$e=(0,g.computed)((()=>Object.assign({},c.table.editConfig,e.editConfig))),Ie=(0,g.computed)((()=>Object.assign({orders:["asc","desc",null]},c.table.sortConfig,e.sortConfig))),Me=(0,g.computed)((()=>Object.assign({},c.table.filterConfig,e.filterConfig))),De=(0,g.computed)((()=>Object.assign({},c.table.mouseConfig,e.mouseConfig))),Ne=(0,g.computed)((()=>Object.assign({},c.table.areaConfig,e.areaConfig))),Le=(0,g.computed)((()=>Object.assign({},c.table.keyboardConfig,e.keyboardConfig))),Ae=(0,g.computed)((()=>Object.assign({},c.table.clipConfig,e.clipConfig))),Pe=(0,g.computed)((()=>Object.assign({},c.table.fnrConfig,e.fnrConfig))),Fe=(0,g.computed)((()=>Object.assign({},c.table.menuConfig,e.menuConfig))),Ve=(0,g.computed)((()=>{const e=Fe.value,t=e.header;return t&&t.options?t.options:[]})),je=(0,g.computed)((()=>{const e=Fe.value,t=e.body;return t&&t.options?t.options:[]})),_e=(0,g.computed)((()=>{const e=Fe.value,t=e.footer;return t&&t.options?t.options:[]})),He=(0,g.computed)((()=>{const t=Fe.value,o=Ve.value,n=je.value,l=_e.value;return!!(e.menuConfig&&w(t)&&(o.length||n.length||l.length))})),Be=(0,g.computed)((()=>{const{ctxMenuStore:e}=u,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),ze=(0,g.computed)((()=>Object.assign({},c.table.exportConfig,e.exportConfig))),We=(0,g.computed)((()=>Object.assign({},c.table.importConfig,e.importConfig))),qe=(0,g.computed)((()=>Object.assign({},c.table.printConfig,e.printConfig))),Ue=(0,g.computed)((()=>Object.assign({},c.table.expandConfig,e.expandConfig))),Ye=(0,g.computed)((()=>Object.assign({},c.table.treeConfig,e.treeConfig))),Xe=(0,g.computed)((()=>Object.assign({},c.table.emptyRender,e.emptyRender))),Ge=(0,g.computed)((()=>Object.assign({},c.table.loadingConfig,e.loadingConfig))),Ke=(0,g.computed)((()=>e.border?Math.max(2,Math.ceil(u.scrollbarWidth/u.tableColumn.length)):1)),Ze=(0,g.computed)((()=>Object.assign({},c.table.customConfig,e.customConfig))),Je=(0,g.computed)((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),Qe=(0,g.computed)((()=>{const{treeConfig:t}=e,{tableData:o}=u,{tableFullData:n}=d,l=ye.value,{strict:r,checkMethod:a}=l;return!!r&&(!o.length&&!n.length||!!a&&n.every((e=>!a({row:e}))))})),et={refElem:v,refTooltip:x,refValidTooltip:y,refTableFilter:C,refTableMenu:$,refTableHeader:I,refTableBody:D,refTableFooter:N,refTableLeftHeader:L,refTableLeftBody:_,refTableLeftFooter:H,refTableRightHeader:q,refTableRightBody:Y,refTableRightFooter:X,refLeftContainer:G,refRightContainer:K,refCellResizeBar:Z},tt={computeSize:i,computeValidOpts:se,computeSXOpts:ce,computeSYOpts:ue,computeColumnOpts:he,computeRowOpts:ge,computeResizeleOpts:ve,computeResizableOpts:xe,computeSeqOpts:be,computeRadioOpts:we,computeCheckboxOpts:ye,computeTooltipOpts:Se,computeEditOpts:$e,computeSortOpts:Ie,computeFilterOpts:Me,computeMouseOpts:De,computeAreaOpts:Ne,computeKeyboardOpts:Le,computeClipOpts:Ae,computeFNROpts:Pe,computeHeaderMenu:Ve,computeBodyMenu:je,computeFooterMenu:_e,computeIsMenu:He,computeMenuOpts:Fe,computeExportOpts:ze,computeImportOpts:We,computePrintOpts:qe,computeExpandOpts:Ue,computeTreeOpts:Ye,computeEmptyOpts:Xe,computeLoadingOpts:Ge,computeCustomOpts:Ze,computeIsAllCheckboxDisabled:Qe},ot={xID:r,props:e,context:t,instance:s,reactData:u,internalData:d,getRefMaps:()=>et,getComputeMaps:()=>tt,xegrid:te},nt=(e,t,o)=>{const n=a().get(e,o),l=a().get(t,o);return!(!O(n)||!O(l))||(a().isString(n)||a().isNumber(n)?""+n===""+l:a().isEqual(n,l))},lt=e=>{const t=Ie.value,{orders:o}=t,n=e.order||null,l=o.indexOf(n)+1;return o[l<o.length?l:0]},rt=e=>{const t=c.version,o=a().toStringJSON(localStorage.getItem(e)||"");return o&&o._v===t?o:{_v:t}},at=e=>{const{fullAllDataRowIdData:t}=d;return e.filter((e=>{const o=re(ot,e);return!!t[o]}))},it=e=>{const{fullDataRowIdData:t}=d,o=[];return a().each(e,((e,n)=>{t[n]&&-1===ot.findRowIndexOf(o,t[n].row)&&o.push(t[n].row)})),o},st=()=>{const{visibleColumn:e}=d,t=D.value,o=t?t.$el:null;if(o){const{scrollLeft:t,clientWidth:n}=o,l=t+n;let r=-1,a=0,i=0;for(let o=0,s=e.length;o<s;o++)if(a+=e[o].renderWidth,-1===r&&t<a&&(r=o),r>=0&&(i++,a>l))break;return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(8,i)}}return{toVisibleIndex:0,visibleSize:8}},ct=()=>{const e=I.value,t=D.value,o=t?t.$el:null,n=i.value,l=me.value;if(o){const t=e?e.$el:null;let r,a=0;r=o.querySelector("tr"),!r&&t&&(r=t.querySelector("tr")),r&&(a=r.clientHeight),a||(a=l[n||"default"]);const i=Math.max(8,Math.ceil(o.clientHeight/a)+2);return{rowHeight:a,visibleSize:i}}return{rowHeight:0,visibleSize:8}},ut=(e,t,o)=>{for(let n=0,l=e.length;n<l;n++){const l=e[n],{startIndex:r,endIndex:a}=t,i=l[o],s=l[o+"span"],c=i+s;i<r&&r<c&&(t.startIndex=i),i<a&&a<c&&(t.endIndex=c),t.startIndex===r&&t.endIndex===a||(n=-1)}},dt=(t,o,n)=>{if(t){const{treeConfig:l}=e,{visibleColumn:r}=d;a().isArray(t)||(t=[t]),l&&t.length&&f("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:l,rowspan:i,colspan:s}=e;if(n&&a().isNumber(t)&&(t=n[t]),a().isNumber(l)&&(l=r[l]),(n?t:a().isNumber(t))&&l&&(i||s)&&(i=a().toNumber(i)||1,s=a().toNumber(s)||1,i>1||s>1)){const e=a().findIndexOf(o,(e=>(e._row===t||re(ot,e._row)===re(ot,t))&&(e._col.id===l||e._col.id===l.id))),r=o[e];if(r)r.rowspan=i,r.colspan=s,r._rowspan=i,r._colspan=s;else{const e=n?ot.findRowIndexOf(n,t):t,r=m.getVTColumnIndex(l);o.push({row:e,col:r,rowspan:i,colspan:s,_row:t,_col:l,_rowspan:i,_colspan:s})}}}))}},pt=(t,o,n)=>{const l=[];if(t){const{treeConfig:r}=e,{visibleColumn:i}=d;a().isArray(t)||(t=[t]),r&&t.length&&f("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:r}=e;n&&a().isNumber(t)&&(t=n[t]),a().isNumber(r)&&(r=i[r]);const s=a().findIndexOf(o,(e=>(e._row===t||re(ot,e._row)===re(ot,t))&&(e._col.id===r||e._col.id===r.id)));if(s>-1){const e=o.splice(s,1);l.push(e[0])}}))}return l},ft=()=>{const{tableFullColumn:e}=d;e.forEach((e=>{e.order=null}))},mt=t=>{const{parentHeight:o}=u,n=e[t];let l=0;if(n)if("auto"===n)l=o;else{const e=ot.getExcludeHeight();l=P(n)?Math.floor((a().toInteger(n)||1)/100*o):a().toNumber(n),l=Math.max(40,l-e)}return l},ht=()=>{const{id:t,customConfig:o}=e,{collectColumn:n}=d,l=Ze.value,{storage:r}=l,i=!0===r||r&&r.resizable,s=!0===r||r&&r.visible;if(o&&(i||s)){const e={};if(!t)return void f("vxe.error.reqProp",["id"]);if(i){const o=rt(ca)[t];o&&a().each(o,((t,o)=>{e[o]={field:o,resizeWidth:t}}))}if(s){const o=rt(ua)[t];if(o){const t=o.split("|"),n=t[0]?t[0].split(","):[],l=t[1]?t[1].split(","):[];n.forEach((t=>{e[t]?e[t].visible=!1:e[t]={field:t,visible:!1}})),l.forEach((t=>{e[t]?e[t].visible=!0:e[t]={field:t,visible:!0}}))}}const o={};a().eachTree(n,(e=>{const t=e.getKey();t&&(o[t]=e)})),a().each(e,(({visible:e,resizeWidth:t},n)=>{const l=o[n];l&&(a().isNumber(t)&&(l.resizeWidth=t),a().isBoolean(e)&&(l.visible=e))}))}},gt=()=>{const{tableFullColumn:t,collectColumn:o}=d,n=d.fullColumnIdData={},l=d.fullColumnFieldData={},r=De.value,i=o.some(S);let s,c,m,h,g,v=!!e.showOverflow;const x=(e,t,o,r,a)=>{const{id:i,field:u,fixed:d,type:x,treeNode:b}=e,w={column:e,colid:i,index:t,items:o,parent:a};u&&(l[u]&&p("vxe.error.colRepet",["field",u]),l[u]=w),!g&&d&&(g=d),b?(c&&p("vxe.error.colRepet",["tree-node",b]),c||(c=e)):"expand"===x&&(s&&p("vxe.error.colRepet",["type",x]),s||(s=e)),"checkbox"===x?(m&&p("vxe.error.colRepet",["type",x]),m||(m=e)):"radio"===x&&(h&&p("vxe.error.colRepet",["type",x]),h||(h=e)),v&&!1===e.showOverflow&&(v=!1),n[i]&&f("vxe.error.colRepet",["colId",i]),n[i]=w};i?a().eachTree(o,((e,t,o,n,l,r)=>{e.level=r.length,x(e,t,o,n,l)})):t.forEach(x),s&&r.area&&f("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),u.isGroup=i,u.treeNodeColumn=c,u.expandColumn=s,u.isAllOverflow=v},vt=()=>{d.customHeight=mt("height"),d.customMaxHeight=mt("maxHeight")},xt=()=>{const t=I.value,o=D.value,n=N.value,l=o?o.$el:null,r=t?t.$el:null,i=n?n.$el:null;if(!l)return;let s=0;const c=40,p=l.clientWidth-1;let f=p,m=f/100;const{fit:v}=e,{columnStore:x}=u,{resizeList:b,pxMinList:w,pxList:y,scaleList:C,scaleMinList:T,autoList:E}=x;if(w.forEach((e=>{const t=a().toInteger(e.minWidth);s+=t,e.renderWidth=t})),T.forEach((e=>{const t=Math.floor(a().toInteger(e.minWidth)*m);s+=t,e.renderWidth=t})),C.forEach((e=>{const t=Math.floor(a().toInteger(e.width)*m);s+=t,e.renderWidth=t})),y.forEach((e=>{const t=a().toInteger(e.width);s+=t,e.renderWidth=t})),b.forEach((e=>{const t=a().toInteger(e.resizeWidth);s+=t,e.renderWidth=t})),f-=s,m=f>0?Math.floor(f/(T.length+w.length+E.length)):0,v?f>0&&T.concat(w).forEach((e=>{s+=m,e.renderWidth+=m})):m=c,E.forEach((e=>{const t=Math.max(m,c);e.renderWidth=t,s+=t})),v){const e=C.concat(T).concat(w).concat(E);let t=e.length-1;if(t>0){let o=p-s;if(o>0){while(o>0&&t>=0)o--,e[t--].renderWidth++;s=p}}}const S=l.offsetHeight,R=l.scrollHeight>l.clientHeight;let k=0;R&&(k=Math.max(l.offsetWidth-l.clientWidth,0)),u.scrollbarWidth=k,u.overflowY=R,d.tableWidth=s,d.tableHeight=S;let O=0;r&&(O=r.clientHeight,(0,g.nextTick)((()=>{r&&l&&r.scrollLeft!==l.scrollLeft&&(r.scrollLeft=l.scrollLeft)}))),d.headerHeight=O;let $=!1,M=0,L=0;i?(M=i.offsetHeight,$=s>i.clientWidth,$&&(L=Math.max(M-i.clientHeight,0))):($=s>p,$&&(L=Math.max(S-l.clientHeight,0))),d.footerHeight=M,u.overflowX=$,u.scrollbarHeight=L,vt(),u.parentHeight=Math.max(d.headerHeight+M+20,h.getParentHeight()),$&&h.checkScrolling()},bt=e=>{const{sortBy:t,sortType:o}=e;return n=>{let l;return l=t?a().isFunction(t)?t({row:n,column:e}):a().get(n,t):h.getCellLabel(n,e),o&&"auto"!==o?"number"===o?a().toNumber(l):"string"===o?a().toValueString(l):l:isNaN(l)?l:a().toNumber(l)}},wt=()=>{const{treeConfig:t}=e,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:l}=d,{afterTreeFullData:r}=d,i=Ye.value;t?a().eachTree(r,((e,t,o,r)=>{const a=re(ot,e),i=l[a],s=r.map(((e,t)=>t%2===0?Number(e)+1:".")).join("");if(i)i.seq=s,i._index=t;else{const o={row:e,rowid:a,seq:s,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};l[a]=o,n[a]=o}}),{children:i.transform?i.mapChildren:i.children}):o.forEach(((e,t)=>{const o=re(ot,e),r=l[o],a=t+1;if(r)r.seq=a,r._index=t;else{const r={row:e,rowid:o,seq:a,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};l[o]=r,n[o]=r}}))},yt=()=>{const{treeConfig:t}=e,{treeExpandeds:o}=u,n=Ye.value;if(t&&n.transform){const e=[],t=new Map;return a().eachTree(d.afterTreeFullData,((n,l,r,a,i)=>{(!i||t.has(i)&&ot.findRowIndexOf(o,i)>-1)&&(t.set(n,1),e.push(n))}),{children:n.mapChildren}),d.afterFullData=e,oo(e),e}return d.afterFullData},Ct=()=>{const{treeConfig:t}=e,{tableFullColumn:o,tableFullData:n,tableFullTreeData:l}=d,r=Me.value,i=Ie.value,s=Ye.value,{transform:c}=s,{remote:u,filterMethod:p}=r,{remote:f,sortMethod:m,multiple:h,chronological:g}=i;let v=[],x=[];if(u&&f)t&&c?(x=a().searchTree(l,(()=>!0),{...s,original:!0}),v=x):(v=t?l.slice(0):n.slice(0),x=v);else{const e=[];let r=[];if(o.forEach((t=>{const{field:o,sortable:n,order:l,filters:a}=t;if(!u&&a&&a.length){const o=[],n=[];a.forEach((e=>{e.checked&&(n.push(e),o.push(e.value))})),n.length&&e.push({column:t,valueList:o,itemList:n})}!f&&n&&l&&r.push({column:t,field:o,property:o,order:l,sortTime:t.sortTime})})),h&&g&&r.length>1&&(r=a().orderBy(r,"sortTime")),!u&&e.length){const o=t=>e.every((({column:e,valueList:o,itemList:n})=>{const{filterMethod:l,filterRender:r}=e,i=r?Lt.renderer.get(r.name):null,s=i?i.filterMethod:null,c=i?i.defaultFilterMethod:null,u=pe(t,e);return l?n.some((o=>l({value:o.value,option:o,cellValue:u,row:t,column:e,$table:ot}))):s?n.some((o=>s({value:o.value,option:o,cellValue:u,row:t,column:e,$table:ot}))):p?p({options:n,values:o,cellValue:u,row:t,column:e}):c?n.some((o=>c({value:o.value,option:o,cellValue:u,row:t,column:e,$table:ot}))):o.indexOf(a().get(t,e.field))>-1}));t&&c?(x=a().searchTree(l,o,{...s,original:!0}),v=x):(v=t?l.filter(o):n.filter(o),x=v)}else t&&c?(x=a().searchTree(l,(()=>!0),{...s,original:!0}),v=x):(v=t?l.slice(0):n.slice(0),x=v);if(!f&&r.length)if(t&&c){if(m){const e=m({data:x,sortList:r,$table:ot});x=a().isArray(e)?e:x}else x=a().orderBy(x,r.map((({column:e,order:t})=>[bt(e),t])));v=x}else{if(m){const e=m({data:v,sortList:r,$table:ot});v=a().isArray(e)?e:v}else v=a().orderBy(v,r.map((({column:e,order:t})=>[bt(e),t])));x=v}}d.afterFullData=v,d.afterTreeFullData=x,wt()},Tt=()=>{const{border:t,showFooter:o,showOverflow:n,showHeaderOverflow:l,showFooterOverflow:r,mouseConfig:i,spanMethod:s,footerSpanMethod:c,keyboardConfig:p}=e,{isGroup:f,currentRow:h,tableColumn:v,scrollXLoad:x,scrollYLoad:b,scrollbarWidth:w,scrollbarHeight:y,columnStore:C,editStore:T,mergeList:E,mergeFooterList:S,isAllOverflow:R}=u;let{visibleColumn:k,fullColumnIdData:O,tableHeight:$,tableWidth:I,headerHeight:D,footerHeight:N,elemStore:L,customHeight:A,customMaxHeight:P}=d;const F=["main","left","right"],V=J.value,j=Ke.value,_=De.value,H=Le.value,B=L["main-body-wrapper"],z=B?B.value:null;return V&&(V.style.top=`${D}px`,V.style.height=z?z.offsetHeight-y+"px":""),A>0&&o&&(A+=y),F.forEach(((e,i)=>{const u=i>0?e:"",d=["header","body","footer"],h="left"===u;let g,T=[];u&&(T=h?C.leftList:C.rightList,g=h?G.value:K.value),d.forEach((i=>{const d=L[`${e}-${i}-wrapper`],C=d?d.value:null,F=L[`${e}-${i}-table`],V=F?F.value:null;if("header"===i){let o=I,n=v;f?n=k:u&&(x||l)&&(n=T),o=n.reduce(((e,t)=>e+t.renderWidth),0),V&&(V.style.width=o?`${o+w}px`:"");const r=L[`${e}-${i}-repair`],s=r?r.value:null;s&&(s.style.width=`${I}px`);const c=L[`${e}-${i}-list`],d=c?c.value:null;f&&d&&a().arrayEach(d.querySelectorAll(".col--group"),(e=>{const o=m.getColumnNode(e);if(o){const n=o.item,{showHeaderOverflow:r}=n,i=a().isBoolean(r)?r:l,s="ellipsis"===i,c="title"===i,u=!0===i||"tooltip"===i,d=c||u||s;let p=0,f=0;d&&a().eachTree(n.children,(e=>{e.children&&n.children.length||f++,p+=e.renderWidth}),{children:"children"}),e.style.width=d?p-f-(t?2:0)+"px":""}}))}else if("body"===i){const t=L[`${e}-${i}-emptyBlock`],l=t?t.value:null;Q(C)&&(P?C.style.maxHeight=(u?P-D-(o?0:y):P-D)+"px":C.style.height=A>0?(u?(A>0?A-D-N:$)-(o?0:y):A-D-N)+"px":""),g&&(Q(C)&&(C.style.top=`${D}px`),g.style.height=(A>0?A-D-N:$)+D+N-y*(o?2:1)+"px",g.style.width=`${T.reduce(((e,t)=>e+t.renderWidth),h?0:w)}px`);let r=I,a=v;u&&(a=b||(n?R:n)?E.length||s||p&&H.isMerge?k:T:k),r=a.reduce(((e,t)=>e+t.renderWidth),0),V&&(V.style.width=r?`${r}px`:"",V.style.paddingRight=w&&u&&(M["-moz"]||M.safari)?`${w}px`:""),l&&(l.style.width=r?`${r}px`:"")}else if("footer"===i){let e=I,t=v;u&&(t=x||r?S.length&&c?k:T:k),e=t.reduce(((e,t)=>e+t.renderWidth),0),Q(C)&&(g&&(C.style.top=`${A>0?A-N:$+D}px`),C.style.marginTop=-Math.max(1,y)+"px"),V&&(V.style.width=e?`${e+w}px`:"")}const _=L[`${e}-${i}-colgroup`],B=_?_.value:null;B&&a().arrayEach(B.children,(t=>{const o=t.getAttribute("name");if("col_gutter"===o&&(t.style.width=`${w}px`),O[o]){const s=O[o].column,{showHeaderOverflow:c,showFooterOverflow:u,showOverflow:d}=s;let p;t.style.width=`${s.renderWidth}px`,p="header"===i?a().isUndefined(c)||a().isNull(c)?l:c:"footer"===i?a().isUndefined(u)||a().isNull(u)?r:u:a().isUndefined(d)||a().isNull(d)?n:d;const f="ellipsis"===p,h="title"===p,g=!0===p||"tooltip"===p;let v=h||g||f;const x=L[`${e}-${i}-list`],w=x?x.value:null;b&&!v&&(v=!0),w&&a().arrayEach(w.querySelectorAll(`.${s.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),o=e.querySelector(".vxe-cell");let n=s.renderWidth;if(o){if(t>1){const e=m.getColumnIndex(s);for(let o=1;o<t;o++){const t=m.getColumns(e+o);t&&(n+=t.renderWidth)}}o.style.width=v?n-j*t+"px":""}}))}}))}))})),h&&m.setCurrentRow(h),i&&_.selected&&T.selected.row&&T.selected.column&&ot.addCellSelectedClass(),(0,g.nextTick)()},Et=e=>ot.triggerValidate?ot.triggerValidate(e):(0,g.nextTick)(),St=(e,t)=>{Et("blur").catch((e=>e)).then((()=>{ot.handleActived(t,e).then((()=>Et("change"))).catch((e=>e))}))},Rt=()=>{const{sortConfig:t}=e;if(t){const e=Ie.value;let{defaultSort:o}=e;o&&(a().isArray(o)||(o=[o]),o.length&&((t.multiple?o:o.slice(0,1)).forEach(((e,t)=>{const{field:o,order:n}=e;if(o&&n){const e=m.getColumnByField(o);e&&e.sortable&&(e.order=n,e.sortTime=Date.now()+t)}})),e.remote||h.handleTableData(!0).then(Tt)))}},kt=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=d,t=ye.value,{checkAll:o,checkRowKeys:n}=t;if(o)At(!0,!0);else if(n){const t=[];n.forEach((o=>{e[o]&&t.push(e[o].row)})),Nt(t,!0,!0)}}},Ot=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=d,t=we.value,{checkRowKey:o,reserve:n}=t;if(o&&(e[o]&&Dt(e[o].row,!0),n)){const e=le(ot);d.radioReserveRow={[e]:o}}}},$t=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=d,t=Ue.value,{expandAll:o,expandRowKeys:n}=t;if(o)m.setAllRowExpand(!0);else if(n){const t=[];n.forEach((o=>{e[o]&&t.push(e[o].row)})),m.setRowExpand(t,!0)}}},It=e=>{const t=we.value;t.reserve&&(d.radioReserveRow=e)},Mt=(e,t)=>{const{checkboxReserveRowMap:o}=d,n=ye.value;if(n.reserve){const n=re(ot,e);t?o[n]=e:o[n]&&delete o[n]}},Dt=(e,t)=>{const o=we.value,{checkMethod:n}=o;return e&&(t||!n||n({row:e}))&&(u.selectRow=e,It(e)),(0,g.nextTick)()},Nt=(e,t,o)=>(e&&!a().isArray(e)&&(e=[e]),e.forEach((e=>h.handleSelectRow({row:e},!!t,o))),(0,g.nextTick)()),At=(t,o)=>{const{treeConfig:n}=e,{selection:l}=u,{afterFullData:r,checkboxReserveRowMap:i}=d,s=Ye.value,c=ye.value,{checkField:p,reserve:f,checkStrictly:m,checkMethod:v}=c;let x=[];const b=n?[]:l.filter((e=>-1===ot.findRowIndexOf(r,e)));if(m)u.isAllSelected=t;else{if(p){const e=e=>{(o||!v||v({row:e}))&&(t&&x.push(e),a().set(e,p,t))};n?a().eachTree(r,e,s):r.forEach(e)}else n?t?a().eachTree(r,(e=>{(o||!v||v({row:e}))&&x.push(e)}),s):!o&&v&&a().eachTree(r,(e=>{!v({row:e})&&ot.findRowIndexOf(l,e)>-1&&x.push(e)}),s):t?x=!o&&v?r.filter((e=>ot.findRowIndexOf(l,e)>-1||v({row:e}))):r.slice(0):!o&&v&&(x=r.filter((e=>v({row:e})?0:ot.findRowIndexOf(l,e)>-1)));f&&(t?x.forEach((e=>{i[re(ot,e)]=e})):r.forEach((e=>Mt(e,!1)))),u.selection=p?[]:b.concat(x)}return u.treeIndeterminates=[],h.checkSelectionStatus(),(0,g.nextTick)()},Pt=()=>{const{treeConfig:t}=e,{expandColumn:o,currentRow:n,selectRow:l,selection:r,rowExpandeds:a,treeExpandeds:i}=u,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:p}=d,f=Ue.value,h=Ye.value,g=we.value,v=ye.value;if(l&&!c[re(ot,l)]&&(u.selectRow=null),g.reserve&&p){const e=re(ot,p);s[e]&&Dt(s[e].row,!0)}u.selection=at(r),v.reserve&&Nt(it(d.checkboxReserveRowMap),!0,!0),n&&!c[re(ot,n)]&&(u.currentRow=null),u.rowExpandeds=o?at(a):[],o&&f.reserve&&m.setRowExpand(it(d.rowExpandedReserveRowMap),!0),u.treeExpandeds=t?at(i):[],t&&h.reserve&&m.setTreeExpand(it(d.treeExpandedReserveRowMap),!0)},Ft=()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=d,t=Ye.value,{expandAll:o,expandRowKeys:n}=t;if(o)m.setAllTreeExpand(!0);else if(n){const o=[],l=le(ot);n.forEach((n=>{const r=a().findTree(e,(e=>n===a().get(e,l)),t);r&&o.push(r.item)})),m.setTreeExpand(o,!0)}}},Vt=e=>{const{treeExpandeds:t,treeLazyLoadeds:o}=u,{fullAllDataRowIdData:n}=d,l=Ye.value,r=ye.value,{transform:i,loadMethod:s}=l,{checkStrictly:c}=r,p=n[re(ot,e)];return new Promise((n=>{s?(o.push(e),s({$table:ot,row:e}).then((n=>{if(p.treeLoaded=!0,a().remove(o,(t=>ot.eqRow(t,e))),a().isArray(n)||(n=[]),n)return m.loadTreeChildren(e,n).then((o=>(o.length&&-1===ot.findRowIndexOf(t,e)&&t.push(e),!c&&m.isCheckedByCheckboxRow(e)&&Nt(o,!0),(0,g.nextTick)().then((()=>{if(i)return h.handleTableData()})))))})).catch((()=>{p.treeLoaded=!1,a().remove(o,(t=>ot.eqRow(t,e)))})).finally((()=>{(0,g.nextTick)().then((()=>m.recalculate())).then((()=>n()))}))):n()}))},jt=(e,t)=>{const{treeExpandedReserveRowMap:o}=d,n=Ye.value;if(n.reserve){const n=re(ot,e);t?o[n]=e:o[n]&&delete o[n]}},_t=e=>{const{fullAllDataRowIdData:t}=d;return new Promise((o=>{const n=Ue.value,{loadMethod:l}=n;if(l){const n=t[re(ot,e)];u.expandLazyLoadeds.push(e),l({$table:ot,row:e,rowIndex:m.getRowIndex(e),$rowIndex:m.getVMRowIndex(e)}).then((()=>{n.expandLoaded=!0,u.rowExpandeds.push(e)})).catch((()=>{n.expandLoaded=!1})).finally((()=>{a().remove(u.expandLazyLoadeds,(t=>ot.eqRow(t,e))),o((0,g.nextTick)().then((()=>m.recalculate())))}))}else o()}))},Ht=(e,t)=>{const{rowExpandedReserveRowMap:o}=d,n=Ue.value;if(n.reserve){const n=re(ot,e);t?o[n]=e:o[n]&&delete o[n]}},Bt=()=>{const{mergeCells:t}=e;t&&m.setMergeCells(t)},zt=()=>{const{mergeFooterItems:t}=e;t&&m.setMergeFooterItems(t)},Wt=()=>(0,g.nextTick)().then((()=>{const{scrollXLoad:e,scrollYLoad:t}=u,{scrollXStore:o,scrollYStore:n}=d,l=ue.value,r=ce.value;if(e){const{visibleSize:e}=st(),t=r.oSize?a().toNumber(r.oSize):M.edge?5:0;o.offsetSize=t,o.visibleSize=e,o.endIndex=Math.max(o.startIndex+o.visibleSize+t,o.endIndex),h.updateScrollXData()}else h.updateScrollXSpace();const{rowHeight:i,visibleSize:s}=ct();if(n.rowHeight=i,t){const e=l.oSize?a().toNumber(l.oSize):M.edge?10:0;n.offsetSize=e,n.visibleSize=s,n.endIndex=Math.max(n.startIndex+s+e,n.endIndex),h.updateScrollYData()}else h.updateScrollYSpace();u.rowHeight=i,(0,g.nextTick)(Tt)})),qt=t=>{const{keepSource:o,treeConfig:n}=e,{editStore:l,scrollYLoad:r}=u,{scrollYStore:i,scrollXStore:s,lastScrollLeft:c,lastScrollTop:v}=d,x=Ye.value,{transform:b}=x;let w=[],y=t?t.slice(0):[];n&&(b?(x.rowField||f("vxe.error.reqProp",["tree-config.rowField"]),x.parentField||f("vxe.error.reqProp",["tree-config.parentField"]),x.children||f("vxe.error.reqProp",["tree-config.children"]),x.mapChildren||f("vxe.error.reqProp",["tree-config.mapChildren"]),x.children===x.mapChildren&&f("vxe.error.errConflicts",["tree-config.children","tree-config.mapChildren"]),y.forEach((e=>{e[x.children]&&e[x.children].length&&p("vxe.error.errConflicts",["tree-config.transform",`row.${x.children}`])})),w=a().toArrayTree(y,{key:x.rowField,parentKey:x.parentField,children:x.children,mapChildren:x.mapChildren}),y=w.slice(0)):w=y.slice(0)),i.startIndex=0,i.endIndex=1,s.startIndex=0,s.endIndex=1,l.insertList=[],l.removeList=[];const C=oo(y);return u.scrollYLoad=C,d.tableFullData=y,d.tableFullTreeData=w,h.cacheRowMap(!0),d.tableSynchData=t,o&&(d.tableSourceData=a().clone(y,!0)),C&&(e.height||e.maxHeight||f("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),e.showOverflow||p("vxe.error.reqProp",["table.show-overflow"]),e.spanMethod&&p("vxe.error.scrollErrProp",["table.span-method"])),ot.clearCellAreas&&e.mouseConfig&&(ot.clearCellAreas(),ot.clearCopyCellArea()),m.clearMergeCells(),m.clearMergeFooterItems(),h.handleTableData(!0),m.updateFooter(),(0,g.nextTick)().then((()=>{vt(),Tt()})).then((()=>{Wt()})).then((()=>(C&&(i.endIndex=i.visibleSize),Pt(),h.checkSelectionStatus(),new Promise((e=>{(0,g.nextTick)().then((()=>m.recalculate())).then((()=>{let t=c,o=v;const n=ce.value,l=ue.value;n.scrollToLeftOnChange&&(t=0),l.scrollToTopOnChange&&(o=0),r===C?ee(ot,t,o).then(e):setTimeout((()=>ee(ot,t,o).then(e)))}))})))))},Ut=()=>{kt(),Ot(),$t(),Ft(),Bt(),zt(),(0,g.nextTick)((()=>setTimeout((()=>m.recalculate()))))},Xt=()=>{Rt()},Gt=()=>{const{scrollXLoad:e}=u,{visibleColumn:t,scrollXStore:o,fullColumnIdData:n}=d,l=e?t.slice(o.startIndex,o.endIndex):t.slice(0);l.forEach(((e,t)=>{const o=e.id,l=n[o];l&&(l.$index=t)})),u.tableColumn=l},Kt=()=>{const{mergeList:e,mergeFooterList:t}=u,{scrollXStore:o}=d,{startIndex:n,endIndex:l,offsetSize:r}=o,{toVisibleIndex:a,visibleSize:i}=st(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};ut(e.concat(t),s,"col");const{startIndex:c,endIndex:p}=s;(a<=n||a>=l-i-1)&&(n===c&&l===p||(o.startIndex=c,o.endIndex=p,h.updateScrollXData())),m.closeTooltip()},Jt=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?Jt(e.children):[e])})),t},eo=()=>{const t=[],o=[],n=[],{isGroup:l,columnStore:r}=u,i=ce.value,{collectColumn:s,tableFullColumn:c,scrollXStore:h,fullColumnIdData:g}=d;if(l){const e=[],l=[],r=[];a().eachTree(s,((e,l,r,i,s)=>{const c=S(e);s&&s.fixed&&(e.fixed=s.fixed),s&&e.fixed!==s.fixed&&f("vxe.error.groupFixed"),c?e.visible=!!a().findTree(e.children,(e=>!S(e)&&e.visible)):e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?n.push(e):o.push(e))})),s.forEach((t=>{t.visible&&("left"===t.fixed?e.push(t):"right"===t.fixed?r.push(t):l.push(t))})),u.tableGroupColumn=e.concat(l).concat(r)}else c.forEach((e=>{e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?n.push(e):o.push(e))}));const v=t.concat(o).concat(n),x=!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<c.length);if(u.hasFixedColumn=t.length>0||n.length>0,Object.assign(r,{leftList:t,centerList:o,rightList:n}),x){e.showHeader&&!e.showHeaderOverflow&&p("vxe.error.reqProp",["show-header-overflow"]),e.showFooter&&!e.showFooterOverflow&&p("vxe.error.reqProp",["show-footer-overflow"]),e.spanMethod&&p("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&p("vxe.error.scrollErrProp",["footer-span-method"]);const{visibleSize:t}=st();h.startIndex=0,h.endIndex=t,h.visibleSize=t}return v.length===d.visibleColumn.length&&d.visibleColumn.every(((e,t)=>e===v[t]))||(m.clearMergeCells(),m.clearMergeFooterItems()),u.scrollXLoad=x,v.forEach(((e,t)=>{const o=e.id,n=g[o];n&&(n._index=t)})),d.visibleColumn=v,Gt(),m.updateFooter().then((()=>m.recalculate())).then((()=>(m.updateCellAreas(),m.recalculate())))},to=e=>{d.collectColumn=e;const t=Jt(e);return d.tableFullColumn=t,gt(),ht(),eo().then((()=>{u.scrollXLoad&&Kt()})),m.clearMergeCells(),m.clearMergeFooterItems(),h.handleTableData(!0),(u.scrollXLoad||u.scrollYLoad)&&u.expandColumn&&p("vxe.error.scrollErrProp",["column.type=expand"]),(0,g.nextTick)().then((()=>(ie&&ie.syncUpdate({collectColumn:e,$table:ot}),m.recalculate())))},oo=t=>{const{treeConfig:o}=e,n=ue.value,l=Ye.value,{transform:r}=l,a=(r||!o)&&!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<t.length);return u.scrollYLoad=a,a},no=(e,t)=>{const{treeExpandeds:o,treeLazyLoadeds:n,treeNodeColumn:l}=u,{fullAllDataRowIdData:r,tableFullData:i}=d,s=Ye.value,{reserve:c,lazy:p,hasChild:f,children:h,accordion:g,toggleMethod:v}=s,x=[],b=m.getColumnIndex(l),w=m.getVMColumnIndex(l);let y=v?e.filter((e=>v({$table:ot,expanded:t,column:l,columnIndex:b,$columnIndex:w,row:e}))):e;if(g){y=y.length?[y[y.length-1]]:[];const e=a().findTree(i,(e=>e===y[0]),s);e&&a().remove(o,(t=>e.items.indexOf(t)>-1))}return t?y.forEach((e=>{if(-1===ot.findRowIndexOf(o,e)){const t=r[re(ot,e)],l=p&&e[f]&&!t.treeLoaded&&-1===ot.findRowIndexOf(n,e);l?x.push(Vt(e)):e[h]&&e[h].length&&o.push(e)}})):a().remove(o,(e=>ot.findRowIndexOf(y,e)>-1)),c&&y.forEach((e=>jt(e,t))),Promise.all(x).then((()=>m.recalculate()))},lo=(e,t)=>no(e,t).then((()=>(yt(),h.handleTableData()))).then((()=>m.recalculate())),ro=e=>{const{mergeList:t}=u,{scrollYStore:o}=d,{startIndex:n,endIndex:l,visibleSize:r,offsetSize:a,rowHeight:i}=o,s=e.currentTarget||e.target,c=s.scrollTop,p=Math.floor(c/i),f={startIndex:Math.max(0,p-1-a),endIndex:p+r+a};ut(t,f,"row");const{startIndex:m,endIndex:g}=f;(p<=n||p>=l-r-1)&&(n===m&&l===g||(o.startIndex=m,o.endIndex=g,h.updateScrollYData()))},ao=e=>function(t){const{fullAllDataRowIdData:o}=d;if(t){const n=re(ot,t),l=o[n];if(l)return l[e]}return-1},io=e=>function(t){const{fullColumnIdData:o}=d;if(t){const n=o[t.id];if(n)return n[e]}return-1},so=a().debounce((function(e){ro(e)}),20,{leading:!1,trailing:!0});let co;m={dispatchEvent(e,t,o){n(e,Object.assign({$table:ot,$grid:te,$event:o},t))},clearAll(){return Ce(ot)},syncData(){return(0,g.nextTick)().then((()=>(u.tableData=[],n("update:data",d.tableFullData),(0,g.nextTick)())))},updateData(){const{scrollXLoad:e,scrollYLoad:t}=u;return h.handleTableData(!0).then((()=>{if(m.updateFooter(),e||t)return e&&h.updateScrollXSpace(),t&&h.updateScrollYSpace(),m.refreshScroll()})).then((()=>(m.updateCellAreas(),m.recalculate(!0)))).then((()=>{setTimeout((()=>ot.recalculate()),50)}))},loadData(e){const{inited:t,initStatus:o}=d;return qt(e).then((()=>(d.inited=!0,d.initStatus=!0,o||Ut(),t||Xt(),m.recalculate())))},reloadData(e){const{inited:t}=d;return m.clearAll().then((()=>(d.inited=!0,d.initStatus=!0,qt(e)))).then((()=>(Ut(),t||Xt(),m.recalculate())))},reloadRow(t,o,n){const{keepSource:l}=e,{tableData:r}=u,{tableSourceData:i}=d;if(l){const e=m.getRowIndex(t),l=i[e];if(l&&t)if(n){const e=a().get(o||t,n);a().set(t,n,e),a().set(l,n,e)}else{const e=a().clone({...o},!0);a().destructuring(l,Object.assign(t,e))}u.tableData=r.slice(0)}else p("vxe.error.reqProp",["keep-source"]);return(0,g.nextTick)()},loadTreeChildren(t,o){const{keepSource:n}=e,{tableSourceData:l,fullDataRowIdData:r,fullAllDataRowIdData:i}=d,s=Ye.value,{transform:c,children:u,mapChildren:p}=s,f=i[re(ot,t)],h=f?f.level:0;return m.createData(o).then((e=>{if(n){const o=re(ot,t),n=a().findTree(l,(e=>o===re(ot,e)),s);n&&(n.item[u]=a().clone(e,!0))}return a().eachTree(e,((e,t,o,n,l,a)=>{const s=re(ot,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:o,parent:l,level:h+a.length};r[s]=c,i[s]=c}),s),t[u]=e,c&&(t[p]=e),wt(),e}))},loadColumn(e){const t=a().mapTree(e,(e=>(0,g.reactive)(zn.createColumn(ot,e))));return to(t)},reloadColumn(e){return m.clearAll().then((()=>m.loadColumn(e)))},getRowNode(e){if(e){const{fullAllDataRowIdData:t}=d,o=e.getAttribute("rowid");if(o){const e=t[o];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=d,o=e.getAttribute("colid");if(o){const e=t[o];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:ao("seq"),getRowIndex:ao("index"),getVTRowIndex:ao("_index"),getVMRowIndex:ao("$index"),getColumnIndex:io("index"),getVTColumnIndex:io("_index"),getVMColumnIndex:io("$index"),createData(t){const{treeConfig:o}=e,n=Ye.value,l=e=>(0,g.reactive)(h.defineField(e||{})),r=o?a().mapTree(t,l,n):t.map(l);return(0,g.nextTick)().then((()=>r))},createRow(e){const t=a().isArray(e);return t||(e=[e]),(0,g.nextTick)().then((()=>m.createData(e).then((e=>t?e:e[0]))))},revertData(t,o){const{keepSource:n}=e,{tableSourceData:l,tableFullData:r}=d;if(!n)return p("vxe.error.reqProp",["keep-source"]),(0,g.nextTick)();let i=t;return t?a().isArray(t)||(i=[t]):i=a().toArray(ot.getUpdateRecords()),i.length&&i.forEach((e=>{if(!m.isInsertByRow(e)){const t=ot.findRowIndexOf(r,e),n=l[t];n&&e&&(o?a().set(e,o,a().clone(a().get(n,o),!0)):a().destructuring(e,a().clone(n,!0)))}})),t?(0,g.nextTick)():m.reloadData(l)},clearData(e,t){const{tableFullData:o,visibleColumn:n}=d;return arguments.length?e&&!a().isArray(e)&&(e=[e]):e=o,t?e.forEach((e=>a().set(e,t,null))):e.forEach((e=>{n.forEach((t=>{t.field&&fe(e,t,null)}))})),(0,g.nextTick)()},isInsertByRow(e){const{editStore:t}=u;return ot.findRowIndexOf(t.insertList,e)>-1},removeInsertRow(){const{editStore:e}=u;return ot.remove(e.insertList)},isUpdateByRow(t,o){const{keepSource:n,treeConfig:l}=e,{visibleColumn:r,tableSourceData:i,fullDataRowIdData:s}=d,c=Ye.value;if(n){let e,n;const u=re(ot,t);if(!s[u])return!1;if(l){const o=c.children,n=a().findTree(i,(e=>u===re(ot,e)),c);t=Object.assign({},t,{[o]:null}),n&&(e=Object.assign({},n.item,{[o]:null}))}else{const t=s[u].index;e=i[t]}if(e){if(arguments.length>1)return!nt(e,t,o);for(let o=0,l=r.length;o<l;o++)if(n=r[o].field,n&&!nt(e,t,n))return!0}}return!1},getColumns(e){const t=d.visibleColumn;return a().isUndefined(e)?t.slice(0):t[e]},getColumnById(e){const t=d.fullColumnIdData;return t[e]?t[e].column:null},getColumnByField(e){const t=d.fullColumnFieldData;return t[e]?t[e].column:null},getTableColumn(){return{collectColumn:d.collectColumn.slice(0),fullColumn:d.tableFullColumn.slice(0),visibleColumn:d.visibleColumn.slice(0),tableColumn:u.tableColumn.slice(0)}},getData(t){const o=e.data||d.tableSynchData;return a().isUndefined(t)?o.slice(0):o[t]},getCheckboxRecords(t){const{treeConfig:o}=e,{tableFullData:n,afterFullData:l,afterTreeFullData:r,tableFullTreeData:i}=d,s=Ye.value,c=ye.value,{transform:p,children:f,mapChildren:m}=s,{checkField:h}=c;let g=[];const v=t?p?i:n:p?r:l;if(h)g=o?a().filterTree(v,(e=>a().get(e,h)),{children:p?m:f}):v.filter((e=>a().get(e,h)));else{const{selection:e}=u;g=o?a().filterTree(v,(t=>ot.findRowIndexOf(e,t)>-1),{children:p?m:f}):v.filter((t=>ot.findRowIndexOf(e,t)>-1))}return g},getParentRow(t){const{treeConfig:o}=e,{fullDataRowIdData:n}=d;if(t&&o){let e;if(e=a().isString(t)?t:re(ot,t),e)return n[e]?n[e].parent:null}return null},getRowById(e){const{fullDataRowIdData:t}=d,o=a().eqNull(e)?"":encodeURIComponent(e);return t[o]?t[o].row:null},getRowid(e){return re(ot,e)},getTableData(){const{tableData:e,footerTableData:t}=u,{tableFullData:o,afterFullData:n}=d;return{fullData:o.slice(0),visibleData:n.slice(0),tableData:e.slice(0),footerData:t.slice(0)}},hideColumn(e){const t=ae(ot,e);return t&&(t.visible=!1),h.handleCustom()},showColumn(e){const t=ae(ot,e);return t&&(t.visible=!0),h.handleCustom()},resetColumn(e){const{tableFullColumn:t}=d,o=Ze.value,{checkMethod:n}=o,l=Object.assign({visible:!0,resizable:!0===e},e);return t.forEach((e=>{l.resizable&&(e.resizeWidth=0),n&&!n({column:e})||(e.visible=e.defaultVisible)})),l.resizable&&h.saveCustomResizable(!0),h.handleCustom()},refreshColumn(){return eo().then((()=>m.refreshScroll())).then((()=>m.recalculate()))},refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=d,o=D.value,n=N.value,l=_.value,r=Y.value,a=o?o.$el:null,i=l?l.$el:null,s=r?r.$el:null,c=n?n.$el:null;return new Promise((o=>{if(e||t)return ee(ot,e,t).then(o).then((()=>{setTimeout(o,30)}));z(a,t),z(i,t),z(s,t),W(c,e),setTimeout(o,30)}))},recalculate(e){return xt(),!0===e?Wt().then((()=>(xt(),Wt()))):Wt()},openTooltip(e,t){const o=b.value;return o?o.open(e,t):(0,g.nextTick)()},closeTooltip(){const{tooltipStore:e}=u,t=x.value,o=b.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1}),t&&t.close()),o&&o.close(),(0,g.nextTick)()},isAllCheckboxChecked(){return u.isAllSelected},isAllCheckboxIndeterminate(){return!u.isAllSelected&&u.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:o}=e,{fullDataRowIdData:n}=d,{treeIndeterminates:l}=u;return o?t?l.slice(0):l.filter((e=>{const t=re(ot,e);return n[t]})):[]},setCheckboxRow(e,t){return Nt(e,t,!0)},isCheckedByCheckboxRow(e){const{selection:t}=u,o=ye.value,{checkField:n}=o;return n?a().get(e,n):ot.findRowIndexOf(t,e)>-1},isIndeterminateByCheckboxRow(e){const{treeIndeterminates:t}=u;return ot.findRowIndexOf(t,e)>-1&&!m.isCheckedByCheckboxRow(e)},toggleCheckboxRow(e){const{selection:t}=u,o=ye.value,{checkField:n}=o,l=n?!a().get(e,n):-1===ot.findRowIndexOf(t,e);return h.handleSelectRow({row:e},l,!0),(0,g.nextTick)()},setAllCheckboxRow(e){return At(e,!0)},getRadioReserveRecord(t){const{treeConfig:o}=e,{fullDataRowIdData:n,radioReserveRow:l,afterFullData:r}=d,i=we.value,s=Ye.value;if(i.reserve&&l){const e=re(ot,l);if(t){if(!n[e])return l}else{const t=le(ot);if(o){const o=a().findTree(r,(o=>e===a().get(o,t)),s);if(o)return l}else if(!r.some((o=>e===a().get(o,t))))return l}}return null},clearRadioReserve(){return d.radioReserveRow=null,(0,g.nextTick)()},getCheckboxReserveRecords(t){const{treeConfig:o}=e,{afterFullData:n,fullDataRowIdData:l,checkboxReserveRowMap:r}=d,i=ye.value,s=Ye.value,c=[];if(i.reserve){const e={};o?a().eachTree(n,(t=>{e[re(ot,t)]=1}),s):n.forEach((t=>{e[re(ot,t)]=1})),a().each(r,((o,n)=>{o&&(t?l[n]||c.push(o):e[n]||c.push(o))}))}return c},clearCheckboxReserve(){return d.checkboxReserveRowMap={},(0,g.nextTick)()},toggleAllCheckboxRow(){return h.triggerCheckAllEvent(null,!u.isAllSelected),(0,g.nextTick)()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:o}=d,n=Ye.value,l=ye.value,{checkField:r,reserve:i}=l;return r&&(t?a().eachTree(o,(e=>a().set(e,r,!1)),n):o.forEach((e=>a().set(e,r,!1)))),i&&o.forEach((e=>Mt(e,!1))),u.isAllSelected=!1,u.isIndeterminate=!1,u.selection=[],u.treeIndeterminates=[],(0,g.nextTick)()},setCurrentRow(t){const o=ge.value,n=v.value;return m.clearCurrentRow(),u.currentRow=t,(o.isCurrent||e.highlightCurrentRow)&&n&&a().arrayEach(n.querySelectorAll(`[rowid="${re(ot,t)}"]`),(e=>j(e,"row--current"))),(0,g.nextTick)()},isCheckedByRadioRow(e){return ot.eqRow(u.selectRow,e)},setRadioRow(e){return Dt(e,!0)},clearCurrentRow(){const e=v.value;return u.currentRow=null,d.hoverRow=null,e&&a().arrayEach(e.querySelectorAll(".row--current"),(e=>V(e,"row--current"))),(0,g.nextTick)()},clearRadioRow(){return u.selectRow=null,(0,g.nextTick)()},getCurrentRecord(){const t=ge.value;return t.isCurrent||e.highlightCurrentRow?u.currentRow:null},getRadioRecord(t){const{treeConfig:o}=e,{fullDataRowIdData:n,afterFullData:l}=d,{selectRow:r}=u,i=Ye.value;if(r){const e=re(ot,r);if(t){if(!n[e])return r}else if(o){const t=le(ot),o=a().findTree(l,(o=>e===a().get(o,t)),i);if(o)return r}else if(ot.findRowIndexOf(l,r)>-1)return r}return null},getCurrentColumn(){const t=he.value;return t.isCurrent||e.highlightCurrentColumn?u.currentColumn:null},setCurrentColumn(e){const t=ae(ot,e);return t&&(m.clearCurrentColumn(),u.currentColumn=t),(0,g.nextTick)()},clearCurrentColumn(){return u.currentColumn=null,(0,g.nextTick)()},sort(e,t){const o=Ie.value,{multiple:n,remote:l,orders:r}=o;return e&&a().isString(e)&&(e=[{field:e,order:t}]),a().isArray(e)||(e=[e]),e.length?(n||ft(),(n?e:[e[0]]).forEach(((e,t)=>{let{field:o,order:n}=e,l=o;a().isString(o)&&(l=m.getColumnByField(o)),l&&l.sortable&&(-1===r.indexOf(n)&&(n=lt(l)),l.order!==n&&(l.order=n),l.sortTime=Date.now()+t)})),l||h.handleTableData(!0),(0,g.nextTick)().then(Tt)):(0,g.nextTick)()},clearSort(e){const t=Ie.value;if(e){const t=ae(ot,e);t&&(t.order=null)}else ft();return t.remote||h.handleTableData(!0),(0,g.nextTick)().then(Tt)},isSort(e){if(e){const t=ae(ot,e);return!!t&&(t.sortable&&!!t.order)}return m.getSortColumns().length>0},getSortColumns(){const e=Ie.value,{multiple:t,chronological:o}=e,n=[],{tableFullColumn:l}=d;return l.forEach((e=>{const{field:t,order:o}=e;e.sortable&&o&&n.push({column:e,field:t,property:t,order:o,sortTime:e.sortTime})})),t&&o&&n.length>1?a().orderBy(n,"sortTime"):n},closeFilter(){const{filterStore:e}=u,{column:t,visible:o}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),o&&ot.dispatchEvent("filter-visible",{column:t,property:t.field,field:t.field,filterList:ot.getCheckedFilters(),visible:!1},null),(0,g.nextTick)()},isFilter(e){const t=ae(ot,e);return t?t.filters&&t.filters.some((e=>e.checked)):ot.getCheckedFilters().length>0},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=d,o=t[re(ot,e)];return o&&!!o.expandLoaded},clearRowExpandLoaded(e){const{expandLazyLoadeds:t}=u,{fullAllDataRowIdData:o}=d,n=Ue.value,{lazy:l}=n,r=o[re(ot,e)];return l&&r&&(r.expandLoaded=!1,a().remove(t,(t=>ot.eqRow(t,e)))),(0,g.nextTick)()},reloadRowExpand(e){const{expandLazyLoadeds:t}=u,o=Ue.value,{lazy:n}=o;return n&&-1===ot.findRowIndexOf(t,e)&&m.clearRowExpandLoaded(e).then((()=>_t(e))),(0,g.nextTick)()},reloadExpandContent(e){return p("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),m.reloadRowExpand(e)},toggleRowExpand(e){return m.setRowExpand(e,!m.isExpandByRow(e))},setAllRowExpand(e){const t=Ue.value;return m.setRowExpand(t.lazy?u.tableData:d.tableFullData,e)},setRowExpand(e,t){let{rowExpandeds:o,expandLazyLoadeds:n,expandColumn:l}=u;const{fullAllDataRowIdData:r}=d,i=Ue.value,{reserve:s,lazy:c,accordion:p,toggleMethod:f}=i,h=[],g=m.getColumnIndex(l),v=m.getVMColumnIndex(l);if(e){a().isArray(e)||(e=[e]),p&&(o=[],e=e.slice(e.length-1,e.length));const i=f?e.filter((e=>f({$table:ot,expanded:t,column:l,columnIndex:g,$columnIndex:v,row:e,rowIndex:m.getRowIndex(e),$rowIndex:m.getVMRowIndex(e)}))):e;t?i.forEach((e=>{if(-1===ot.findRowIndexOf(o,e)){const t=r[re(ot,e)],l=c&&!t.expandLoaded&&-1===ot.findRowIndexOf(n,e);l?h.push(_t(e)):o.push(e)}})):a().remove(o,(e=>ot.findRowIndexOf(i,e)>-1)),s&&i.forEach((e=>Ht(e,t)))}return u.rowExpandeds=o,Promise.all(h).then((()=>m.recalculate()))},isExpandByRow(e){const{rowExpandeds:t}=u;return ot.findRowIndexOf(t,e)>-1},clearRowExpand(){const{rowExpandeds:e}=u,{tableFullData:t}=d,o=Ue.value,{reserve:n}=o,l=e.length;return u.rowExpandeds=[],n&&t.forEach((e=>Ht(e,!1))),(0,g.nextTick)().then((()=>{l&&m.recalculate()}))},clearRowExpandReserve(){return d.rowExpandedReserveRowMap={},(0,g.nextTick)()},getRowExpandRecords(){return u.rowExpandeds.slice(0)},getTreeExpandRecords(){return u.treeExpandeds.slice(0)},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=d,o=t[re(ot,e)];return o&&!!o.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandeds:t}=u,{fullAllDataRowIdData:o}=d,n=Ye.value,{transform:l,lazy:r}=n,i=o[re(ot,e)];return r&&i&&(i.treeLoaded=!1,a().remove(t,(t=>ot.eqRow(t,e)))),l?(yt(),h.handleTableData()):(0,g.nextTick)()},reloadTreeExpand(e){const{treeLazyLoadeds:t}=u,o=Ye.value,{transform:n,lazy:l,hasChild:r}=o;return l&&e[r]&&-1===ot.findRowIndexOf(t,e)&&m.clearTreeExpandLoaded(e).then((()=>Vt(e))).then((()=>{if(n)return yt(),h.handleTableData()})).then((()=>m.recalculate())),(0,g.nextTick)()},reloadTreeChilds(e){return p("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),m.reloadTreeExpand(e)},toggleTreeExpand(e){return m.setTreeExpand(e,!m.isTreeExpandByRow(e))},setAllTreeExpand(e){const{tableFullData:t}=d,o=Ye.value,{transform:n,lazy:l,children:r}=o,i=[];return a().eachTree(t,(e=>{const t=e[r];(l||t&&t.length)&&i.push(e)}),o),m.setTreeExpand(i,e).then((()=>{if(n)return yt(),m.recalculate()}))},setTreeExpand(e,t){const o=Ye.value,{transform:n}=o;return e&&(a().isArray(e)||(e=[e]),e.length)?n?lo(e,t):no(e,t):(0,g.nextTick)()},isTreeExpandByRow(e){const{treeExpandeds:t}=u;return ot.findRowIndexOf(t,e)>-1},clearTreeExpand(){const{treeExpandeds:e}=u,{tableFullTreeData:t}=d,o=Ye.value,{transform:n,reserve:l}=o,r=e.length;return u.treeExpandeds=[],l&&a().eachTree(t,(e=>jt(e,!1)),o),h.handleTableData().then((()=>{if(n)return yt(),h.handleTableData()})).then((()=>{if(r)return m.recalculate()}))},clearTreeExpandReserve(){return d.treeExpandedReserveRowMap={},(0,g.nextTick)()},getScroll(){const{scrollXLoad:e,scrollYLoad:t}=u,o=D.value,n=o.$el;return{virtualX:e,virtualY:t,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}},scrollTo(e,t){const o=D.value,n=N.value,l=Y.value,r=o?o.$el:null,i=l?l.$el:null,s=n?n.$el:null;return a().isNumber(e)&&W(s||r,e),a().isNumber(t)&&z(i||r,t),u.scrollXLoad||u.scrollYLoad?new Promise((e=>{setTimeout((()=>{(0,g.nextTick)((()=>{e()}))}),50)})):(0,g.nextTick)()},scrollToRow(t,o){const n=[];return t&&(e.treeConfig?n.push(h.scrollToTreeRow(t)):n.push(Te(ot,t))),o&&n.push(m.scrollToColumn(o)),Promise.all(n)},scrollToColumn(e){const{fullColumnIdData:t}=d,o=ae(ot,e);return o&&t[o.id]?Ee(ot,o):(0,g.nextTick)()},clearScroll(){const{scrollXStore:e,scrollYStore:t}=d,o=D.value,n=N.value,l=Y.value,r=o?o.$el:null,a=l?l.$el:null,i=n?n.$el:null;return a&&(oe(a),a.scrollTop=0),i&&(i.scrollLeft=0),r&&(oe(r),r.scrollTop=0,r.scrollLeft=0),e.startIndex=0,t.startIndex=0,(0,g.nextTick)()},updateFooter(){const{showFooter:t,footerMethod:o}=e,{visibleColumn:n,afterFullData:l}=d;return t&&o&&(u.footerTableData=n.length?o({columns:n,data:l,$table:ot,$grid:te}):[]),(0,g.nextTick)()},updateStatus(t,o){const n=!a().isUndefined(o);return(0,g.nextTick)().then((()=>{const{editRules:l}=e,{validStore:r}=u,a=D.value;if(t&&a&&l){const{row:e,column:l}=t,a="change";if(ot.hasCellRules&&ot.hasCellRules(a,e,l)){const t=h.getCell(e,l);if(t)return ot.validCellRules(a,e,l,o).then((()=>{n&&r.visible&&fe(e,l,o),ot.clearValidate()})).catch((({rule:r})=>{n&&fe(e,l,o),ot.showValidTooltip({rule:r,row:e,column:l,cell:t})}))}}}))},setMergeCells(t){return e.spanMethod&&f("vxe.error.errConflicts",["merge-cells","span-method"]),dt(t,u.mergeList,d.afterFullData),(0,g.nextTick)().then((()=>m.updateCellAreas()))},removeMergeCells(t){e.spanMethod&&f("vxe.error.errConflicts",["merge-cells","span-method"]);const o=pt(t,u.mergeList,d.afterFullData);return(0,g.nextTick)().then((()=>(m.updateCellAreas(),o)))},getMergeCells(){return u.mergeList.slice(0)},clearMergeCells(){return u.mergeList=[],(0,g.nextTick)()},setMergeFooterItems(t){return e.footerSpanMethod&&f("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),dt(t,u.mergeFooterList),(0,g.nextTick)().then((()=>m.updateCellAreas()))},removeMergeFooterItems(t){e.footerSpanMethod&&f("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=pt(t,u.mergeFooterList);return(0,g.nextTick)().then((()=>(m.updateCellAreas(),o)))},getMergeFooterItems(){return u.mergeFooterList.slice(0)},clearMergeFooterItems(){return u.mergeFooterList=[],(0,g.nextTick)()},updateCellAreas(){const{mouseConfig:t}=e,o=De.value;return t&&o.area&&ot.handleUpdateCellAreas?ot.handleUpdateCellAreas():(0,g.nextTick)()},focus(){return d.isActivated=!0,(0,g.nextTick)()},blur(){return d.isActivated=!1,(0,g.nextTick)()},connect(e){return e?(ie=e,ie.syncUpdate({collectColumn:d.collectColumn,$table:ot})):f("vxe.error.barUnableLink"),(0,g.nextTick)()}};const po=t=>{const{editStore:o,ctxMenuStore:n,filterStore:l}=u,{mouseConfig:r}=e,a=v.value,i=$e.value,{actived:s}=o,c=y.value,p=C.value,f=$.value;if(p&&(U(t,a,"vxe-cell--filter").flag||U(t,p.$el).flag||U(t,document.body,"vxe-table--ignore-clear").flag||h.preventEvent(t,"event.clearFilter",l.args,m.closeFilter)),s.row){if(!1!==i.autoClear){const o=s.args.cell;o&&U(t,o).flag||c&&U(t,c.$el).flag||(!d._lastCallTime||d._lastCallTime+50<Date.now())&&(U(t,document.body,"vxe-table--ignore-clear").flag||h.preventEvent(t,"event.clearActived",s.args,(()=>{let o;if("row"===i.mode){const e=U(t,a,"vxe-body--row"),n=e.flag?m.getRowNode(e.targetElem):null;o=!!n&&!ot.eqRow(n.item,s.args.row)}else o=!U(t,a,"col--edit").flag;if(o||(o=U(t,a,"vxe-header--row").flag),o||(o=U(t,a,"vxe-footer--row").flag),!o&&e.height&&!u.overflowY){const e=t.target;F(e,"vxe-table--body-wrapper")&&(o=t.offsetY<e.clientHeight)}!o&&U(t,a).flag||setTimeout((()=>ot.clearEdit(t)))})))}}else r&&(U(t,a).flag||te&&U(t,te.getRefMaps().refElem.value).flag||f&&U(t,f.getRefMaps().refElem.value).flag||ie&&U(t,ie.getRefMaps().refElem.value).flag||(ot.clearSelected(),ot.clearCellAreas&&(U(t,document.body,"vxe-table--ignore-areas-clear").flag||h.preventEvent(t,"event.clearAreas",{},(()=>{ot.clearCellAreas(),ot.clearCopyCellArea()})))));ot.closeMenu&&n.visible&&f&&!U(t,f.getRefMaps().refElem.value).flag&&ot.closeMenu(),d.isActivated=U(t,te?te.getRefMaps().refElem.value:a).flag},fo=()=>{m.closeFilter(),ot.closeMenu&&ot.closeMenu()},mo=()=>{m.closeTooltip(),ot.closeMenu&&ot.closeMenu()},go=t=>{const{mouseConfig:o,keyboardConfig:n}=e,{filterStore:l,ctxMenuStore:r,editStore:a}=u,i=De.value,s=Le.value,{actived:c}=a,d=Zt(t,Yt.ESCAPE);d&&h.preventEvent(t,"event.keydown",null,(()=>{if(m.dispatchEvent("keydown-start",{},t),n&&o&&i.area&&ot.handleKeyboardEvent)ot.handleKeyboardEvent(t);else if((c.row||l.visible||r.visible)&&(t.stopPropagation(),ot.closeMenu&&ot.closeMenu(),m.closeFilter(),n&&s.isEsc&&c.row)){const e=c.args;ot.clearEdit(t),i.selected&&(0,g.nextTick)((()=>ot.handleSelected(e,t)))}m.dispatchEvent("keydown",{},t),m.dispatchEvent("keydown-end",{},t)}))},vo=t=>{d.isActivated&&h.preventEvent(t,"event.keydown",null,(()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:l,editConfig:r,highlightCurrentRow:i}=e,{ctxMenuStore:s,editStore:c,currentRow:p}=u,f=He.value,v=je.value,x=Le.value,b=De.value,y=$e.value,C=Ye.value,T=Be.value,E=ge.value,{selected:R,actived:k}=c,O=t.keyCode,$=Zt(t,Yt.ESCAPE),I=Zt(t,Yt.BACKSPACE),M=Zt(t,Yt.TAB),D=Zt(t,Yt.ENTER),N=Zt(t,Yt.SPACEBAR),L=Zt(t,Yt.ARROW_LEFT),A=Zt(t,Yt.ARROW_UP),P=Zt(t,Yt.ARROW_RIGHT),F=Zt(t,Yt.ARROW_DOWN),V=Zt(t,Yt.DELETE),j=Zt(t,Yt.F2),_=Zt(t,Yt.CONTEXT_MENU),H=t.metaKey,B=t.ctrlKey,z=t.shiftKey,W=t.altKey,q=L||A||P||F,U=f&&s.visible&&(D||N||q),Y=w(r)&&k.column&&k.row;let X;if(U)t.preventDefault(),s.showChild&&S(s.selected)?ot.moveCtxMenu(t,s,"selectChild",L,!1,s.selected.children):ot.moveCtxMenu(t,s,"selected",P,!0,T);else if(n&&o&&b.area&&ot.handleKeyboardEvent)ot.handleKeyboardEvent(t);else if($){if(ot.closeMenu&&ot.closeMenu(),m.closeFilter(),n&&x.isEsc&&k.row){const e=k.args;ot.clearEdit(t),b.selected&&(0,g.nextTick)((()=>ot.handleSelected(e,t)))}}else if(N&&n&&x.isChecked&&R.row&&R.column&&("checkbox"===R.column.type||"radio"===R.column.type))t.preventDefault(),"checkbox"===R.column.type?h.handleToggleCheckRowEvent(t,R.args):h.triggerRadioRowEvent(t,R.args);else if(j&&w(r))Y||R.row&&R.column&&(t.preventDefault(),ot.handleActived(R.args,t));else if(_)d._keyCtx=R.row&&R.column&&v.length,clearTimeout(co),co=setTimeout((()=>{d._keyCtx=!1}),1e3);else if(D&&!W&&n&&x.isEnter&&(R.row||k.row||l&&(E.isCurrent||i)&&p)){if(B)k.row&&(X=k.args,ot.clearEdit(t),b.selected&&(0,g.nextTick)((()=>ot.handleSelected(X,t))));else if(R.row||k.row){const e=R.row?R.args:k.args;z?x.enterToTab?ot.moveTabSelected(e,z,t):ot.moveSelected(e,L,!0,P,!1,t):x.enterToTab?ot.moveTabSelected(e,z,t):ot.moveSelected(e,L,!1,P,!0,t)}else if(l&&(E.isCurrent||i)&&p){const e=p[C.children];if(e&&e.length){t.preventDefault();const o=e[0];X={$table:ot,row:o,rowIndex:m.getRowIndex(o),$rowIndex:m.getVMRowIndex(o)},m.setTreeExpand(p,!0).then((()=>m.scrollToRow(o))).then((()=>h.triggerCurrentRowEvent(t,X)))}}}else if(q&&n&&x.isArrow)Y||(R.row&&R.column?ot.moveSelected(R.args,L,A,P,F,t):(A||F)&&(E.isCurrent||i)&&ot.moveCurrentRow(A,F,t));else if(M&&n&&x.isTab)R.row||R.column?ot.moveTabSelected(R.args,z,t):(k.row||k.column)&&ot.moveTabSelected(k.args,z,t);else if(n&&w(r)&&(V||(l&&(E.isCurrent||i)&&p?I&&x.isArrow:I))){if(!Y){const{delMethod:e,backMethod:o}=x;if(x.isDel&&(R.row||R.column))e?e({row:R.row,rowIndex:m.getRowIndex(R.row),column:R.column,columnIndex:m.getColumnIndex(R.column),$table:ot}):fe(R.row,R.column,null),I?o?o({row:R.row,rowIndex:m.getRowIndex(R.row),column:R.column,columnIndex:m.getColumnIndex(R.column),$table:ot}):ot.handleActived(R.args,t):V&&m.updateFooter();else if(I&&x.isArrow&&l&&(E.isCurrent||i)&&p){const{parent:e}=a().findTree(d.afterFullData,(e=>e===p),C);e&&(t.preventDefault(),X={$table:ot,row:e,rowIndex:m.getRowIndex(e),$rowIndex:m.getVMRowIndex(e)},m.setTreeExpand(e,!1).then((()=>m.scrollToRow(e))).then((()=>h.triggerCurrentRowEvent(t,X))))}}}else if(n&&w(r)&&x.isEdit&&!B&&!H&&(N||O>=48&&O<=57||O>=65&&O<=90||O>=96&&O<=111||O>=186&&O<=192||O>=219&&O<=222)){const{editMethod:e}=x;if(R.column&&R.row&&w(R.column.editRender)){const o=y.beforeEditMethod||y.activeMethod;o&&!o({...R.args,$table:ot})||(e?e({row:R.row,rowIndex:m.getRowIndex(R.row),column:R.column,columnIndex:m.getColumnIndex(R.column),$table:ot,$grid:te}):(fe(R.row,R.column,null),ot.handleActived(R.args,t)))}}m.dispatchEvent("keydown",{},t)}))},xo=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:l,filterStore:r}=u,{isActivated:a}=d,i=De.value,s=Le.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||o&&s.isClip&&n&&i.area&&ot.handlePasteCellAreaEvent&&ot.handlePasteCellAreaEvent(t),m.dispatchEvent("paste",{},t))},bo=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:l,filterStore:r}=u,{isActivated:a}=d,i=De.value,s=Le.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||o&&s.isClip&&n&&i.area&&ot.handleCopyCellAreaEvent&&ot.handleCopyCellAreaEvent(t),m.dispatchEvent("copy",{},t))},wo=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:l,filterStore:r}=u,{isActivated:a}=d,i=De.value,s=Le.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||o&&s.isClip&&n&&i.area&&ot.handleCutCellAreaEvent&&ot.handleCutCellAreaEvent(t),m.dispatchEvent("cut",{},t))},yo=()=>{ot.closeMenu&&ot.closeMenu(),m.updateCellAreas(),m.recalculate(!0)},Co=e=>{const t=x.value;clearTimeout(d.tooltipTimeout),e?m.closeTooltip():t&&t.setActived(!0)},To=(e,t,o,n,l)=>{l.cell=t;const{tooltipStore:r}=u,i=Se.value,{column:s,row:c}=l,{showAll:d,contentMethod:p}=i,f=p?p(l):null,m=p&&!a().eqNull(f),h=m?f:a().toString("html"===s.type?o.innerText:o.textContent).trim(),v=o.scrollWidth>o.clientWidth;return h&&(d||m||v)&&(Object.assign(r,{row:c,column:s,visible:!0,currOpts:null}),(0,g.nextTick)((()=>{const e=x.value;e&&e.open(v?o:n||o,k(h))}))),(0,g.nextTick)()};h={getSetupOptions(){return c},updateAfterDataIndex:wt,callSlot(e,t){if(e){if(te)return te.callSlot(e,t);if(a().isFunction(e))return Re(e(t))}return[]},getParentElem(){const e=v.value;if(te){const e=te.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,o=v.value;if(o){const e=o.parentNode,n="auto"===t?B(e):0;return Math.floor(te?te.getParentHeight():a().toNumber(getComputedStyle(e).height)-n)}return 0},getExcludeHeight(){return te?te.getExcludeHeight():0},defineField(t){const{treeConfig:o}=e,n=Ue.value,l=Ye.value,r=we.value,i=ye.value,s=le(ot);d.tableFullColumn.forEach((e=>{const{field:o,editRender:n}=e;if(o&&!a().has(t,o)&&!t[o]){let l=null;if(n){const{defaultValue:t}=n;a().isFunction(t)?l=t({column:e}):a().isUndefined(t)||(l=t)}a().set(t,o,l)}}));const c=[r.labelField,i.checkField,i.labelField,n.labelField];return c.forEach((e=>{e&&O(a().get(t,e))&&a().set(t,e,null)})),o&&l.lazy&&a().isUndefined(t[l.children])&&(t[l.children]=null),O(a().get(t,s))&&a().set(t,s,ne()),t},handleTableData(e){const{scrollYLoad:t}=u,{scrollYStore:o,fullDataRowIdData:n}=d;let l=d.afterFullData;e&&(Ct(),l=yt());const r=t?l.slice(o.startIndex,o.endIndex):l.slice(0);return r.forEach(((e,t)=>{const o=re(ot,e),l=n[o];l&&(l.$index=t)})),u.tableData=r,(0,g.nextTick)()},cacheRowMap(t){const{treeConfig:o}=e,n=Ye.value;let{fullDataRowIdData:l,fullAllDataRowIdData:r,tableFullData:i,tableFullTreeData:s}=d;const c=le(ot),u=o&&n.lazy,p=(e,i,s,d,p,f)=>{let m=re(ot,e);const h=o&&d?de(d):i+1,g=f?f.length-1:0;O(m)&&(m=ne(),a().set(e,c,m)),u&&e[n.hasChild]&&a().isUndefined(e[n.children])&&(e[n.children]=null);const v={row:e,rowid:m,seq:h,index:o&&p?-1:i,_index:-1,$index:-1,items:s,parent:p,level:g};t&&(l[m]=v),r[m]=v};t&&(l=d.fullDataRowIdData={}),r=d.fullAllDataRowIdData={},o?a().eachTree(s,p,n):i.forEach(p)},analyColumnWidth(){const{tableFullColumn:e}=d,t=he.value,{width:o,minWidth:n}=t,l=[],r=[],a=[],i=[],s=[],c=[];e.forEach((e=>{o&&!e.width&&(e.width=o),n&&!e.minWidth&&(e.minWidth=n),e.visible&&(e.resizeWidth?l.push(e):A(e.width)?r.push(e):P(e.width)?i.push(e):A(e.minWidth)?a.push(e):P(e.minWidth)?s.push(e):c.push(e))})),Object.assign(u.columnStore,{resizeList:l,pxList:r,pxMinList:a,scaleList:i,scaleMinList:s,autoList:c})},saveCustomResizable(t){const{id:o,customConfig:n}=e,l=Ze.value,{collectColumn:r}=d,{storage:i}=l,s=!0===i||i&&i.resizable;if(n&&s){const e=rt(ca);let n;if(!o)return void f("vxe.error.reqProp",["id"]);t||(n=a().isPlainObject(e[o])?e[o]:{},a().eachTree(r,(e=>{if(e.resizeWidth){const t=e.getKey();t&&(n[t]=e.renderWidth)}}))),e[o]=a().isEmpty(n)?void 0:n,localStorage.setItem(ca,a().toJSONString(e))}},saveCustomVisible(){const{id:t,customConfig:o}=e,{collectColumn:n}=d,l=Ze.value,{checkMethod:r,storage:i}=l,s=!0===i||i&&i.visible;if(o&&s){const e=rt(ua),o=[],l=[];if(!t)return void f("vxe.error.reqProp",["id"]);a().eachTree(n,(e=>{if(!r||r({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&o.push(t)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&l.push(t)}})),e[t]=[o.join(",")].concat(l.length?[l.join(",")]:[]).join("|")||void 0,localStorage.setItem(ua,a().toJSONString(e))}},handleCustom(){return h.saveCustomVisible(),h.analyColumnWidth(),m.refreshColumn()},preventEvent(e,t,o,n,l){const r=Lt.interceptor.get(t);let a;return r.some((t=>!1===t(Object.assign({$grid:te,$table:ot,$event:e},o))))||n&&(a=n()),l&&l(),a},checkSelectionStatus(){const{treeConfig:t}=e,{selection:o,treeIndeterminates:n}=u,{afterFullData:l}=d,r=ye.value,{checkField:i,halfField:s,checkStrictly:c,checkMethod:p}=r;if(!c){const e=[],r=[];let c=!1,d=!1,f=!1;i?(c=l.every(p?t=>p({row:t})?!!a().get(t,i)&&(r.push(t),!0):(e.push(t),!0):e=>a().get(e,i)),d=c&&l.length!==e.length,f=t?s?!d&&l.some((e=>a().get(e,i)||a().get(e,s)||ot.findRowIndexOf(n,e)>-1)):!d&&l.some((e=>a().get(e,i)||ot.findRowIndexOf(n,e)>-1)):s?!d&&l.some((e=>a().get(e,i)||a().get(e,s))):!d&&l.some((e=>a().get(e,i)))):(c=l.every(p?t=>p({row:t})?ot.findRowIndexOf(o,t)>-1&&(r.push(t),!0):(e.push(t),!0):e=>ot.findRowIndexOf(o,e)>-1),d=c&&l.length!==e.length,f=t?!d&&l.some((e=>ot.findRowIndexOf(n,e)>-1||ot.findRowIndexOf(o,e)>-1)):!d&&l.some((e=>ot.findRowIndexOf(o,e)>-1))),u.isAllSelected=d,u.isIndeterminate=f}},handleSelectRow({row:t},o,n){const{treeConfig:l}=e,{selection:r,treeIndeterminates:i}=u,{afterFullData:s}=d,c=Ye.value,p=ye.value,{checkField:f,checkStrictly:m,checkMethod:g}=p;if(f)if(l&&!m){-1===o?(-1===ot.findRowIndexOf(i,t)&&i.push(t),a().set(t,f,!1)):a().eachTree([t],(e=>{(ot.eqRow(e,t)||n||!g||g({row:e}))&&(a().set(e,f,o),a().remove(i,(t=>ot.eqRow(t,e))),Mt(t,o))}),c);const e=a().findTree(s,(e=>ot.eqRow(e,t)),c);if(e&&e.parent){let t;const l=!n&&g?e.items.filter((e=>g({row:e}))):e.items,r=a().find(e.items,(e=>ot.findRowIndexOf(i,e)>-1));if(r)t=-1;else{const n=e.items.filter((e=>a().get(e,f)));t=n.filter((e=>ot.findRowIndexOf(l,e)>-1)).length===l.length||!(!n.length&&-1!==o)&&-1}return h.handleSelectRow({row:e.parent},t,n)}}else(n||!g||g({row:t}))&&(a().set(t,f,o),Mt(t,o));else if(l&&!m){-1===o?(-1===ot.findRowIndexOf(i,t)&&i.push(t),a().remove(r,(e=>ot.eqRow(e,t)))):a().eachTree([t],(e=>{(ot.eqRow(e,t)||n||!g||g({row:e}))&&(o?r.push(e):a().remove(r,(t=>ot.eqRow(t,e))),a().remove(i,(t=>ot.eqRow(t,e))),Mt(t,o))}),c);const e=a().findTree(s,(e=>ot.eqRow(e,t)),c);if(e&&e.parent){let t;const l=!n&&g?e.items.filter((e=>g({row:e}))):e.items,s=a().find(e.items,(e=>ot.findRowIndexOf(i,e)>-1));if(s)t=-1;else{const n=e.items.filter((e=>ot.findRowIndexOf(r,e)>-1));t=n.filter((e=>ot.findRowIndexOf(l,e)>-1)).length===l.length||!(!n.length&&-1!==o)&&-1}return h.handleSelectRow({row:e.parent},t,n)}}else(n||!g||g({row:t}))&&(o?-1===ot.findRowIndexOf(r,t)&&r.push(t):a().remove(r,(e=>ot.eqRow(e,t))),Mt(t,o));h.checkSelectionStatus()},triggerHeaderHelpEvent(e,t){const{column:o}=t,n=o.titlePrefix||o.titleHelp;if(n.content||n.message){const{tooltipStore:t}=u,o=R(n.content||n.message);Co(!0),t.visible=!0,t.currOpts={...n,content:null},(0,g.nextTick)((()=>{const t=x.value;t&&t.open(e.currentTarget,o)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:o}=u,{column:n}=t,l=e.currentTarget;Co(!0),o.column===n&&o.visible||To(e,l,l,null,t)},triggerBodyTooltipEvent(t,o){const{editConfig:n}=e,{editStore:l}=u,{tooltipStore:r}=u,a=$e.value,{actived:i}=l,{row:s,column:c}=o,d=t.currentTarget;if(Co(r.column!==c||r.row!==s),c.editRender&&w(n)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){let e,n;c.treeNode?(e=d.querySelector(".vxe-tree-cell"),"html"===c.type&&(n=d.querySelector(".vxe-cell--html"))):n=d.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),To(t,d,e||d.children[0],n,o)}},triggerFooterTooltipEvent(e,t){const{column:o}=t,{tooltipStore:n}=u,l=e.currentTarget;Co(n.column!==o||n.row),n.column===o&&n.visible||To(e,l,l.querySelector(".vxe-cell--item")||l.children[0],null,t)},handleTargetLeaveEvent(){const e=Se.value;let t=x.value;t&&t.setActived(!1),e.enterable?d.tooltipTimeout=setTimeout((()=>{t=x.value,t&&!t.isActived()&&m.closeTooltip()}),e.leaveDelay):m.closeTooltip()},triggerHeaderCellClickEvent(t,o){const{_lastResizeTime:n}=d,l=Ie.value,r=he.value,{column:a}=o,i=t.currentTarget,s=n&&n>Date.now()-300,c=U(t,i,"vxe-cell--sort").flag,u=U(t,i,"vxe-cell--filter").flag;"cell"!==l.trigger||s||c||u||h.triggerSortEvent(t,a,lt(a)),m.dispatchEvent("header-cell-click",Object.assign({triggerResizable:s,triggerSort:c,triggerFilter:u,cell:i},o),t),(r.isCurrent||e.highlightCurrentColumn)&&m.setCurrentColumn(a)},triggerHeaderCellDblclickEvent(e,t){m.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,o){const{highlightCurrentRow:n,editConfig:l}=e,{editStore:r}=u,a=Ue.value,i=$e.value,s=Ye.value,c=we.value,d=ye.value,p=ge.value,{actived:f}=r,{row:g,column:v}=o,{type:x,treeNode:b}=v,y="radio"===x,C="checkbox"===x,T="expand"===x,E=t.currentTarget,S=y&&U(t,E,"vxe-cell--radio").flag,R=C&&U(t,E,"vxe-cell--checkbox").flag,k=b&&U(t,E,"vxe-tree--btn-wrapper").flag,O=T&&U(t,E,"vxe-table--expanded").flag;o=Object.assign({cell:E,triggerRadio:S,triggerCheckbox:R,triggerTreeNode:k,triggerExpandNode:O},o),R||S||(!O&&("row"===a.trigger||T&&"cell"===a.trigger)&&h.triggerRowExpandEvent(t,o),("row"===s.trigger||b&&"cell"===s.trigger)&&h.triggerTreeExpandEvent(t,o)),k||(O||((p.isCurrent||n)&&(R||S||h.triggerCurrentRowEvent(t,o)),!S&&("row"===c.trigger||y&&"cell"===c.trigger)&&h.triggerRadioRowEvent(t,o),!R&&("row"===d.trigger||C&&"cell"===d.trigger)&&h.handleToggleCheckRowEvent(t,o)),w(l)&&("manual"===i.trigger?f.args&&f.row===g&&v!==f.column&&St(t,o):f.args&&g===f.row&&v===f.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&f.row===g)&&St(t,o))),m.dispatchEvent("cell-click",o,t)},triggerCellDblclickEvent(t,o){const{editConfig:n}=e,{editStore:l}=u,r=$e.value,{actived:a}=l,i=t.currentTarget;o=Object.assign({cell:i},o),w(n)&&"dblclick"===r.trigger&&(a.args&&t.currentTarget===a.args.cell||("row"===r.mode?Et("blur").catch((e=>e)).then((()=>{ot.handleActived(o,t).then((()=>Et("change"))).catch((e=>e))})):"cell"===r.mode&&ot.handleActived(o,t).then((()=>Et("change"))).catch((e=>e)))),m.dispatchEvent("cell-dblclick",o,t)},handleToggleCheckRowEvent(e,t){const{selection:o}=u,n=ye.value,{checkField:l}=n,{row:r}=t,i=l?!a().get(r,l):-1===ot.findRowIndexOf(o,r);e?h.triggerCheckRowEvent(e,t,i):h.handleSelectRow(t,i)},triggerCheckRowEvent(e,t,o){const n=ye.value,{checkMethod:l}=n;l&&!l({row:t.row})||(h.handleSelectRow(t,o),m.dispatchEvent("checkbox-change",Object.assign({records:m.getCheckboxRecords(),reserves:m.getCheckboxReserveRecords(),indeterminates:m.getCheckboxIndeterminateRecords(),checked:o},t),e))},triggerCheckAllEvent(e,t){At(t),e&&m.dispatchEvent("checkbox-all",{records:m.getCheckboxRecords(),reserves:m.getCheckboxReserveRecords(),indeterminates:m.getCheckboxIndeterminateRecords(),checked:t},e)},triggerRadioRowEvent(e,t){const{selectRow:o}=u,{row:n}=t,l=we.value;let r=n,a=o!==r;a?Dt(r):l.strict||(a=o===r,a&&(r=null,m.clearRadioRow())),a&&m.dispatchEvent("radio-change",{oldValue:o,newValue:r,...t},e)},triggerCurrentRowEvent(e,t){const{currentRow:o}=u,{row:n}=t,l=o!==n;m.setCurrentRow(n),l&&m.dispatchEvent("current-change",{oldValue:o,newValue:n,...t},e)},triggerRowExpandEvent(e,t){const{expandLazyLoadeds:o,expandColumn:n}=u,l=Ue.value,{row:r}=t,{lazy:a}=l;if(!a||-1===ot.findRowIndexOf(o,r)){const t=!m.isExpandByRow(r),o=m.getColumnIndex(n),l=m.getVMColumnIndex(n);m.setRowExpand(r,t),m.dispatchEvent("toggle-row-expand",{expanded:t,column:n,columnIndex:o,$columnIndex:l,row:r,rowIndex:m.getRowIndex(r),$rowIndex:m.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeLazyLoadeds:o}=u,n=Ye.value,{row:l,column:r}=t,{lazy:a}=n;if(!a||-1===ot.findRowIndexOf(o,l)){const t=!m.isTreeExpandByRow(l),o=m.getColumnIndex(r),n=m.getVMColumnIndex(r);m.setTreeExpand(l,t),m.dispatchEvent("toggle-tree-expand",{expanded:t,column:r,columnIndex:o,$columnIndex:n,row:l},e)}},triggerSortEvent(e,t,o){const n=Ie.value,{field:l,sortable:r}=t;if(r){o&&t.order!==o?m.sort({field:l,order:o}):m.clearSort(n.multiple?t:null);const r={column:t,field:l,property:l,order:t.order,sortList:m.getSortColumns()};m.dispatchEvent("sort-change",r,e)}},triggerScrollXEvent(){Kt()},triggerScrollYEvent(e){const{scrollYStore:t}=d,{adaptive:o,offsetSize:n,visibleSize:l}=t;sa&&o&&2*n+l<=40?ro(e):so(e)},scrollToTreeRow(t){const{treeConfig:o}=e,{tableFullData:n}=d,l=[];if(o){const e=Ye.value,o=a().findTree(n,(e=>ot.eqRow(e,t)),e);if(o){const e=o.nodes;e.forEach(((t,o)=>{o<e.length-1&&!m.isTreeExpandByRow(t)&&l.push(m.setTreeExpand(t,!0))}))}}return Promise.all(l).then((()=>Te(ot,t)))},updateScrollXSpace(){const{isGroup:e,scrollXLoad:t,scrollbarWidth:o}=u,{visibleColumn:n,scrollXStore:l,elemStore:r,tableWidth:a}=d,i=I.value,s=D.value,c=N.value,p=s?s.$el:null;if(p){const s=i?i.$el:null,u=c?c.$el:null,d=s?s.querySelector(".vxe-table--header"):null,f=p.querySelector(".vxe-table--body"),m=u?u.querySelector(".vxe-table--footer"):null,h=n.slice(0,l.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";t&&(v=`${h}px`),d&&(d.style.marginLeft=e?"":v),f.style.marginLeft=v,m&&(m.style.marginLeft=v);const x=["main"];x.forEach((e=>{const n=["header","body","footer"];n.forEach((n=>{const l=r[`${e}-${n}-xSpace`],i=l?l.value:null;i&&(i.style.width=t?`${a+("header"===n?o:0)}px`:"")}))})),(0,g.nextTick)(Tt)}},updateScrollYSpace(){const{scrollYLoad:e}=u,{scrollYStore:t,elemStore:o,afterFullData:n}=d,{startIndex:l,rowHeight:r}=t,a=n.length*r,i=Math.max(0,l*r),s=["main","left","right"];let c="",p="";e&&(c=`${i}px`,p=`${a}px`),s.forEach((e=>{const t=["header","body","footer"],n=o[`${e}-body-table`],l=n?n.value:null;l&&(l.style.marginTop=c),t.forEach((t=>{const n=o[`${e}-${t}-ySpace`],l=n?n.value:null;l&&(l.style.height=p)}))})),(0,g.nextTick)(Tt)},updateScrollXData(){(0,g.nextTick)((()=>{Gt(),h.updateScrollXSpace()}))},updateScrollYData(){(0,g.nextTick)((()=>{h.handleTableData(),h.updateScrollYSpace()}))},checkScrolling(){const e=G.value,t=K.value,o=D.value,n=o?o.$el:null;n&&(e&&(n.scrollLeft>0?j(e,"scrolling--middle"):V(e,"scrolling--middle")),t&&(n.clientWidth<n.scrollWidth-Math.ceil(n.scrollLeft)?j(t,"scrolling--middle"):V(t,"scrolling--middle")))},updateZindex(){e.zIndex?d.tZindex=e.zIndex:d.tZindex<E()&&(d.tZindex=T())},triggerHoverEvent(e,{row:t}){h.setHoverRow(t)},setHoverRow(e){const t=re(ot,e),o=v.value;h.clearHoverRow(),o&&a().arrayEach(o.querySelectorAll(`[rowid="${t}"]`),(e=>j(e,"row--hover"))),d.hoverRow=e},clearHoverRow(){const e=v.value;e&&a().arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>V(e,"row--hover"))),d.hoverRow=null},getCell(e,t){const o=re(ot,e),n=D.value,l=_.value,r=Y.value;let a;return t.fixed&&("left"===t.fixed?l&&(a=l.$el):r&&(a=r.$el)),a||(a=n.$el),a?a.querySelector(`.vxe-body--row[rowid="${o}"] .${t.id}`):null},getCellLabel(e,t){const o=t.formatter,n=pe(e,t);let l=n;if(o){let r;const{fullAllDataRowIdData:i}=d,s=re(ot,e),c=t.id,u=i[s];if(u&&(r=u.formatData,r||(r=i[s].formatData={}),u&&r[c]&&r[c].value===n))return r[c].label;const p={cellValue:n,row:e,rowIndex:m.getRowIndex(e),column:t,columnIndex:m.getColumnIndex(t)};if(a().isString(o)){const e=Lt.formats.get(o);l=e?e(p):""}else if(a().isArray(o)){const e=Lt.formats.get(o[0]);l=e?e(p,...o.slice(1)):""}else l=o(p);r&&(r[c]={value:n,label:l})}return l},findRowIndexOf(e,t){return t?a().findIndexOf(e,(e=>ot.eqRow(e,t))):-1},eqRow(e,t){return!(!e||!t)&&(e===t||re(ot,e)===re(ot,t))}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach((e=>{ot[e]=function(){f("vxe.error.reqModule",["Export"])}})),"clearValidate,fullValidate,validate".split(",").forEach((e=>{ot[e]=function(){f("vxe.error.reqModule",["Validator"])}})),Object.assign(ot,m,h);const Eo=t=>{const{showHeader:o,showFooter:n}=e,{tableData:l,tableColumn:r,tableGroupColumn:a,columnStore:i,footerTableData:s}=u,c="left"===t,d=c?i.leftList:i.rightList;return(0,g.h)("div",{ref:c?G:K,class:`vxe-table--fixed-${t}-wrapper`},[o?(0,g.h)(oa,{ref:c?L:q,fixedType:t,tableData:l,tableColumn:r,tableGroupColumn:a,fixedColumn:d}):(0,g.createCommentVNode)(),(0,g.h)(Kr,{ref:c?_:Y,fixedType:t,tableData:l,tableColumn:r,fixedColumn:d}),n?(0,g.h)(ia,{ref:c?H:X,footerTableData:s,tableColumn:r,fixedColumn:d,fixedType:t}):(0,g.createCommentVNode)()])},So=()=>{const t=Xe.value,n={$table:ot};if(o.empty)return o.empty(n);{const e=t.name?Lt.renderer.get(t.name):null,o=e?e.renderEmpty:null;if(o)return Re(o(t,n))}return R(e.emptyText)||c.i18n("vxe.table.emptyText")};function Ro(){const e=v.value;e&&e.clientWidth&&e.clientHeight&&m.recalculate()}const ko=(0,g.ref)(0);(0,g.watch)((()=>e.data?e.data.length:-1),(()=>{ko.value++})),(0,g.watch)((()=>e.data),(()=>{ko.value++})),(0,g.watch)(ko,(()=>{const{inited:t,initStatus:o}=d;qt(e.data||[]).then((()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:l}=u;d.inited=!0,d.initStatus=!0,o||Ut(),t||Xt();{const t=ye.value,o=d.tableFullColumn.find((e=>"checkbox"===e.type));o&&d.tableFullData.length>300&&!t.checkField&&p("vxe.error.checkProp",["checkbox-config.checkField"]),(e||n)&&l&&p("vxe.error.scrollErrProp",["column.type=expand"])}m.recalculate()}))}));const Oo=(0,g.ref)(0);(0,g.watch)((()=>u.staticColumns.length),(()=>{Oo.value++})),(0,g.watch)((()=>u.staticColumns),(()=>{Oo.value++})),(0,g.watch)(Oo,(()=>{to(u.staticColumns)}));const $o=(0,g.ref)(0);(0,g.watch)((()=>u.tableColumn.length),(()=>{$o.value++})),(0,g.watch)((()=>u.tableColumn),(()=>{$o.value++})),(0,g.watch)($o,(()=>{h.analyColumnWidth()})),(0,g.watch)((()=>e.showHeader),(()=>{(0,g.nextTick)((()=>{m.recalculate(!0).then((()=>m.refreshScroll()))}))})),(0,g.watch)((()=>e.showFooter),(()=>{(0,g.nextTick)((()=>{m.recalculate(!0).then((()=>m.refreshScroll()))}))})),(0,g.watch)((()=>e.height),(()=>{(0,g.nextTick)((()=>m.recalculate(!0)))})),(0,g.watch)((()=>e.maxHeight),(()=>{(0,g.nextTick)((()=>m.recalculate(!0)))})),(0,g.watch)((()=>e.syncResize),(e=>{e&&(Ro(),(0,g.nextTick)((()=>{Ro(),setTimeout((()=>Ro()))})))}));const Io=(0,g.ref)(0);(0,g.watch)((()=>e.mergeCells?e.mergeCells.length:-1),(()=>{Io.value++})),(0,g.watch)((()=>e.mergeCells),(()=>{Io.value++})),(0,g.watch)(Io,(()=>{m.clearMergeCells(),(0,g.nextTick)((()=>{e.mergeCells&&m.setMergeCells(e.mergeCells)}))}));const Mo=(0,g.ref)(0);let Do;(0,g.watch)((()=>e.mergeFooterItems?e.mergeFooterItems.length:-1),(()=>{Mo.value++})),(0,g.watch)((()=>e.mergeFooterItems),(()=>{Mo.value++})),(0,g.watch)(Mo,(()=>{m.clearMergeFooterItems(),(0,g.nextTick)((()=>{e.mergeFooterItems&&m.setMergeFooterItems(e.mergeFooterItems)}))})),Lt.hooks.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(ot);e&&a().isObject(e)&&Object.assign(ot,e)}})),h.preventEvent(null,"created",{$table:ot}),(0,g.onActivated)((()=>{m.recalculate().then((()=>m.refreshScroll())),h.preventEvent(null,"activated",{$table:ot})})),(0,g.onDeactivated)((()=>{d.isActivated=!1,h.preventEvent(null,"deactivated",{$table:ot})})),(0,g.onMounted)((()=>{(0,g.nextTick)((()=>{const{data:t,treeConfig:o,showOverflow:n}=e,{scrollXStore:l,scrollYStore:r}=d,i=ue.value,s=$e.value,c=Ye.value,u=we.value,g=ye.value,x=Ue.value,b=ge.value;{e.rowId||b.keyField||!(g.reserve||g.checkRowKeys||u.reserve||u.checkRowKey||x.expandRowKeys||c.expandRowKeys)||p("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(s.showStatus||s.showUpdateStatus||s.showInsertStatus)&&!e.keepSource&&p("vxe.error.reqProp",["keep-source"]),!o||!c.line||(e.rowKey||b.useKey)&&n||p("vxe.error.reqProp",["row-config.useKey | show-overflow"]),o&&e.stripe&&p("vxe.error.noTree",["stripe"]),e.showFooter&&!e.footerMethod&&p("vxe.error.reqProp",["footer-method"]);const{exportConfig:t,importConfig:l}=e,r=ze.value,i=We.value;l&&i.types&&!i.importMethod&&!a().includeArrays(Lt.config.importTypes,i.types)&&p("vxe.error.errProp",[`export-config.types=${i.types.join(",")}`,i.types.filter((e=>a().includes(Lt.config.importTypes,e))).join(",")||Lt.config.importTypes.join(",")]),t&&r.types&&!r.exportMethod&&!a().includeArrays(Lt.config.exportTypes,r.types)&&p("vxe.error.errProp",[`export-config.types=${r.types.join(",")}`,r.types.filter((e=>a().includes(Lt.config.exportTypes,e))).join(",")||Lt.config.exportTypes.join(",")])}{const t=Ze.value,o=De.value,n=ge.value;if(!e.id&&e.customConfig&&(!0===t.storage||t.storage&&t.storage.resizable||t.storage&&t.storage.visible)&&f("vxe.error.reqProp",["id"]),e.treeConfig&&g.range&&f("vxe.error.noTree",["checkbox-config.range"]),n.height&&!e.showOverflow&&p("vxe.error.notProp",["table.show-overflow"]),!ot.handleUpdateCellAreas&&(e.clipConfig&&p("vxe.error.notProp",["clip-config"]),e.fnrConfig&&p("vxe.error.notProp",["fnr-config"]),o.area))return void f("vxe.error.notProp",["mouse-config.area"]);o.area&&o.selected&&p("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),o.area&&g.range&&p("vxe.error.errConflicts",["mouse-config.area","checkbox-config.range"]),e.treeConfig&&o.area&&f("vxe.error.noTree",["mouse-config.area"])}if(e.editConfig&&!ot.insert&&f("vxe.error.reqModule",["Edit"]),e.editRules&&!ot.validate&&f("vxe.error.reqModule",["Validator"]),(g.range||e.keyboardConfig||e.mouseConfig)&&!ot.triggerCellMousedownEvent&&f("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!ot.exportData&&f("vxe.error.reqModule",["Export"]),Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==i.adaptive}),Object.assign(l,{startIndex:0,endIndex:0,visibleSize:0}),qt(t||[]).then((()=>{t&&t.length&&(d.inited=!0,d.initStatus=!0,Ut(),Xt()),Tt()})),e.autoResize){const t=ve.value,o=v.value,n=h.getParentElem();Do=Hr(t.refreshDelay?a().throttle((()=>{m.recalculate(!0)}),t.refreshDelay,{leading:!0,trailing:!0}):()=>{e.autoResize&&m.recalculate(!0)}),o&&Do.observe(o),n&&Do.observe(n)}})),Qt.on(ot,"paste",xo),Qt.on(ot,"copy",bo),Qt.on(ot,"cut",wo),Qt.on(ot,"mousedown",po),Qt.on(ot,"blur",fo),Qt.on(ot,"mousewheel",mo),Qt.on(ot,"keydown",vo),Qt.on(ot,"resize",yo),ot.handleGlobalContextmenuEvent&&Qt.on(ot,"contextmenu",ot.handleGlobalContextmenuEvent),h.preventEvent(null,"mounted",{$table:ot})})),(0,g.onBeforeUnmount)((()=>{Do&&Do.disconnect(),m.closeFilter(),ot.closeMenu&&ot.closeMenu(),h.preventEvent(null,"beforeUnmount",{$table:ot})})),(0,g.onUnmounted)((()=>{Qt.off(ot,"paste"),Qt.off(ot,"copy"),Qt.off(ot,"cut"),Qt.off(ot,"mousedown"),Qt.off(ot,"blur"),Qt.off(ot,"mousewheel"),Qt.off(ot,"keydown"),Qt.off(ot,"resize"),Qt.off(ot,"contextmenu"),h.preventEvent(null,"unmounted",{$table:ot})}));const No=()=>{const{loading:t,stripe:n,showHeader:a,height:s,treeConfig:c,mouseConfig:d,showFooter:p,highlightCell:f,highlightHoverRow:m,highlightHoverColumn:h,editConfig:w}=e,{isGroup:T,overflowX:E,overflowY:S,scrollXLoad:R,scrollYLoad:k,scrollbarHeight:O,tableData:M,tableColumn:L,tableGroupColumn:A,footerTableData:P,initStore:F,columnStore:V,filterStore:j}=u,{leftList:_,rightList:H}=V,B=o.loading,z=ke.value,W=Ye.value,q=ge.value,U=he.value,Y=i.value,X=Je.value,G=De.value,K=se.value,Q=Oe.value,ee=Ge.value,te=He.value;return(0,g.h)("div",{ref:v,class:["vxe-table","vxe-table--render-default",`tid_${r}`,`border--${X}`,{[`size--${Y}`]:Y,"vxe-editable":!!w,"cell--highlight":f,"cell--selected":d&&G.selected,"cell--area":d&&G.area,"row--highlight":q.isHover||m,"column--highlight":U.isHover||h,"is--header":a,"is--footer":p,"is--group":T,"is--tree-line":c&&W.line,"is--fixed-left":_.length,"is--fixed-right":H.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!c&&n,"is--loading":t,"is--empty":!t&&!M.length,"is--scroll-y":S,"is--scroll-x":E,"is--virtual-x":R,"is--virtual-y":k}],onKeydown:go},[(0,g.h)("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),(0,g.h)("div",{class:"vxe-table--render-wrapper"},[(0,g.h)("div",{class:"vxe-table--main-wrapper"},[a?(0,g.h)(oa,{ref:I,tableData:M,tableColumn:L,tableGroupColumn:A}):(0,g.createCommentVNode)(),(0,g.h)(Kr,{ref:D,tableData:M,tableColumn:L}),p?(0,g.h)(ia,{ref:N,footerTableData:P,tableColumn:L}):(0,g.createCommentVNode)()]),(0,g.h)("div",{class:"vxe-table--fixed-wrapper"},[_&&_.length&&E?Eo("left"):(0,g.createCommentVNode)(),H&&H.length&&E?Eo("right"):(0,g.createCommentVNode)()])]),(0,g.h)("div",{ref:J,class:"vxe-table--empty-placeholder"},[(0,g.h)("div",{class:"vxe-table--empty-content"},So())]),(0,g.h)("div",{class:"vxe-table--border-line"}),(0,g.h)("div",{ref:Z,class:"vxe-table--resizable-bar",style:E?{"padding-bottom":`${O}px`}:null}),(0,g.h)(ho,{class:"vxe-table--loading",modelValue:t,icon:ee.icon,text:ee.text},B?{default:()=>B({})}:{}),F.filter?(0,g.h)((0,g.resolveComponent)("vxe-table-filter"),{ref:C,filterStore:j}):(0,g.createCommentVNode)(),F.import&&e.importConfig?(0,g.h)((0,g.resolveComponent)("vxe-import-panel"),{defaultOptions:u.importParams,storeData:u.importStore}):(0,g.createCommentVNode)(),F.export&&(e.exportConfig||e.printConfig)?(0,g.h)((0,g.resolveComponent)("vxe-export-panel"),{defaultOptions:u.exportParams,storeData:u.exportStore}):(0,g.createCommentVNode)(),te?(0,g.h)((0,g.resolveComponent)("vxe-table-context-menu"),{ref:$}):(0,g.createCommentVNode)(),l?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{ref:b,isArrow:!1,enterable:!1}):(0,g.createCommentVNode)(),l&&e.editRules&&K.showMessage&&("default"===K.message?!s:"tooltip"===K.message)?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{ref:y,class:"vxe-table--valid-error",..."tooltip"===K.message||1===M.length?Q:{}}):(0,g.createCommentVNode)(),l?(0,g.h)((0,g.resolveComponent)("vxe-tooltip"),{ref:x,...z}):(0,g.createCommentVNode)()])};return ot.renderVN=No,(0,g.provide)("xecolgroup",null),(0,g.provide)("$xetable",ot),ot},render(){return this.renderVN()}});const pa=Object.assign(da,{install:function(e){e.component(da.name,da)}}),fa=pa;Bt.component(da.name,da);var ma={vxe:{loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，固定列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 被覆盖，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"还原"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",prevPage:"上一页",nextPage:"下一页",prevJump:"向上跳页",nextJump:"向下跳页"},alert:{title:"消息提示"},button:{confirm:"确认",cancel:"取消"},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"还原"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}}}};const ha=[Wt,no,so,Cn,kn,Nn,Pn,Un,Gn,nl,al,cl,dl,ml,gl,xl,yl,Tl,kl,$l,_l,zl,cr,fr,gr,xr,kr,Ir,Nr,zr,Ur,pa];function ga(e,t){a().isPlainObject(t)&&St(t),ha.forEach((t=>t.install(e)))}St({i18n:(e,t)=>a().toFormatString(a().get(ma,e),t)});var va=e,xa=va}(),r}()}));