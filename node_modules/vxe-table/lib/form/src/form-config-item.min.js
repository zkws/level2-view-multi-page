"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_utils=require("../../tools/utils"),_vn=require("../../tools/vn"),_render=require("./render"),_util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},VxeFormConfigItem=(0,_vue.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig:Object},setup:function(w){var y=(0,_vue.inject)("$xeform",{}),e={itemConfig:w.itemConfig};(0,_vue.provide)("$xeformiteminfo",e),(0,_vue.provide)("$xeformgather",null);return{renderVN:function(){var e=y.reactData,t=y.props,i=t.data,l=t.rules,n=t.span,r=t.align,o=t.titleAlign,s=t.titleWidth,u=t.titleColon,a=t.titleAsterisk,t=t.titleOverflow,d=y.getComputeMaps().computeValidOpts,f=w.itemConfig,e=e.collapseAll,d=d.value,c=f.slots,v=f.title,_=f.visible,m=f.folding,g=f.field,x=f.collapseNode,p=f.itemRender,h=f.showError,C=f.errRule,N=f.className,q=f.titleOverflow,U=f.children,F=(0,_utils.isEnableConf)(p)?_vXETable.VXETable.renderer.get(p.name):null,O=F?F.itemClassName:"",V=c?c.default:null,c=c?c.title:null,n=f.span||n,r=f.align||r,o=_xeUtils.default.eqNull(f.titleAlign)?o:f.titleAlign,s=_xeUtils.default.eqNull(f.titleWidth)?s:f.titleWidth,u=_xeUtils.default.eqNull(f.titleColon)?u:f.titleColon,a=_xeUtils.default.eqNull(f.titleAsterisk)?a:f.titleAsterisk,t=_xeUtils.default.isUndefined(q)||_xeUtils.default.isNull(q)?t:q,q="title"===t,b=!0===t||"tooltip"===t,t=q||b||"ellipsis"===t,T={data:i,field:g,property:g,item:f,$form:y,$grid:y.xegrid};return!1===_?(0,_vue.createCommentVNode)():(_=!1,l&&(l=l[g])&&(_=l.some(function(e){return e.required})),U&&0<U.length?(l=U.map(function(e,t){return(0,_vue.h)(VxeFormConfigItem,{key:t,itemConfig:e})})).length?(0,_vue.h)("div",{class:["vxe-form--gather vxe-row",f.id,n?"vxe-col--".concat(n," is--span"):"",N?_xeUtils.default.isFunction(N)?N(T):N:""]},l):(0,_vue.createCommentVNode)():(U=[],V?U=y.callSlot(V,T):F&&F.renderItemContent?U=(0,_vn.getSlotVNs)(F.renderItemContent(p,T)):g&&(U=[_xeUtils.default.toValueString(_xeUtils.default.get(i,g))]),x&&U.push((0,_vue.h)("div",{class:"vxe-form--item-trigger-node",onClick:y.toggleCollapseEvent},[(0,_vue.h)("span",{class:"vxe-form--item-trigger-text"},e?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),(0,_vue.h)("i",{class:["vxe-form--item-trigger-icon",e?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})])),C&&d.showMessage&&U.push((0,_vue.h)("div",{class:"vxe-form--item-valid",style:C.maxWidth?{width:"".concat(C.maxWidth,"px")}:null},C.content)),l=b?{onMouseenter:function(e){y.triggerTitleTipEvent(e,T)},onMouseleave:y.handleTitleTipLeaveEvent}:{},(0,_vue.h)("div",{class:["vxe-form--item",f.id,n?"vxe-col--".concat(n," is--span"):"",N?_xeUtils.default.isFunction(N)?N(T):N:"",O?_xeUtils.default.isFunction(O)?O(T):O:"",{"is--title":v,"is--colon":u,"is--asterisk":a,"is--required":_,"is--hidden":m&&e,"is--active":(0,_util.isActivetem)(y,f),"is--error":h}]},[(0,_vue.h)("div",{class:"vxe-form--item-inner"},[v||c?(0,_vue.h)("div",__assign({class:["vxe-form--item-title",o?"align--".concat(o):null,{"is--ellipsis":t}],style:s?{width:isNaN(s)?s:"".concat(s,"px")}:null,title:q?(0,_utils.getFuncText)(v):null},l),(0,_render.renderTitle)(y,f)):null,(0,_vue.h)("div",{class:["vxe-form--item-content",r?"align--".concat(r):null]},U)])])))}}},render:function(){return this.renderVN()}}),_default=VxeFormConfigItem;exports.default=_default;